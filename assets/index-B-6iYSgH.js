(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Dd={exports:{}},_l={};var U_;function kb(){if(U_)return _l;U_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var L_;function Ub(){return L_||(L_=1,Dd.exports=kb()),Dd.exports}var k=Ub(),xd={exports:{}},bt={};var P_;function Lb(){if(P_)return bt;P_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.iterator;function G(x){return x===null||typeof x!="object"?null:(x=O&&x[O]||x["@@iterator"],typeof x=="function"?x:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,W={};function ft(x,K,nt){this.props=x,this.context=K,this.refs=W,this.updater=nt||J}ft.prototype.isReactComponent={},ft.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},ft.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function vt(){}vt.prototype=ft.prototype;function dt(x,K,nt){this.props=x,this.context=K,this.refs=W,this.updater=nt||J}var Xt=dt.prototype=new vt;Xt.constructor=dt,it(Xt,ft.prototype),Xt.isPureReactComponent=!0;var Zt=Array.isArray;function It(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(x,K,nt){var st=nt.ref;return{$$typeof:r,type:x,key:K,ref:st!==void 0?st:null,props:nt}}function V(x,K){return R(x.type,K,x.props)}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function M(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(nt){return K[nt]})}var w=/\/+/g;function ae(x,K){return typeof x=="object"&&x!==null&&x.key!=null?M(""+x.key):K.toString(36)}function fe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(It,It):(x.status="pending",x.then(function(K){x.status==="pending"&&(x.status="fulfilled",x.value=K)},function(K){x.status==="pending"&&(x.status="rejected",x.reason=K)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function H(x,K,nt,st,yt){var St=typeof x;(St==="undefined"||St==="boolean")&&(x=null);var Ot=!1;if(x===null)Ot=!0;else switch(St){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(x.$$typeof){case r:case t:Ot=!0;break;case b:return Ot=x._init,H(Ot(x._payload),K,nt,st,yt)}}if(Ot)return yt=yt(x),Ot=st===""?"."+ae(x,0):st,Zt(yt)?(nt="",Ot!=null&&(nt=Ot.replace(w,"$&/")+"/"),H(yt,K,nt,"",function(Pi){return Pi})):yt!=null&&(D(yt)&&(yt=V(yt,nt+(yt.key==null||x&&x.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Ot)),K.push(yt)),1;Ot=0;var ve=st===""?".":st+":";if(Zt(x))for(var oe=0;oe<x.length;oe++)st=x[oe],St=ve+ae(st,oe),Ot+=H(st,K,nt,St,yt);else if(oe=G(x),typeof oe=="function")for(x=oe.call(x),oe=0;!(st=x.next()).done;)st=st.value,St=ve+ae(st,oe++),Ot+=H(st,K,nt,St,yt);else if(St==="object"){if(typeof x.then=="function")return H(fe(x),K,nt,st,yt);throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function et(x,K,nt){if(x==null)return x;var st=[],yt=0;return H(x,st,"","",function(St){return K.call(nt,St,yt++)}),st}function ut(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(nt){(x._status===0||x._status===-1)&&(x._status=1,x._result=nt)},function(nt){(x._status===0||x._status===-1)&&(x._status=2,x._result=nt)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var Nt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ft={map:et,forEach:function(x,K,nt){et(x,function(){K.apply(this,arguments)},nt)},count:function(x){var K=0;return et(x,function(){K++}),K},toArray:function(x){return et(x,function(K){return K})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return bt.Activity=A,bt.Children=Ft,bt.Component=ft,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=dt,bt.StrictMode=a,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,bt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},bt.cache=function(x){return function(){return x.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(x,K,nt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var st=it({},x.props),yt=x.key;if(K!=null)for(St in K.key!==void 0&&(yt=""+K.key),K)!S.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(st[St]=K[St]);var St=arguments.length-2;if(St===1)st.children=nt;else if(1<St){for(var Ot=Array(St),ve=0;ve<St;ve++)Ot[ve]=arguments[ve+2];st.children=Ot}return R(x.type,yt,st)},bt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},bt.createElement=function(x,K,nt){var st,yt={},St=null;if(K!=null)for(st in K.key!==void 0&&(St=""+K.key),K)S.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=K[st]);var Ot=arguments.length-2;if(Ot===1)yt.children=nt;else if(1<Ot){for(var ve=Array(Ot),oe=0;oe<Ot;oe++)ve[oe]=arguments[oe+2];yt.children=ve}if(x&&x.defaultProps)for(st in Ot=x.defaultProps,Ot)yt[st]===void 0&&(yt[st]=Ot[st]);return R(x,St,yt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(x){return{$$typeof:p,render:x}},bt.isValidElement=D,bt.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:ut}},bt.memo=function(x,K){return{$$typeof:_,type:x,compare:K===void 0?null:K}},bt.startTransition=function(x){var K=I.T,nt={};I.T=nt;try{var st=x(),yt=I.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(It,Nt)}catch(St){Nt(St)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),I.T=K}},bt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},bt.use=function(x){return I.H.use(x)},bt.useActionState=function(x,K,nt){return I.H.useActionState(x,K,nt)},bt.useCallback=function(x,K){return I.H.useCallback(x,K)},bt.useContext=function(x){return I.H.useContext(x)},bt.useDebugValue=function(){},bt.useDeferredValue=function(x,K){return I.H.useDeferredValue(x,K)},bt.useEffect=function(x,K){return I.H.useEffect(x,K)},bt.useEffectEvent=function(x){return I.H.useEffectEvent(x)},bt.useId=function(){return I.H.useId()},bt.useImperativeHandle=function(x,K,nt){return I.H.useImperativeHandle(x,K,nt)},bt.useInsertionEffect=function(x,K){return I.H.useInsertionEffect(x,K)},bt.useLayoutEffect=function(x,K){return I.H.useLayoutEffect(x,K)},bt.useMemo=function(x,K){return I.H.useMemo(x,K)},bt.useOptimistic=function(x,K){return I.H.useOptimistic(x,K)},bt.useReducer=function(x,K,nt){return I.H.useReducer(x,K,nt)},bt.useRef=function(x){return I.H.useRef(x)},bt.useState=function(x){return I.H.useState(x)},bt.useSyncExternalStore=function(x,K,nt){return I.H.useSyncExternalStore(x,K,nt)},bt.useTransition=function(){return I.H.useTransition()},bt.version="19.2.3",bt}var z_;function wm(){return z_||(z_=1,xd.exports=Lb()),xd.exports}var Yt=wm(),Od={exports:{}},vl={},Vd={exports:{}},Md={};var j_;function Pb(){return j_||(j_=1,(function(r){function t(H,et){var ut=H.length;H.push(et);t:for(;0<ut;){var Nt=ut-1>>>1,Ft=H[Nt];if(0<l(Ft,et))H[Nt]=et,H[ut]=Ft,ut=Nt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var et=H[0],ut=H.pop();if(ut!==et){H[0]=ut;t:for(var Nt=0,Ft=H.length,x=Ft>>>1;Nt<x;){var K=2*(Nt+1)-1,nt=H[K],st=K+1,yt=H[st];if(0>l(nt,ut))st<Ft&&0>l(yt,nt)?(H[Nt]=yt,H[st]=ut,Nt=st):(H[Nt]=nt,H[K]=ut,Nt=K);else if(st<Ft&&0>l(yt,ut))H[Nt]=yt,H[st]=ut,Nt=st;else break t}}return et}function l(H,et){var ut=H.sortIndex-et.sortIndex;return ut!==0?ut:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,A=null,O=3,G=!1,J=!1,it=!1,W=!1,ft=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Xt(H){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=H)a(_),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(_)}}function Zt(H){if(it=!1,Xt(H),!J)if(i(y)!==null)J=!0,It||(It=!0,M());else{var et=i(_);et!==null&&fe(Zt,et.startTime-H)}}var It=!1,I=-1,S=5,R=-1;function V(){return W?!0:!(r.unstable_now()-R<S)}function D(){if(W=!1,It){var H=r.unstable_now();R=H;var et=!0;try{t:{J=!1,it&&(it=!1,vt(I),I=-1),G=!0;var ut=O;try{e:{for(Xt(H),A=i(y);A!==null&&!(A.expirationTime>H&&V());){var Nt=A.callback;if(typeof Nt=="function"){A.callback=null,O=A.priorityLevel;var Ft=Nt(A.expirationTime<=H);if(H=r.unstable_now(),typeof Ft=="function"){A.callback=Ft,Xt(H),et=!0;break e}A===i(y)&&a(y),Xt(H)}else a(y);A=i(y)}if(A!==null)et=!0;else{var x=i(_);x!==null&&fe(Zt,x.startTime-H),et=!1}}break t}finally{A=null,O=ut,G=!1}et=void 0}}finally{et?M():It=!1}}}var M;if(typeof dt=="function")M=function(){dt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ae=w.port2;w.port1.onmessage=D,M=function(){ae.postMessage(null)}}else M=function(){ft(D,0)};function fe(H,et){I=ft(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(H){switch(O){case 1:case 2:case 3:var et=3;break;default:et=O}var ut=O;O=et;try{return H()}finally{O=ut}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=O;O=H;try{return et()}finally{O=ut}},r.unstable_scheduleCallback=function(H,et,ut){var Nt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Nt+ut:Nt):ut=Nt,H){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ut+Ft,H={id:b++,callback:et,priorityLevel:H,startTime:ut,expirationTime:Ft,sortIndex:-1},ut>Nt?(H.sortIndex=ut,t(_,H),i(y)===null&&H===i(_)&&(it?(vt(I),I=-1):it=!0,fe(Zt,ut-Nt))):(H.sortIndex=Ft,t(y,H),J||G||(J=!0,It||(It=!0,M()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var et=O;return function(){var ut=O;O=et;try{return H.apply(this,arguments)}finally{O=ut}}}})(Md)),Md}var B_;function zb(){return B_||(B_=1,Vd.exports=Pb()),Vd.exports}var kd={exports:{}},en={};var q_;function jb(){if(q_)return en;q_=1;var r=wm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,b)},en.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},en.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},en.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},en.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:G}):b==="script"&&a.d.X(y,{crossOrigin:A,integrity:O,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},en.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},en.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},en.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},en.requestFormReset=function(y){a.d.r(y)},en.unstable_batchedUpdates=function(y,_){return y(_)},en.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.3",en}var H_;function Bb(){if(H_)return kd.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=jb(),kd.exports}var F_;function qb(){if(F_)return vl;F_=1;var r=zb(),t=wm(),i=Bb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Xt=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case ft:return"Profiler";case W:return"StrictMode";case Zt:return"Suspense";case It:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case dt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}var fe=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Nt=[],Ft=-1;function x(e){return{current:e}}function K(e){0>Ft||(e.current=Nt[Ft],Nt[Ft]=null,Ft--)}function nt(e,n){Ft++,Nt[Ft]=e.current,e.current=n}var st=x(null),yt=x(null),St=x(null),Ot=x(null);function ve(e,n){switch(nt(St,n),nt(yt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?r_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=r_(n),e=a_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),nt(st,e)}function oe(){K(st),K(yt),K(St)}function Pi(e){e.memoizedState!==null&&nt(Ot,e);var n=st.current,s=a_(n,e.type);n!==s&&(nt(yt,e),nt(st,s))}function zi(e){yt.current===e&&(K(st),K(yt)),Ot.current===e&&(K(Ot),ml._currentValue=ut)}var ji,Bi;function X(e){if(ji===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ji=n&&n[1]||"",Bi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ji+e+Bi}var Et=!1;function mt(e,n){if(!e||Et)return"";Et=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Et=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?X(s):""}function In(e,n){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==n&&n!==null?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return mt(e.type,!1);case 11:return mt(e.type.render,!1);case 1:return mt(e.type,!0);case 31:return X("Activity");default:return""}}function Ee(e){try{var n="",s=null;do n+=In(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Bt=Object.prototype.hasOwnProperty,jt=r.unstable_scheduleCallback,Gt=r.unstable_cancelCallback,ys=r.unstable_shouldYield,_s=r.unstable_requestPaint,Te=r.unstable_now,_r=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,vs=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,Wl=r.unstable_IdlePriority,tu=r.log,eu=r.unstable_setDisableYieldValue,Qn=null,Ge=null;function Nn(e){if(typeof tu=="function"&&eu(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Qn,e)}catch{}}var be=Math.clz32?Math.clz32:iu,nu=Math.log,sa=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/sa|0)|0}var ai=256,vr=262144,Ie=4194304;function oi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=oi(o):(g&=E,g!==0?h=oi(g):s||(s=E&~e,s!==0&&(h=oi(s))))):(E=o&~f,E!==0?h=oi(E):g!==0?h=oi(g):s||(s=o&~e,s!==0&&(h=oi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),e}function ui(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Er(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-be(s),Y=1<<F;E[F]=0,C[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&Tr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Tr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-be(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function vo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-be(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Eo(e,n){var s=n&-n;return s=(s&42)!==0?1:br(s),(s&(e.suspendedLanes|n))!==0?0:s}function br(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:N_(e.type))}function Yn(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var Xn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Xn,Be="__reactProps$"+Xn,ci="__reactContainer$"+Xn,ra="__reactEvents$"+Xn,kh="__reactListeners$"+Xn,au="__reactHandles$"+Xn,ou="__reactResources$"+Xn,hi="__reactMarker$"+Xn;function aa(e){delete e[Ne],delete e[Be],delete e[ra],delete e[kh],delete e[au]}function fi(e){var n=e[Ne];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ci]||s[Ne]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=d_(e);e!==null;){if(s=e[Ne])return s;e=d_(e)}return n}e=s,s=e.parentNode}return null}function Dn(e){if(e=e[Ne]||e[ci]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _n(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function di(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function De(e){e[hi]=!0}var To=new Set,bo={};function mi(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(bo[e]=n,e=0;e<n.length;e++)To.add(n[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},wo={};function lu(e){return Bt.call(wo,e)?!0:Bt.call(So,e)?!1:Ao.test(e)?wo[e]=!0:(So[e]=!0,!1)}function oa(e,n,s){if(lu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function vn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function xe(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Es(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=Es(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function Ar(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Es(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Sr=/[\n"\\]/g;function un(e){return e.replace(Sr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function la(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Co(e,g,qe(n)):s!=null?Co(e,g,qe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+qe(E):e.removeAttribute("name")}function uu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}s=s!=null?""+qe(s):"",n=n!=null?""+qe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Jt(e)}function Co(e,n,s){n==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ts(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+qe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,s){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+qe(s):""}function bs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(fe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=qe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Jt(e)}function cn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||hu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function No(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Io(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(e,f,n[f])}function ua(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(e){return As.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var Do=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,yi=null;function wr(e){var n=Dn(e);if(n&&(e=n.stateNode)){var s=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(la(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Be]||null;if(!h)throw Error(a(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Ar(o)}break t;case"textarea":cu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ts(e,!!s.multiple,n,!1)}}}var ha=!1;function ws(e,n,s){if(ha)return e(n,s);ha=!0;try{var o=e(n);return o}finally{if(ha=!1,(Ss!==null||yi!==null)&&(rc(),Ss&&(n=Ss,e=yi,yi=Ss=null,wr(n),e)))for(n=0;n<e.length;n++)wr(e[n])}}function Zn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Be]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(On)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Rr=!1}var _i=null,xo=null,Cr=null;function Oo(){if(Cr)return Cr;var e,n=xo,s=n.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Cr=h.slice(e,1<o?1-o:void 0)}function Ir(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function Jn(){return!1}function Qe(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:Jn,this.isPropagationStopped=Jn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Qe(Fi),Rs=A({},Fi,{view:0,detail:0}),Vo=Qe(Rs),Cs,fa,Ei,da=A({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Cs=e.screenX-Ei.screenX,fa=e.screenY-Ei.screenY):fa=Cs=0,Ei=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),Mo=Qe(da),Nr=A({},da,{dataTransfer:0}),du=Qe(Nr),mu=A({},Rs,{relatedTarget:0}),Dr=Qe(mu),ko=A({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Qe(ko),ma=A({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=Qe(ma),yu=A({},Fi,{data:0}),Ti=Qe(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function Is(){return Tu}var on=A({},Rs,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(e){return e.type==="keypress"?Ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=Qe(on),Au=A({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Qe(Au),u=A({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),m=Qe(u),v=A({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Qe(v),L=A({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Qe(L),tt=A({},Fi,{newState:0,oldState:0}),wt=Qe(tt),Ae=[9,13,27,32],Qt=On&&"CompositionEvent"in window,de=null;On&&"documentMode"in document&&(de=document.documentMode);var Vn=On&&"TextEvent"in window&&!de,bi=On&&(!Qt||de&&8<de&&11>=de),Wn=" ",ti=!1;function xr(e,n){switch(e){case"keyup":return Ae.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function r1(e,n){switch(e){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return e=n.data,e===Wn&&ti?null:e;default:return null}}function a1(e,n){if(pa)return e==="compositionend"||!Qt&&xr(e,n)?(e=Oo(),Cr=xo=_i=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var o1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!o1[e.type]:n==="textarea"}function yg(e,n,s,o){Ss?yi?yi.push(o):yi=[o]:Ss=o,n=fc(n,"onChange"),0<n.length&&(s=new vi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Uo=null,Lo=null;function l1(e){Wy(e,0)}function Su(e){var n=_n(e);if(Ar(n))return e}function _g(e,n){if(e==="change")return n}var vg=!1;if(On){var Uh;if(On){var Lh="oninput"in document;if(!Lh){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),Lh=typeof Eg.oninput=="function"}Uh=Lh}else Uh=!1;vg=Uh&&(!document.documentMode||9<document.documentMode)}function Tg(){Uo&&(Uo.detachEvent("onpropertychange",bg),Lo=Uo=null)}function bg(e){if(e.propertyName==="value"&&Su(Lo)){var n=[];yg(n,Lo,e,xn(e)),ws(l1,n)}}function u1(e,n,s){e==="focusin"?(Tg(),Uo=n,Lo=s,Uo.attachEvent("onpropertychange",bg)):e==="focusout"&&Tg()}function c1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Lo)}function h1(e,n){if(e==="click")return Su(n)}function f1(e,n){if(e==="input"||e==="change")return Su(n)}function d1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var En=typeof Object.is=="function"?Object.is:d1;function Po(e,n){if(En(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Bt.call(n,h)||!En(e[h],n[h]))return!1}return!0}function Ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sg(e,n){var s=Ag(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ag(s)}}function wg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?wg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=pi(e.document)}return n}function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var m1=On&&"documentMode"in document&&11>=document.documentMode,ya=null,zh=null,zo=null,jh=!1;function Cg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||ya==null||ya!==pi(o)||(o=ya,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Po(zo,o)||(zo=o,o=fc(zh,"onSelect"),0<o.length&&(n=new vi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ya)))}function Or(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var _a={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Bh={},Ig={};On&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Vr(e){if(Bh[e])return Bh[e];if(!_a[e])return e;var n=_a[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ig)return Bh[e]=n[s];return e}var Ng=Vr("animationend"),Dg=Vr("animationiteration"),xg=Vr("animationstart"),g1=Vr("transitionrun"),p1=Vr("transitionstart"),y1=Vr("transitioncancel"),Og=Vr("transitionend"),Vg=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function ei(e,n){Vg.set(e,n),mi(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],va=0,Hh=0;function Ru(){for(var e=va,n=Hh=va=0;n<e;){var s=Mn[n];Mn[n++]=null;var o=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Mg(s,h,f)}}function Cu(e,n,s,o){Mn[va++]=e,Mn[va++]=n,Mn[va++]=s,Mn[va++]=o,Hh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Fh(e,n,s,o){return Cu(e,n,s,o),Iu(e)}function Mr(e,n){return Cu(e,null,null,n),Iu(e)}function Mg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-be(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Iu(e){if(50<ol)throw ol=0,td=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ea={};function _1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,n,s,o){return new _1(e,n,s,o)}function Gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,n){var s=e.alternate;return s===null?(s=Tn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function kg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Gh(e)&&(g=1);else if(typeof e=="string")g=Ab(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Tn(31,s,n,h),e.elementType=R,e.lanes=f,e;case it:return kr(s.children,h,f,n);case W:g=8,h|=24;break;case ft:return e=Tn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case Zt:return e=Tn(13,s,n,h),e.elementType=Zt,e.lanes=f,e;case It:return e=Tn(19,s,n,h),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case vt:g=9;break t;case Xt:g=11;break t;case I:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Tn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function kr(e,n,s,o){return e=Tn(7,e,o,n),e.lanes=s,e}function Qh(e,n,s){return e=Tn(6,e,null,n),e.lanes=s,e}function Ug(e){var n=Tn(18,null,null,0);return n.stateNode=e,n}function Kh(e,n,s){return n=Tn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Lg=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var s=Lg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Ee(n)},Lg.set(e,n),n)}return{value:e,source:n,stack:Ee(n)}}var Ta=[],ba=0,Du=null,jo=0,Un=[],Ln=0,Ns=null,Ai=1,Si="";function Ki(e,n){Ta[ba++]=jo,Ta[ba++]=Du,Du=e,jo=n}function Pg(e,n,s){Un[Ln++]=Ai,Un[Ln++]=Si,Un[Ln++]=Ns,Ns=e;var o=Ai;e=Si;var h=32-be(o)-1;o&=~(1<<h),s+=1;var f=32-be(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ai=1<<32-be(n)+h|s<<h|o,Si=f+e}else Ai=1<<f|s<<h|o,Si=e}function Yh(e){e.return!==null&&(Ki(e,1),Pg(e,1,0))}function Xh(e){for(;e===Du;)Du=Ta[--ba],Ta[ba]=null,jo=Ta[--ba],Ta[ba]=null;for(;e===Ns;)Ns=Un[--Ln],Un[Ln]=null,Si=Un[--Ln],Un[Ln]=null,Ai=Un[--Ln],Un[Ln]=null}function zg(e,n){Un[Ln++]=Ai,Un[Ln++]=Si,Un[Ln++]=Ns,Ai=n.id,Si=n.overflow,Ns=e}var Ke=null,ue=null,Pt=!1,Ds=null,Pn=!1,$h=Error(a(519));function xs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(kn(n,e)),$h}function jg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ne]=e,n[Be]=o,s){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(s=0;s<ul.length;s++)xt(ul[s],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),bs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||i_(n.textContent,s)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||xs(e,!0)}function Bg(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ke=Ke.return}}function Aa(e){if(e!==Ke)return!1;if(!Pt)return Bg(e),Pt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||gd(e.type,e.memoizedProps)),s=!s),s&&ue&&xs(e),Bg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=f_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=f_(e)}else n===27?(n=ue,Gs(e.type)?(e=Ed,Ed=null,ue=e):ue=n):ue=Ke?jn(e.stateNode.nextSibling):null;return!0}function Ur(){ue=Ke=null,Pt=!1}function Zh(){var e=Ds;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),Ds=null),e}function Bo(e){Ds===null?Ds=[e]:Ds.push(e)}var Jh=x(null),Lr=null,Yi=null;function Os(e,n,s){nt(Jh,n._currentValue),n._currentValue=s}function Xi(e){e._currentValue=Jh.current,K(Jh)}function Wh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function tf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Wh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Sa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;En(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ot.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&tf(n,e,s,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pr(e){Lr=e,Yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return qg(Lr,e)}function Ou(e,n){return Lr===null&&Pr(e),qg(e,n)}function qg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Yi===null){if(e===null)throw Error(a(308));Yi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Yi=Yi.next=n;return s}var v1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},E1=r.unstable_scheduleCallback,T1=r.unstable_NormalPriority,Oe={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new v1,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&E1(T1,function(){e.controller.abort()})}var Ho=null,nf=0,wa=0,Ra=null;function b1(e,n){if(Ho===null){var s=Ho=[];nf=0,wa=ad(),Ra={status:"pending",value:void 0,then:function(o){s.push(o)}}}return nf++,n.then(Hg,Hg),n}function Hg(){if(--nf===0&&Ho!==null){Ra!==null&&(Ra.status="fulfilled");var e=Ho;Ho=null,wa=0,Ra=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function A1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Fg=H.S;H.S=function(e,n){Cy=Te(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&b1(e,n),Fg!==null&&Fg(e,n)};var zr=x(null);function sf(){var e=zr.current;return e!==null?e:re.pooledCache}function Vu(e,n){n===null?nt(zr,zr.current):nt(zr,n.pool)}function Gg(){var e=sf();return e===null?null:{parent:Oe._currentValue,pool:e}}var Ca=Error(a(460)),rf=Error(a(474)),Mu=Error(a(542)),ku={then:function(){}};function Qg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then($n,$n),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xg(e),e;default:if(typeof n.status=="string")n.then($n,$n);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xg(e),e}throw Br=n,Ca}}function jr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Br=s,Ca):s}}var Br=null;function Yg(){if(Br===null)throw Error(a(459));var e=Br;return Br=null,e}function Xg(e){if(e===Ca||e===Mu)throw Error(a(483))}var Ia=null,Fo=0;function Uu(e){var n=Fo;return Fo+=1,Ia===null&&(Ia=[]),Kg(Ia,e,n)}function Go(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function $g(e){function n(U,N){if(e){var P=U.deletions;P===null?(U.deletions=[N],U.flags|=16):P.push(N)}}function s(U,N){if(!e)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function o(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function h(U,N){return U=Qi(U,N),U.index=0,U.sibling=null,U}function f(U,N,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<N?(U.flags|=67108866,N):P):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,P,Q){return N===null||N.tag!==6?(N=Qh(P,U.mode,Q),N.return=U,N):(N=h(N,P),N.return=U,N)}function C(U,N,P,Q){var ct=P.type;return ct===it?F(U,N,P.props.children,Q,P.key):N!==null&&(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&jr(ct)===N.type)?(N=h(N,P.props),Go(N,P),N.return=U,N):(N=Nu(P.type,P.key,P.props,null,U.mode,Q),Go(N,P),N.return=U,N)}function z(U,N,P,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Kh(P,U.mode,Q),N.return=U,N):(N=h(N,P.children||[]),N.return=U,N)}function F(U,N,P,Q,ct){return N===null||N.tag!==7?(N=kr(P,U.mode,Q,ct),N.return=U,N):(N=h(N,P),N.return=U,N)}function Y(U,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Qh(""+N,U.mode,P),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case G:return P=Nu(N.type,N.key,N.props,null,U.mode,P),Go(P,N),P.return=U,P;case J:return N=Kh(N,U.mode,P),N.return=U,N;case S:return N=jr(N),Y(U,N,P)}if(fe(N)||M(N))return N=kr(N,U.mode,P,null),N.return=U,N;if(typeof N.then=="function")return Y(U,Uu(N),P);if(N.$$typeof===dt)return Y(U,Ou(U,N),P);Lu(U,N)}return null}function j(U,N,P,Q){var ct=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(U,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ct?C(U,N,P,Q):null;case J:return P.key===ct?z(U,N,P,Q):null;case S:return P=jr(P),j(U,N,P,Q)}if(fe(P)||M(P))return ct!==null?null:F(U,N,P,Q,null);if(typeof P.then=="function")return j(U,N,Uu(P),Q);if(P.$$typeof===dt)return j(U,N,Ou(U,P),Q);Lu(U,P)}return null}function q(U,N,P,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,E(N,U,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return U=U.get(Q.key===null?P:Q.key)||null,C(N,U,Q,ct);case J:return U=U.get(Q.key===null?P:Q.key)||null,z(N,U,Q,ct);case S:return Q=jr(Q),q(U,N,P,Q,ct)}if(fe(Q)||M(Q))return U=U.get(P)||null,F(N,U,Q,ct,null);if(typeof Q.then=="function")return q(U,N,P,Uu(Q),ct);if(Q.$$typeof===dt)return q(U,N,P,Ou(N,Q),ct);Lu(N,Q)}return null}function ot(U,N,P,Q){for(var ct=null,qt=null,lt=N,Ct=N=0,Mt=null;lt!==null&&Ct<P.length;Ct++){lt.index>Ct?(Mt=lt,lt=null):Mt=lt.sibling;var Ht=j(U,lt,P[Ct],Q);if(Ht===null){lt===null&&(lt=Mt);break}e&&lt&&Ht.alternate===null&&n(U,lt),N=f(Ht,N,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht,lt=Mt}if(Ct===P.length)return s(U,lt),Pt&&Ki(U,Ct),ct;if(lt===null){for(;Ct<P.length;Ct++)lt=Y(U,P[Ct],Q),lt!==null&&(N=f(lt,N,Ct),qt===null?ct=lt:qt.sibling=lt,qt=lt);return Pt&&Ki(U,Ct),ct}for(lt=o(lt);Ct<P.length;Ct++)Mt=q(lt,U,Ct,P[Ct],Q),Mt!==null&&(e&&Mt.alternate!==null&&lt.delete(Mt.key===null?Ct:Mt.key),N=f(Mt,N,Ct),qt===null?ct=Mt:qt.sibling=Mt,qt=Mt);return e&&lt.forEach(function($s){return n(U,$s)}),Pt&&Ki(U,Ct),ct}function gt(U,N,P,Q){if(P==null)throw Error(a(151));for(var ct=null,qt=null,lt=N,Ct=N=0,Mt=null,Ht=P.next();lt!==null&&!Ht.done;Ct++,Ht=P.next()){lt.index>Ct?(Mt=lt,lt=null):Mt=lt.sibling;var $s=j(U,lt,Ht.value,Q);if($s===null){lt===null&&(lt=Mt);break}e&&lt&&$s.alternate===null&&n(U,lt),N=f($s,N,Ct),qt===null?ct=$s:qt.sibling=$s,qt=$s,lt=Mt}if(Ht.done)return s(U,lt),Pt&&Ki(U,Ct),ct;if(lt===null){for(;!Ht.done;Ct++,Ht=P.next())Ht=Y(U,Ht.value,Q),Ht!==null&&(N=f(Ht,N,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht);return Pt&&Ki(U,Ct),ct}for(lt=o(lt);!Ht.done;Ct++,Ht=P.next())Ht=q(lt,U,Ct,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&lt.delete(Ht.key===null?Ct:Ht.key),N=f(Ht,N,Ct),qt===null?ct=Ht:qt.sibling=Ht,qt=Ht);return e&&lt.forEach(function(Mb){return n(U,Mb)}),Pt&&Ki(U,Ct),ct}function se(U,N,P,Q){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ct=P.key;N!==null;){if(N.key===ct){if(ct=P.type,ct===it){if(N.tag===7){s(U,N.sibling),Q=h(N,P.props.children),Q.return=U,U=Q;break t}}else if(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&jr(ct)===N.type){s(U,N.sibling),Q=h(N,P.props),Go(Q,P),Q.return=U,U=Q;break t}s(U,N);break}else n(U,N);N=N.sibling}P.type===it?(Q=kr(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=Nu(P.type,P.key,P.props,null,U.mode,Q),Go(Q,P),Q.return=U,U=Q)}return g(U);case J:t:{for(ct=P.key;N!==null;){if(N.key===ct)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){s(U,N.sibling),Q=h(N,P.children||[]),Q.return=U,U=Q;break t}else{s(U,N);break}else n(U,N);N=N.sibling}Q=Kh(P,U.mode,Q),Q.return=U,U=Q}return g(U);case S:return P=jr(P),se(U,N,P,Q)}if(fe(P))return ot(U,N,P,Q);if(M(P)){if(ct=M(P),typeof ct!="function")throw Error(a(150));return P=ct.call(P),gt(U,N,P,Q)}if(typeof P.then=="function")return se(U,N,Uu(P),Q);if(P.$$typeof===dt)return se(U,N,Ou(U,P),Q);Lu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(s(U,N.sibling),Q=h(N,P),Q.return=U,U=Q):(s(U,N),Q=Qh(P,U.mode,Q),Q.return=U,U=Q),g(U)):s(U,N)}return function(U,N,P,Q){try{Fo=0;var ct=se(U,N,P,Q);return Ia=null,ct}catch(lt){if(lt===Ca||lt===Mu)throw lt;var qt=Tn(29,lt,null,U.mode);return qt.lanes=Q,qt.return=U,qt}}}var qr=$g(!0),Zg=$g(!1),Vs=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ms(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ks(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),Mg(e,null,s),n}return Cu(e,o,n,s),Iu(e)}function Qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}function lf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var uf=!1;function Ko(){if(uf){var e=Ra;if(e!==null)throw e}}function Yo(e,n,s,o){uf=!1;var h=e.updateQueue;Vs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;g=0,F=z=C=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Vt&j)===j:(o&j)===j){j!==0&&j===wa&&(uf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,gt=E;j=n;var se=s;switch(gt.tag){case 1:if(ot=gt.payload,typeof ot=="function"){Y=ot.call(se,Y,j);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=gt.payload,j=typeof ot=="function"?ot.call(se,Y,j):ot,j==null)break t;Y=A({},Y,j);break t;case 2:Vs=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,C=Y):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),js|=g,e.lanes=g,e.memoizedState=Y}}function Jg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Wg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Jg(s[e],n)}var Na=x(null),Pu=x(0);function tp(e,n){e=ss,nt(Pu,e),nt(Na,n),ss=e|n.baseLanes}function cf(){nt(Pu,ss),nt(Na,Na.current)}function hf(){ss=Pu.current,K(Na),K(Pu)}var bn=x(null),zn=null;function Us(e){var n=e.alternate;nt(Se,Se.current&1),nt(bn,e),zn===null&&(n===null||Na.current!==null||n.memoizedState!==null)&&(zn=e)}function ff(e){nt(Se,Se.current),nt(bn,e),zn===null&&(zn=e)}function ep(e){e.tag===22?(nt(Se,Se.current),nt(bn,e),zn===null&&(zn=e)):Ls()}function Ls(){nt(Se,Se.current),nt(bn,bn.current)}function An(e){K(bn),zn===e&&(zn=null),K(Se)}var Se=x(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $i=0,Rt=null,ne=null,Ve=null,ju=!1,Da=!1,Hr=!1,Bu=0,Xo=0,xa=null,S1=0;function pe(){throw Error(a(321))}function df(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!En(e[s],n[s]))return!1;return!0}function mf(e,n,s,o,h,f){return $i=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Pp:Nf,Hr=!1,f=s(o,h),Hr=!1,Da&&(f=ip(n,s,o,h)),np(e),f}function np(e){H.H=Jo;var n=ne!==null&&ne.next!==null;if($i=0,Ve=ne=Rt=null,ju=!1,Xo=0,xa=null,n)throw Error(a(300));e===null||Me||(e=e.dependencies,e!==null&&xu(e)&&(Me=!0))}function ip(e,n,s,o){Rt=e;var h=0;do{if(Da&&(xa=null),Xo=0,Da=!1,25<=h)throw Error(a(301));if(h+=1,Ve=ne=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=zp,f=n(s,o)}while(Da);return f}function w1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(Rt.flags|=1024),n}function gf(){var e=Bu!==0;return Bu=0,e}function pf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function yf(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}$i=0,Ve=ne=Rt=null,Da=!1,Xo=Bu=0,xa=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Rt.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function we(){if(ne===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var n=Ve===null?Rt.memoizedState:Ve.next;if(n!==null)Ve=n,ne=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Ve===null?Rt.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Xo;return Xo+=1,xa===null&&(xa=[]),e=Kg(xa,e,n),n=Rt,(Ve===null?n.memoizedState:Ve.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Pp:Nf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===dt)return Ye(e)}throw Error(a(438,String(e)))}function _f(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qu(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Zi(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=we();return vf(n,ne,e)}function vf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Vt&Y)===Y:($i&Y)===Y){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===wa&&(F=!0);else if(($i&j)===j){z=z.next,j===wa&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=Y,g=f):C=C.next=Y,Rt.lanes|=j,js|=j;Y=z.action,Hr&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,g=f):C=C.next=j,Rt.lanes|=Y,js|=Y;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!En(f,e.memoizedState)&&(Me=!0,F&&(s=Ra,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=we(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);En(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function sp(e,n,s){var o=Rt,h=we(),f=Pt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!En((ne||h).memoizedState,s);if(g&&(h.memoizedState=s,Me=!0),h=h.queue,Af(op.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ve!==null&&Ve.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},ap.bind(null,o,h,s,n),null),re===null)throw Error(a(349));f||($i&127)!==0||rp(o,n,s)}return s}function rp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=qu(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ap(e,n,s,o){n.value=s,n.getSnapshot=o,lp(n)&&up(e)}function op(e,n,s){return s(function(){lp(n)&&up(e)})}function lp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!En(e,s)}catch{return!0}}function up(e){var n=Mr(e,2);n!==null&&gn(n,e,2)}function Tf(e){var n=ln();if(typeof e=="function"){var s=e;if(e=s(),Hr){Nn(!0);try{s()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},n}function cp(e,n,s,o){return e.baseState=s,vf(e,ne,typeof o=="function"?o:Zi)}function R1(e,n,s,o,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,hp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function hp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(h,o),C=H.S;C!==null&&C(g,E),fp(e,n,E)}catch(z){bf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,o),fp(e,n,f)}catch(z){bf(e,n,z)}}function fp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){dp(e,n,o)},function(o){return bf(e,n,o)}):dp(e,n,s)}function dp(e,n,s){n.status="fulfilled",n.value=s,mp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,hp(e,s)))}function bf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,mp(n),n=n.next;while(n!==o)}e.action=null}function mp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function gp(e,n){return n}function pp(e,n){if(Pt){var s=re.formState;if(s!==null){t:{var o=Rt;if(Pt){if(ue){e:{for(var h=ue,f=Pn;h.nodeType!==8;){if(!f){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ue=jn(h.nextSibling),o=h.data==="F!";break t}}xs(o)}o=!1}o&&(n=s[0])}}return s=ln(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:n},s.queue=o,s=kp.bind(null,Rt,o),o.dispatch=s,o=Tf(!1),f=If.bind(null,Rt,!1,o.queue),o=ln(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=R1.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function yp(e){var n=we();return _p(n,ne,e)}function _p(e,n,s){if(n=vf(e,n,gp)[0],e=Fu(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(g){throw g===Ca?Mu:g}else o=n;n=we();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Oa(9,{destroy:void 0},C1.bind(null,h,s),null)),[o,f,e]}function C1(e,n){e.action=n}function vp(e){var n=we(),s=ne;if(s!==null)return _p(n,s,e);we(),n=n.memoizedState,s=we();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Oa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=qu(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Ep(){return we().memoizedState}function Gu(e,n,s,o){var h=ln();Rt.flags|=e,h.memoizedState=Oa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Qu(e,n,s,o){var h=we();o=o===void 0?null:o;var f=h.memoizedState.inst;ne!==null&&o!==null&&df(o,ne.memoizedState.deps)?h.memoizedState=Oa(n,f,s,o):(Rt.flags|=e,h.memoizedState=Oa(1|n,f,s,o))}function Tp(e,n){Gu(8390656,8,e,n)}function Af(e,n){Qu(2048,8,e,n)}function I1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=qu(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function bp(e){var n=we().memoizedState;return I1({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ap(e,n){return Qu(4,2,e,n)}function Sp(e,n){return Qu(4,4,e,n)}function wp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Rp(e,n,s){s=s!=null?s.concat([e]):null,Qu(4,4,wp.bind(null,n,e),s)}function Sf(){}function Cp(e,n){var s=we();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&df(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Ip(e,n){var s=we();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=e(),Hr){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[o,n],o}function wf(e,n,s){return s===void 0||($i&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ny(),Rt.lanes|=e,js|=e,s)}function Np(e,n,s,o){return En(s,n)?s:Na.current!==null?(e=wf(e,s,o),En(e,n)||(Me=!0),e):($i&42)===0||($i&1073741824)!==0&&(Vt&261930)===0?(Me=!0,e.memoizedState=s):(e=Ny(),Rt.lanes|=e,js|=e,n)}function Dp(e,n,s,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,If(e,!1,n,s);try{var C=h(),z=H.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=A1(C,o);Zo(e,n,F,Rn(e))}else Zo(e,n,o,Rn(e))}catch(Y){Zo(e,n,{then:function(){},status:"rejected",reason:Y},Rn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function N1(){}function Rf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=xp(e).queue;Dp(e,h,n,ut,s===null?N1:function(){return Op(e),s(o)})}function xp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Op(e){var n=xp(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},Rn())}function Cf(){return Ye(ml)}function Vp(){return we().memoizedState}function Mp(){return we().memoizedState}function D1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Rn();e=Ms(s);var o=ks(n,e,s);o!==null&&(gn(o,n,s),Qo(o,n,s)),n={cache:ef()},e.payload=n;return}n=n.return}}function x1(e,n,s){var o=Rn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Up(n,s):(s=Fh(e,n,s,o),s!==null&&(gn(s,e,o),Lp(s,n,o)))}function kp(e,n,s){var o=Rn();Zo(e,n,s,o)}function Zo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Up(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,En(E,g))return Cu(e,n,h,0),re===null&&Ru(),!1}catch{}if(s=Fh(e,n,h,o),s!==null)return gn(s,e,o),Lp(s,n,o),!0}return!1}function If(e,n,s,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=Fh(e,s,o,2),n!==null&&gn(n,e,2)}function Ku(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Up(e,n){Da=ju=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Lp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}var Jo={readContext:Ye,use:Hu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};Jo.useEffectEvent=pe;var Pp={readContext:Ye,use:Hu,useCallback:function(e,n){return ln().memoizedState=[e,n===void 0?null:n],e},useContext:Ye,useEffect:Tp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Gu(4194308,4,wp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var s=ln();n=n===void 0?null:n;var o=e();if(Hr){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=ln();if(s!==void 0){var h=s(n);if(Hr){Nn(!0);try{s(n)}finally{Nn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=x1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=ln();return e={current:e},n.memoizedState=e},useState:function(e){e=Tf(e);var n=e.queue,s=kp.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(e,n){var s=ln();return wf(s,e,n)},useTransition:function(){var e=Tf(!1);return e=Dp.bind(null,Rt,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=ln();if(Pt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),re===null)throw Error(a(349));(Vt&127)!==0||rp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Tp(op.bind(null,o,f,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},ap.bind(null,o,f,s,n),null),s},useId:function(){var e=ln(),n=re.identifierPrefix;if(Pt){var s=Si,o=Ai;s=(o&~(1<<32-be(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Bu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=S1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:pp,useActionState:pp,useOptimistic:function(e){var n=ln();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return ln().memoizedState=D1.bind(null,Rt)},useEffectEvent:function(e){var n=ln(),s={impl:e};return n.memoizedState=s,function(){if((Kt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Nf={readContext:Ye,use:Hu,useCallback:Cp,useContext:Ye,useEffect:Af,useImperativeHandle:Rp,useInsertionEffect:Ap,useLayoutEffect:Sp,useMemo:Ip,useReducer:Fu,useRef:Ep,useState:function(){return Fu(Zi)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=we();return Np(s,ne.memoizedState,e,n)},useTransition:function(){var e=Fu(Zi)[0],n=we().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:sp,useId:Vp,useHostTransitionStatus:Cf,useFormState:yp,useActionState:yp,useOptimistic:function(e,n){var s=we();return cp(s,ne,e,n)},useMemoCache:_f,useCacheRefresh:Mp};Nf.useEffectEvent=bp;var zp={readContext:Ye,use:Hu,useCallback:Cp,useContext:Ye,useEffect:Af,useImperativeHandle:Rp,useInsertionEffect:Ap,useLayoutEffect:Sp,useMemo:Ip,useReducer:Ef,useRef:Ep,useState:function(){return Ef(Zi)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=we();return ne===null?wf(s,e,n):Np(s,ne.memoizedState,e,n)},useTransition:function(){var e=Ef(Zi)[0],n=we().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:sp,useId:Vp,useHostTransitionStatus:Cf,useFormState:vp,useActionState:vp,useOptimistic:function(e,n){var s=we();return ne!==null?cp(s,ne,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Mp};zp.useEffectEvent=bp;function Df(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var xf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Rn(),h=Ms(o);h.payload=n,s!=null&&(h.callback=s),n=ks(e,h,o),n!==null&&(gn(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Rn(),h=Ms(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ks(e,h,o),n!==null&&(gn(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Rn(),o=Ms(s);o.tag=2,n!=null&&(o.callback=n),n=ks(e,o,s),n!==null&&(gn(n,e,s),Qo(n,e,s))}};function jp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Po(s,o)||!Po(h,f):!0}function Bp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&xf.enqueueReplaceState(n,n.state,null)}function Fr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function qp(e){wu(e)}function Hp(e){console.error(e)}function Fp(e){wu(e)}function Yu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Gp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,s){return s=Ms(s),s.tag=3,s.payload={element:null},s.callback=function(){Yu(e,n)},s}function Qp(e){return e=Ms(e),e.tag=3,e}function Kp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Gp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Gp(n,s,o),typeof h!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function O1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Sa(n,s,h,!0),s=bn.current,s!==null){switch(s.tag){case 31:case 13:return zn===null?ac():s.alternate===null&&ye===0&&(ye=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),id(e,o,h)),!1;case 22:return s.flags|=65536,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),id(e,o,h)),!1}throw Error(a(435,s.tag))}return id(e,o,h),ac(),!1}if(Pt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(e=Error(a(422),{cause:o}),Bo(kn(e,s)))):(o!==$h&&(n=Error(a(423),{cause:o}),Bo(kn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=kn(o,s),h=Of(e.stateNode,o,h),lf(e,h),ye!==4&&(ye=2)),!1;var f=Error(a(520),{cause:o});if(f=kn(f,s),al===null?al=[f]:al.push(f),ye!==4&&(ye=2),n===null)return!0;o=kn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Of(s.stateNode,o,e),lf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bs===null||!Bs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Qp(h),Kp(h,e,s,o),lf(s,h),!1}s=s.return}while(s!==null);return!1}var Vf=Error(a(461)),Me=!1;function Xe(e,n,s,o){n.child=e===null?Zg(n,null,s,o):qr(n,e.child,s,o)}function Yp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Pr(n),o=mf(e,n,s,g,f,h),E=gf(),e!==null&&!Me?(pf(e,n,h),Ji(e,n,h)):(Pt&&E&&Yh(n),n.flags|=1,Xe(e,n,o,h),n.child)}function Xp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,$p(e,n,f,o,h)):(e=Nu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Po,s(g,o)&&e.ref===n.ref)return Ji(e,n,h)}return n.flags|=1,e=Qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function $p(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(Me=!1,n.pendingProps=o=f,Bf(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,Ji(e,n,h)}return Mf(e,n,s,o,h)}function Zp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Jp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?tp(n,f):cf(),ep(n);else return o=n.lanes=536870912,Jp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Vu(n,f.cachePool),tp(n,f),Ls(),n.memoizedState=null):(e!==null&&Vu(n,null),cf(),Ls());return Xe(e,n,h,s),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Jp(e,n,s,o,h){var f=sf();return f=f===null?null:{parent:Oe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Vu(n,null),cf(),ep(n),e!==null&&Sa(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Wp(e,n,s){return qr(n,e.child,null,s),e=Xu(n,n.pendingProps),e.flags|=2,An(n),n.memoizedState=null,e}function V1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,Wo(null,e);if(ff(n),(e=ue)?(e=h_(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},s=Ug(e),s.return=n,n.child=s,Ke=n,ue=null)):e=null,e===null)throw xs(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Wp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Me||Sa(e,n,s,!1),h=(s&e.childLanes)!==0,Me||h){if(o=re,o!==null&&(g=Eo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Mr(e,g),gn(o,e,g),Vf;ac(),n=Wp(e,n,s)}else e=f.treeContext,ue=jn(g.nextSibling),Ke=n,Pt=!0,Ds=null,Pn=!1,e!==null&&zg(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=Qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Mf(e,n,s,o,h){return Pr(n),s=mf(e,n,s,o,void 0,h),o=gf(),e!==null&&!Me?(pf(e,n,h),Ji(e,n,h)):(Pt&&o&&Yh(n),n.flags|=1,Xe(e,n,s,h),n.child)}function ty(e,n,s,o,h,f){return Pr(n),n.updateQueue=null,s=ip(n,o,s,h),np(e),o=gf(),e!==null&&!Me?(pf(e,n,f),Ji(e,n,f)):(Pt&&o&&Yh(n),n.flags|=1,Xe(e,n,s,f),n.child)}function ey(e,n,s,o,h){if(Pr(n),n.stateNode===null){var f=Ea,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ye(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ye(g):Ea,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Df(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&xf.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Fr(s,E);f.props=C;var z=f.context,F=s.contextType;g=Ea,typeof F=="object"&&F!==null&&(g=Ye(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Bp(n,f,o,g),Vs=!1;var j=n.memoizedState;f.state=j,Yo(n,o,f,h),Ko(),z=n.memoizedState,E||j!==z||Vs?(typeof Y=="function"&&(Df(n,s,Y,o),z=n.memoizedState),(C=Vs||jp(n,s,C,o,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(e,n),g=n.memoizedProps,F=Fr(s,g),f.props=F,Y=n.pendingProps,j=f.context,z=s.contextType,C=Ea,typeof z=="object"&&z!==null&&(C=Ye(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==C)&&Bp(n,f,o,C),Vs=!1,j=n.memoizedState,f.state=j,Yo(n,o,f,h),Ko();var q=n.memoizedState;g!==Y||j!==q||Vs||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof E=="function"&&(Df(n,s,E,o),q=n.memoizedState),(F=Vs||jp(n,s,F,o,j,q,C)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=qr(n,e.child,null,h),n.child=qr(n,null,s,h)):Xe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Ji(e,n,h),e}function ny(e,n,s,o){return Ur(),n.flags|=256,Xe(e,n,s,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:Gg()}}function Lf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=wn),e}function iy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?Us(n):Ls(),(e=ue)?(e=h_(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},s=Ug(e),s.return=n,n.child=s,Ke=n,ue=null)):e=null,e===null)throw xs(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ls(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=kr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(e,g,s),n.memoizedState=kf,Wo(null,o)):(Us(n),Pf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Us(n),n.flags&=-257,n=zf(e,n,s)):n.memoizedState!==null?(Ls(),n.child=e.child,n.flags|=128,n=null):(Ls(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=kr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,qr(n,e.child,null,s),o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(e,g,s),n.memoizedState=kf,n=Wo(null,o));else if(Us(n),vd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Bo({value:o,source:null,stack:null}),n=zf(e,n,s)}else if(Me||Sa(e,n,s,!1),g=(s&e.childLanes)!==0,Me||g){if(g=re,g!==null&&(o=Eo(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Mr(e,o),gn(g,e,o),Vf;_d(E)||ac(),n=zf(e,n,s)}else _d(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ue=jn(E.nextSibling),Ke=n,Pt=!0,Ds=null,Pn=!1,e!==null&&zg(n,e),n=Pf(n,o.children),n.flags|=4096);return n}return h?(Ls(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=Qi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Qi(z,E):(E=kr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Uf(s):(h=E.cachePool,h!==null?(C=Oe._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Gg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Lf(e,g,s),n.memoizedState=kf,Wo(e.child,o)):(Us(n),s=e.child,e=s.sibling,s=Qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Pf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=Tn(22,e,null,n),e.lanes=0,e}function zf(e,n,s){return qr(n,e.child,null,s),e=Pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function sy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Wh(e.return,n,s)}function jf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ry(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Se.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(Se,g),Xe(e,n,o,s),o=Pt?jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sy(e,s,n);else if(e.tag===19)sy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&zu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),jf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}jf(n,!0,s,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),js|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Sa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function M1(e,n,s){switch(n.tag){case 3:ve(n,n.stateNode.containerInfo),Os(n,Oe,e.memoizedState.cache),Ur();break;case 27:case 5:Pi(n);break;case 4:ve(n,n.stateNode.containerInfo);break;case 10:Os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Us(n),n.flags|=128,null):(s&n.child.childLanes)!==0?iy(e,n,s):(Us(n),e=Ji(e,n,s),e!==null?e.sibling:null);Us(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Sa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ry(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Se,Se.current),o)break;return null;case 22:return n.lanes=0,Zp(e,n,s,n.pendingProps);case 24:Os(n,Oe,e.memoizedState.cache)}return Ji(e,n,s)}function ay(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!Bf(e,s)&&(n.flags&128)===0)return Me=!1,M1(e,n,s);Me=(e.flags&131072)!==0}else Me=!1,Pt&&(n.flags&1048576)!==0&&Pg(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=jr(n.elementType),n.type=e,typeof e=="function")Gh(e)?(o=Fr(e,o),n.tag=1,n=ey(null,n,e,o,s)):(n.tag=0,n=Mf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Xt){n.tag=11,n=Yp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=Xp(null,n,e,o,s);break t}}throw n=ae(e)||e,Error(a(306,n,""))}}return n;case 0:return Mf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Fr(o,n.pendingProps),ey(e,n,o,h,s);case 3:t:{if(ve(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(e,n),Yo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Os(n,Oe,o),o!==f.cache&&tf(n,[Oe],s,!0),Ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ny(e,n,o,s);break t}else if(o!==h){h=kn(Error(a(424)),n),Bo(h),n=ny(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ue=jn(e.firstChild),Ke=n,Pt=!0,Ds=null,Pn=!0,s=Zg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ur(),o===h){n=Ji(e,n,s);break t}Xe(e,n,o,s)}n=n.child}return n;case 26:return $u(e,n),e===null?(s=y_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pt||(s=n.type,e=n.pendingProps,o=dc(St.current).createElement(s),o[Ne]=n,o[Be]=e,$e(o,s,e),De(o),n.stateNode=o):n.memoizedState=y_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Pi(n),e===null&&Pt&&(o=n.stateNode=m_(n.type,n.pendingProps,St.current),Ke=n,Pn=!0,h=ue,Gs(n.type)?(Ed=h,ue=jn(o.firstChild)):ue=h),Xe(e,n,n.pendingProps.children,s),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=o=ue)&&(o=cb(o,n.type,n.pendingProps,Pn),o!==null?(n.stateNode=o,Ke=n,ue=jn(o.firstChild),Pn=!1,h=!0):h=!1),h||xs(n)),Pi(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,gd(h,f)?o=null:g!==null&&gd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,w1,null,null,s),ml._currentValue=h),$u(e,n),Xe(e,n,o,s),n.child;case 6:return e===null&&Pt&&((e=s=ue)&&(s=hb(s,n.pendingProps,Pn),s!==null?(n.stateNode=s,Ke=n,ue=null,e=!0):e=!1),e||xs(n)),null;case 13:return iy(e,n,s);case 4:return ve(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=qr(n,null,o,s):Xe(e,n,o,s),n.child;case 11:return Yp(e,n,n.type,n.pendingProps,s);case 7:return Xe(e,n,n.pendingProps,s),n.child;case 8:return Xe(e,n,n.pendingProps.children,s),n.child;case 12:return Xe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Os(n,n.type,o.value),Xe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Pr(n),h=Ye(h),o=o(h),n.flags|=1,Xe(e,n,o,s),n.child;case 14:return Xp(e,n,n.type,n.pendingProps,s);case 15:return $p(e,n,n.type,n.pendingProps,s);case 19:return ry(e,n,s);case 31:return V1(e,n,s);case 22:return Zp(e,n,s,n.pendingProps);case 24:return Pr(n),o=Ye(Oe),e===null?(h=sf(),h===null&&(h=re,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},af(n),Os(n,Oe,h)):((e.lanes&s)!==0&&(of(e,n),Yo(n,null,null,s),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Os(n,Oe,o)):(o=f.cache,Os(n,Oe,o),o!==h.cache&&tf(n,[Oe],s,!0))),Xe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Wi(e){e.flags|=4}function qf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Vy())e.flags|=8192;else throw Br=ku,rf}else e.flags&=-16777217}function oy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!b_(n))if(Vy())e.flags|=8192;else throw Br=ku,rf}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,Ua|=n)}function tl(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ce(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function k1(e,n,s){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Xi(Oe),oe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Aa(n)?Wi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),ce(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Wi(n),f!==null?(ce(n),oy(n,f)):(ce(n),qf(n,h,null,o,s))):f?f!==e.memoizedState?(Wi(n),ce(n),oy(n,f)):(ce(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Wi(n),ce(n),qf(n,h,e,o,s)),null;case 27:if(zi(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ce(n),null}e=st.current,Aa(n)?jg(n):(e=m_(h,o,s),n.stateNode=e,Wi(n))}return ce(n),null;case 5:if(zi(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ce(n),null}if(f=st.current,Aa(n))jg(n);else{var g=dc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ne]=n,f[Be]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch($e(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Wi(n)}}return ce(n),qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,Aa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ne]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||i_(e.nodeValue,s)),e||xs(n,!0)}else e=dc(e).createTextNode(o),e[Ne]=n,n.stateNode=e}return ce(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ne]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),e=!1}else s=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ce(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ne]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Ju(n,n.updateQueue),ce(n),null);case 4:return oe(),e===null&&cd(n.stateNode.containerInfo),ce(n),null;case 10:return Xi(n.type),ce(n),null;case 19:if(K(Se),o=n.memoizedState,o===null)return ce(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(ye!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)kg(s,e),s=s.sibling;return nt(Se,Se.current&1|2),Pt&&Ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Te()>ic&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return ce(n),null}else 2*Te()-o.renderingStartTime>ic&&s!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Te(),e.sibling=null,s=Se.current,nt(Se,h?s&1|2:s&1),Pt&&Ki(n,o.treeForkCount),e):(ce(n),null);case 22:case 23:return An(n),hf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),s=n.updateQueue,s!==null&&Ju(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(zr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Xi(Oe),ce(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function U1(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xi(Oe),oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return zi(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(a(340));Ur()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(An(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ur()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Se),null;case 4:return oe(),null;case 10:return Xi(n.type),null;case 22:case 23:return An(n),hf(),e!==null&&K(zr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Xi(Oe),null;case 25:return null;default:return null}}function ly(e,n){switch(Xh(n),n.tag){case 3:Xi(Oe),oe();break;case 26:case 27:case 5:zi(n);break;case 4:oe();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:K(Se);break;case 10:Xi(n.type);break;case 22:case 23:An(n),hf(),e!==null&&K(zr);break;case 24:Xi(Oe)}}function el(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){te(n,n.return,E)}}function Ps(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(F){te(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){te(n,n.return,F)}}function uy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Wg(n,s)}catch(o){te(e,e.return,o)}}}function cy(e,n,s){s.props=Fr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){te(e,n,o)}}function nl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){te(e,n,h)}}function wi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){te(e,n,h)}else s.current=null}function hy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){te(e,e.return,h)}}function Hf(e,n,s){try{var o=e.stateNode;sb(o,e.type,s,n),o[Be]=n}catch(h){te(e,e.return,h)}}function fy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gs(e.type)||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||fy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=$n));else if(o!==4&&(o===27&&Gs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Gf(e,n,s),e=e.sibling;e!==null;)Gf(e,n,s),e=e.sibling}function Wu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Gs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Wu(e,n,s),e=e.sibling;e!==null;)Wu(e,n,s),e=e.sibling}function dy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$e(n,o,s),n[Ne]=e,n[Be]=s}catch(f){te(e,e.return,f)}}var ts=!1,ke=!1,Qf=!1,my=typeof WeakSet=="function"?WeakSet:Set,He=null;function L1(e,n){if(e=e.containerInfo,dd=Ec,e=Rg(e),Ph(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,z=0,F=0,Y=e,j=null;e:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(C=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++F===o&&(C=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:e,selectionRange:s},Ec=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ot=Fr(s.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){te(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)yd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function gy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ns(e,s),o&4&&el(5,s);break;case 1:if(ns(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){te(s,s.return,g)}else{var h=Fr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){te(s,s.return,g)}}o&64&&uy(s),o&512&&nl(s,s.return);break;case 3:if(ns(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Wg(e,n)}catch(g){te(s,s.return,g)}}break;case 27:n===null&&o&4&&dy(s);case 26:case 5:ns(e,s),n===null&&o&4&&hy(s),o&512&&nl(s,s.return);break;case 12:ns(e,s);break;case 31:ns(e,s),o&4&&_y(e,s);break;case 13:ns(e,s),o&4&&vy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Q1.bind(null,s),fb(e,s))));break;case 22:if(o=s.memoizedState!==null||ts,!o){n=n!==null&&n.memoizedState!==null||ke,h=ts;var f=ke;ts=o,(ke=n)&&!f?is(e,s,(s.subtreeFlags&8772)!==0):ns(e,s),ts=h,ke=f}break;case 30:break;default:ns(e,s)}}function py(e){var n=e.alternate;n!==null&&(e.alternate=null,py(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&aa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,hn=!1;function es(e,n,s){for(s=s.child;s!==null;)yy(e,n,s),s=s.sibling}function yy(e,n,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Qn,s)}catch{}switch(s.tag){case 26:ke||wi(s,n),es(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ke||wi(s,n);var o=me,h=hn;Gs(s.type)&&(me=s.stateNode,hn=!1),es(e,n,s),hl(s.stateNode),me=o,hn=h;break;case 5:ke||wi(s,n);case 6:if(o=me,h=hn,me=null,es(e,n,s),me=o,hn=h,me!==null)if(hn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(s.stateNode)}catch(f){te(s,n,f)}else try{me.removeChild(s.stateNode)}catch(f){te(s,n,f)}break;case 18:me!==null&&(hn?(e=me,u_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Fa(e)):u_(me,s.stateNode));break;case 4:o=me,h=hn,me=s.stateNode.containerInfo,hn=!0,es(e,n,s),me=o,hn=h;break;case 0:case 11:case 14:case 15:Ps(2,s,n),ke||Ps(4,s,n),es(e,n,s);break;case 1:ke||(wi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&cy(s,n,o)),es(e,n,s);break;case 21:es(e,n,s);break;case 22:ke=(o=ke)||s.memoizedState!==null,es(e,n,s),ke=o;break;default:es(e,n,s)}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(s){te(n,n.return,s)}}}function vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(s){te(n,n.return,s)}}function P1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new my),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new my),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var s=P1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=K1.bind(null,e,o);o.then(h,h)}})}function fn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Gs(E.type)){me=E.stateNode,hn=!1;break t}break;case 5:me=E.stateNode,hn=!1;break t;case 3:case 4:me=E.stateNode.containerInfo,hn=!0;break t}E=E.return}if(me===null)throw Error(a(160));yy(f,g,h),me=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ey(n,e),n=n.sibling}var ni=null;function Ey(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(n,e),dn(e),o&4&&(Ps(3,e,e.return),el(3,e),Ps(5,e,e.return));break;case 1:fn(n,e),dn(e),o&512&&(ke||s===null||wi(s,s.return)),o&64&&ts&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ni;if(fn(n,e),dn(e),o&512&&(ke||s===null||wi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Ne]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),$e(f,o,s),f[Ne]=e,De(f),o=f;break t;case"link":var g=E_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),$e(f,o,s),h.head.appendChild(f);break;case"meta":if(g=E_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),$e(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ne]=e,De(f),o=f}e.stateNode=o}else T_(h,e.type,e.stateNode);else e.stateNode=v_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?T_(h,e.type,e.stateNode):v_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,s.memoizedProps)}break;case 27:fn(n,e),dn(e),o&512&&(ke||s===null||wi(s,s.return)),s!==null&&o&4&&Hf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(fn(n,e),dn(e),o&512&&(ke||s===null||wi(s,s.return)),e.flags&32){h=e.stateNode;try{cn(h,"")}catch(ot){te(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(fn(n,e),dn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ot){te(e,e.return,ot)}}break;case 3:if(pc=null,h=ni,ni=mc(n.containerInfo),fn(n,e),ni=h,dn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Fa(n.containerInfo)}catch(ot){te(e,e.return,ot)}Qf&&(Qf=!1,Ty(e));break;case 4:o=ni,ni=mc(e.stateNode.containerInfo),fn(n,e),dn(e),ni=o;break;case 12:fn(n,e),dn(e);break;case 31:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:fn(n,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nc=Te()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=ts,F=ke;if(ts=z||h,ke=F||C,fn(n,e),ke=F,ts=z,dn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||ts||ke||Gr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){te(C,C.return,ot)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ot){te(C,C.return,ot)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?c_(q,!0):c_(C.stateNode,!1)}catch(ot){te(C,C.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,tc(e,s))));break;case 19:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:fn(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(fy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Ff(e);Wu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(cn(g,""),s.flags&=-33);var E=Ff(e);Wu(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Ff(e);Gf(e,z,C);break;default:throw Error(a(161))}}catch(F){te(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ns(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gy(e,n.alternate,n),n=n.sibling}function Gr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ps(4,n,n.return),Gr(n);break;case 1:wi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&cy(n,n.return,s),Gr(n);break;case 27:hl(n.stateNode);case 26:case 5:wi(n,n.return),Gr(n);break;case 22:n.memoizedState===null&&Gr(n);break;case 30:Gr(n);break;default:Gr(n)}e=e.sibling}}function is(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:is(h,f,s),el(4,f);break;case 1:if(is(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){te(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Jg(C[h],E)}catch(z){te(o,o.return,z)}}s&&g&64&&uy(f),nl(f,f.return);break;case 27:dy(f);case 26:case 5:is(h,f,s),s&&o===null&&g&4&&hy(f),nl(f,f.return);break;case 12:is(h,f,s);break;case 31:is(h,f,s),s&&g&4&&_y(h,f);break;case 13:is(h,f,s),s&&g&4&&vy(h,f);break;case 22:f.memoizedState===null&&is(h,f,s),nl(f,f.return);break;case 30:break;default:is(h,f,s)}n=n.sibling}}function Kf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&qo(s))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function ii(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)by(e,n,s,o),n=n.sibling}function by(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,s,o),h&2048&&el(9,n);break;case 1:ii(e,n,s,o);break;case 3:ii(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){ii(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){te(n,n.return,C)}}else ii(e,n,s,o);break;case 31:ii(e,n,s,o);break;case 13:ii(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,s,o):il(e,n):f._visibility&2?ii(e,n,s,o):(f._visibility|=2,Va(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(g,n);break;case 24:ii(e,n,s,o),h&2048&&Yf(n.alternate,n);break;default:ii(e,n,s,o)}}function Va(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Va(f,g,E,C,h),el(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Va(f,g,E,C,h):il(f,g):(F._visibility|=2,Va(f,g,E,C,h)),h&&z&2048&&Kf(g.alternate,g);break;case 24:Va(f,g,E,C,h),h&&z&2048&&Yf(g.alternate,g);break;default:Va(f,g,E,C,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:il(s,o),h&2048&&Kf(o.alternate,o);break;case 24:il(s,o),h&2048&&Yf(o.alternate,o);break;default:il(s,o)}n=n.sibling}}var sl=8192;function Ma(e,n,s){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)Ay(e,n,s),e=e.sibling}function Ay(e,n,s){switch(e.tag){case 26:Ma(e,n,s),e.flags&sl&&e.memoizedState!==null&&Sb(s,ni,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,s);break;case 3:case 4:var o=ni;ni=mc(e.stateNode.containerInfo),Ma(e,n,s),ni=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Ma(e,n,s),sl=o):Ma(e,n,s));break;default:Ma(e,n,s)}}function Sy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];He=o,Ry(o,e)}Sy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wy(e),e=e.sibling}function wy(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Ps(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):rl(e);break;default:rl(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];He=o,Ry(o,e)}Sy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ps(8,n,n.return),ec(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function Ry(e,n){for(;He!==null;){var s=He;switch(s.tag){case 0:case 11:case 15:Ps(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,He=o;else t:for(s=e;He!==null;){o=He;var h=o.sibling,f=o.return;if(py(o),o===s){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var z1={getCacheForType:function(e){var n=Ye(Oe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ye(Oe).controller.signal}},j1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,Dt=null,Vt=0,Wt=0,Sn=null,zs=!1,ka=!1,Xf=!1,ss=0,ye=0,js=0,Qr=0,$f=0,wn=0,Ua=0,al=null,mn=null,Zf=!1,nc=0,Cy=0,ic=1/0,sc=null,Bs=null,ze=0,qs=null,La=null,rs=0,Jf=0,Wf=null,Iy=null,ol=0,td=null;function Rn(){return(Kt&2)!==0&&Vt!==0?Vt&-Vt:H.T!==null?ad():ru()}function Ny(){if(wn===0)if((Vt&536870912)===0||Pt){var e=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),wn=e}else wn=536870912;return e=bn.current,e!==null&&(e.flags|=32),wn}function gn(e,n,s){(e===re&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),Hs(e,Vt,wn,!1)),Er(e,s),((Kt&2)===0||e!==re)&&(e===re&&((Kt&2)===0&&(Qr|=s),ye===4&&Hs(e,Vt,wn,!1)),Ri(e))}function Dy(e,n,s){if((Kt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Kn(e,n),h=o?H1(e,n):nd(e,n,!0),f=o;do{if(h===0){ka&&!o&&Hs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!B1(s)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=al;var C=E.current.memoizedState.isDehydrated;if(C&&(Pa(E,g).flags|=256),g=nd(E,g,!1),g!==2){if(Xf&&!C){E.errorRecoveryDisabledLanes|=f,Qr|=f,h=4;break t}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Pa(e,0),Hs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Hs(o,n,wn,!zs);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-Te(),10<h)){if(Hs(o,n,wn,!zs),li(o,0,!0)!==0)break t;rs=n,o.timeoutHandle=o_(xy.bind(null,o,s,mn,sc,Zf,n,wn,Qr,Ua,zs,f,"Throttled",-0,0),h);break t}xy(o,s,mn,sc,Zf,n,wn,Qr,Ua,zs,f,null,-0,0)}}break}while(!0);Ri(e)}function xy(e,n,s,o,h,f,g,E,C,z,F,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},Ay(n,f,Y);var ot=(f&62914560)===f?nc-Te():(f&4194048)===f?Cy-Te():0;if(ot=wb(Y,ot),ot!==null){rs=f,e.cancelPendingCommit=ot(zy.bind(null,e,n,f,s,o,h,g,E,C,F,Y,null,j,q)),Hs(e,f,g,!z);return}}zy(e,n,f,s,o,h,g,E,C)}function B1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!En(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hs(e,n,s,o){n&=~$f,n&=~Qr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-be(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&Tr(e,s,n)}function rc(){return(Kt&6)===0?(ll(0),!1):!0}function ed(){if(Dt!==null){if(Wt===0)var e=Dt.return;else e=Dt,Yi=Lr=null,yf(e),Ia=null,Fo=0,e=Dt;for(;e!==null;)ly(e.alternate,e),e=e.return;Dt=null}}function Pa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,ob(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),rs=0,ed(),re=e,Dt=s=Qi(e.current,null),Vt=n,Wt=0,Sn=null,zs=!1,ka=Kn(e,n),Xf=!1,Ua=wn=$f=Qr=js=ye=0,mn=al=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-be(o),f=1<<h;n|=e[h],o&=~f}return ss=n,Ru(),s}function Oy(e,n){Rt=null,H.H=Jo,n===Ca||n===Mu?(n=Yg(),Wt=3):n===rf?(n=Yg(),Wt=4):Wt=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Dt===null&&(ye=1,Yu(e,kn(n,e.current)))}function Vy(){var e=bn.current;return e===null?!0:(Vt&4194048)===Vt?zn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===zn:!1}function My(){var e=H.H;return H.H=Jo,e===null?Jo:e}function ky(){var e=H.A;return H.A=z1,e}function ac(){ye=4,zs||(Vt&4194048)!==Vt&&bn.current!==null||(ka=!0),(js&134217727)===0&&(Qr&134217727)===0||re===null||Hs(re,Vt,wn,!1)}function nd(e,n,s){var o=Kt;Kt|=2;var h=My(),f=ky();(re!==e||Vt!==n)&&(sc=null,Pa(e,n)),n=!1;var g=ye;t:do try{if(Wt!==0&&Dt!==null){var E=Dt,C=Sn;switch(Wt){case 8:ed(),g=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var z=Wt;if(Wt=0,Sn=null,za(e,E,C,z),s&&ka){g=0;break t}break;default:z=Wt,Wt=0,Sn=null,za(e,E,C,z)}}q1(),g=ye;break}catch(F){Oy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Yi=Lr=null,Kt=o,H.H=h,H.A=f,Dt===null&&(re=null,Vt=0,Ru()),g}function q1(){for(;Dt!==null;)Uy(Dt)}function H1(e,n){var s=Kt;Kt|=2;var o=My(),h=ky();re!==e||Vt!==n?(sc=null,ic=Te()+500,Pa(e,n)):ka=Kn(e,n);t:do try{if(Wt!==0&&Dt!==null){n=Dt;var f=Sn;e:switch(Wt){case 1:Wt=0,Sn=null,za(e,n,f,1);break;case 2:case 9:if(Qg(f)){Wt=0,Sn=null,Ly(n);break}n=function(){Wt!==2&&Wt!==9||re!==e||(Wt=7),Ri(e)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:Qg(f)?(Wt=0,Sn=null,Ly(n)):(Wt=0,Sn=null,za(e,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var E=Dt;if(g?b_(g):E.stateNode.complete){Wt=0,Sn=null;var C=E.sibling;if(C!==null)Dt=C;else{var z=E.return;z!==null?(Dt=z,oc(z)):Dt=null}break e}}Wt=0,Sn=null,za(e,n,f,5);break;case 6:Wt=0,Sn=null,za(e,n,f,6);break;case 8:ed(),ye=6;break t;default:throw Error(a(462))}}F1();break}catch(F){Oy(e,F)}while(!0);return Yi=Lr=null,H.H=o,H.A=h,Kt=s,Dt!==null?0:(re=null,Vt=0,Ru(),ye)}function F1(){for(;Dt!==null&&!ys();)Uy(Dt)}function Uy(e){var n=ay(e.alternate,e,ss);e.memoizedProps=e.pendingProps,n===null?oc(e):Dt=n}function Ly(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ty(s,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=ty(s,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:yf(n);default:ly(s,n),n=Dt=kg(n,ss),n=ay(s,n,ss)}e.memoizedProps=e.pendingProps,n===null?oc(e):Dt=n}function za(e,n,s,o){Yi=Lr=null,yf(n),Ia=null,Fo=0;var h=n.return;try{if(O1(e,h,n,s,Vt)){ye=1,Yu(e,kn(s,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ye=1,Yu(e,kn(s,e.current)),Dt=null;return}n.flags&32768?(Pt||o===1?e=!0:ka||(Vt&536870912)!==0?e=!1:(zs=e=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Py(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){Py(n,zs);return}e=n.return;var s=k1(n.alternate,n,ss);if(s!==null){Dt=s;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);ye===0&&(ye=5)}function Py(e,n){do{var s=U1(e.alternate,e);if(s!==null){s.flags&=32767,Dt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=s}while(e!==null);ye=6,Dt=null}function zy(e,n,s,o,h,f,g,E,C){e.cancelPendingCommit=null;do lc();while(ze!==0);if((Kt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Mh(e,s,f,g,E,C),e===re&&(Dt=re=null,Vt=0),La=n,qs=e,rs=s,Jf=f,Wf=h,Iy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Y1(vs,function(){return Fy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,g=Kt,Kt|=4;try{L1(e,n,s)}finally{Kt=g,et.p=h,H.T=o}}ze=1,jy(),By(),qy()}}function jy(){if(ze===1){ze=0;var e=qs,n=La,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=et.p;et.p=2;var h=Kt;Kt|=4;try{Ey(n,e);var f=md,g=Rg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&wg(E.ownerDocument.documentElement,E)){if(C!==null&&Ph(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,gt=Math.min(C.start,ot),se=C.end===void 0?gt:Math.min(C.end,ot);!q.extend&&gt>se&&(g=se,se=gt,gt=g);var U=Sg(E,gt),N=Sg(E,se);if(U&&N&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=Y.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),gt>se?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ec=!!dd,md=dd=null}finally{Kt=h,et.p=o,H.T=s}}e.current=n,ze=2}}function By(){if(ze===2){ze=0;var e=qs,n=La,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=et.p;et.p=2;var h=Kt;Kt|=4;try{gy(e,n.alternate,n)}finally{Kt=h,et.p=o,H.T=s}}ze=3}}function qy(){if(ze===4||ze===3){ze=0,_s();var e=qs,n=La,s=rs,o=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,La=qs=null,Hy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Bs=null),qi(s),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=h}}(rs&3)!==0&&lc(),Ri(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===td?ol++:(ol=0,td=e):ol=0,ll(0)}}function Hy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function lc(){return jy(),By(),qy(),Fy()}function Fy(){if(ze!==5)return!1;var e=qs,n=Jf;Jf=0;var s=qi(rs),o=H.T,h=et.p;try{et.p=32>s?32:s,H.T=null,s=Wf,Wf=null;var f=qs,g=rs;if(ze=0,La=qs=null,rs=0,(Kt&6)!==0)throw Error(a(331));var E=Kt;if(Kt|=4,wy(f.current),by(f,f.current,g,s),Kt=E,ll(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{et.p=h,H.T=o,Hy(e,n)}}function Gy(e,n,s){n=kn(s,n),n=Of(e.stateNode,n,2),e=ks(e,n,2),e!==null&&(Er(e,2),Ri(e))}function te(e,n,s){if(e.tag===3)Gy(e,e,s);else for(;n!==null;){if(n.tag===3){Gy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Bs===null||!Bs.has(o))){e=kn(s,e),s=Qp(2),o=ks(n,s,2),o!==null&&(Kp(s,o,n,e),Er(o,2),Ri(o));break}}n=n.return}}function id(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new j1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Xf=!0,h.add(s),e=G1.bind(null,e,n,s),n.then(e,e))}function G1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,re===e&&(Vt&s)===s&&(ye===4||ye===3&&(Vt&62914560)===Vt&&300>Te()-nc?(Kt&2)===0&&Pa(e,0):$f|=s,Ua===Vt&&(Ua=0)),Ri(e)}function Qy(e,n){n===0&&(n=su()),e=Mr(e,n),e!==null&&(Er(e,n),Ri(e))}function Q1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Qy(e,s)}function K1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Qy(e,s)}function Y1(e,n){return jt(e,n)}var uc=null,ja=null,sd=!1,cc=!1,rd=!1,Fs=0;function Ri(e){e!==ja&&e.next===null&&(ja===null?uc=ja=e:ja=ja.next=e),cc=!0,sd||(sd=!0,$1())}function ll(e,n){if(!rd&&cc){rd=!0;do for(var s=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-be(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,$y(o,f))}else f=Vt,f=li(o,o===re?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Kn(o,f)||(s=!0,$y(o,f));o=o.next}while(s);rd=!1}}function X1(){Ky()}function Ky(){cc=sd=!1;var e=0;Fs!==0&&ab()&&(e=Fs);for(var n=Te(),s=null,o=uc;o!==null;){var h=o.next,f=Yy(o,n);f===0?(o.next=null,s===null?uc=h:s.next=h,h===null&&(ja=s)):(s=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}ze!==0&&ze!==5||ll(e),Fs!==0&&(Fs=0)}function Yy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-be(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Vh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=re,s=Vt,s=li(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Gt(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Kn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Gt(o),qi(s)){case 2:case 8:s=_o;break;case 32:s=vs;break;case 268435456:s=Wl;break;default:s=vs}return o=Xy.bind(null,e),s=jt(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Gt(o),e.callbackPriority=2,e.callbackNode=null,2}function Xy(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(lc()&&e.callbackNode!==s)return null;var o=Vt;return o=li(e,e===re?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Dy(e,o,n),Yy(e,Te()),e.callbackNode!=null&&e.callbackNode===s?Xy.bind(null,e):null)}function $y(e,n){if(lc())return null;Dy(e,n,!0)}function $1(){lb(function(){(Kt&6)!==0?jt(yo,X1):Ky()})}function ad(){if(Fs===0){var e=wa;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Fs=e}return Fs}function Zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ca(""+e)}function Jy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function Z1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Zy((h[Be]||null).action),g=o.submitter;g&&(n=(n=g[Be]||null)?Zy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new vi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fs!==0){var C=g?Jy(h,g):new FormData(h);Rf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Jy(h,g):new FormData(h),Rf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],J1=ld.toLowerCase(),W1=ld[0].toUpperCase()+ld.slice(1);ei(J1,"on"+W1)}ei(Ng,"onAnimationEnd"),ei(Dg,"onAnimationIteration"),ei(xg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(g1,"onTransitionRun"),ei(p1,"onTransitionStart"),ei(y1,"onTransitionCancel"),ei(Og,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function Wy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=C}}}}function xt(e,n){var s=n[ra];s===void 0&&(s=n[ra]=new Set);var o=e+"__bubble";s.has(o)||(t_(n,e,2,!1),s.add(o))}function ud(e,n,s){var o=0;n&&(o|=4),t_(s,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[hc]){e[hc]=!0,To.forEach(function(s){s!=="selectionchange"&&(tb.has(s)||ud(s,!1,e),ud(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,ud("selectionchange",!1,n))}}function t_(e,n,s,o){switch(N_(n)){case 2:var h=Ib;break;case 8:h=Nb;break;default:h=wd}s=h.bind(null,n,s,e),h=void 0,!Rr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function hd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=fi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ws(function(){var z=f,F=xn(s),Y=[];t:{var j=Vg.get(e);if(j!==void 0){var q=vi,ot=e;switch(e){case"keypress":if(Ir(s)===0)break t;case"keydown":case"keyup":q=bu;break;case"focusin":ot="focus",q=Dr;break;case"focusout":ot="blur",q=Dr;break;case"beforeblur":case"afterblur":q=Dr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ng:case Dg:case xg:q=gu;break;case Og:q=T;break;case"scroll":case"scrollend":q=Vo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Gi;break;case"toggle":case"beforetoggle":q=wt}var gt=(n&4)!==0,se=!gt&&(e==="scroll"||e==="scrollend"),U=gt?j!==null?j+"Capture":null:j;gt=[];for(var N=z,P;N!==null;){var Q=N;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=Zn(N,U),Q!=null&&gt.push(cl(N,Q,P))),se)break;N=N.return}0<gt.length&&(j=new q(j,ot,null,s,F),Y.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Do&&(ot=s.relatedTarget||s.fromElement)&&(fi(ot)||ot[ci]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=z,ot=ot?fi(ot):null,ot!==null&&(se=c(ot),gt=ot.tag,ot!==se||gt!==5&&gt!==27&&gt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(gt=Mo,Q="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Gi,Q="onPointerLeave",U="onPointerEnter",N="pointer"),se=q==null?j:_n(q),P=ot==null?j:_n(ot),j=new gt(Q,N+"leave",q,s,F),j.target=se,j.relatedTarget=P,Q=null,fi(F)===z&&(gt=new gt(U,N+"enter",ot,s,F),gt.target=P,gt.relatedTarget=se,Q=gt),se=Q,q&&ot)e:{for(gt=eb,U=q,N=ot,P=0,Q=U;Q;Q=gt(Q))P++;Q=0;for(var ct=N;ct;ct=gt(ct))Q++;for(;0<P-Q;)U=gt(U),P--;for(;0<Q-P;)N=gt(N),Q--;for(;P--;){if(U===N||N!==null&&U===N.alternate){gt=U;break e}U=gt(U),N=gt(N)}gt=null}else gt=null;q!==null&&e_(Y,j,q,gt,!1),ot!==null&&se!==null&&e_(Y,se,ot,gt,!0)}}t:{if(j=z?_n(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var qt=_g;else if(pg(j))if(vg)qt=f1;else{qt=c1;var lt=u1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ua(z.elementType)&&(qt=_g):qt=h1;if(qt&&(qt=qt(e,z))){yg(Y,qt,s,F);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Co(j,"number",j.value)}switch(lt=z?_n(z):window,e){case"focusin":(pg(lt)||lt.contentEditable==="true")&&(ya=lt,zh=z,zo=null);break;case"focusout":zo=zh=ya=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Cg(Y,s,F);break;case"selectionchange":if(m1)break;case"keydown":case"keyup":Cg(Y,s,F)}var Ct;if(Qt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else pa?xr(e,s)&&(Mt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(bi&&s.locale!=="ko"&&(pa||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&pa&&(Ct=Oo()):(_i=F,xo="value"in _i?_i.value:_i.textContent,pa=!0)),lt=fc(z,Mt),0<lt.length&&(Mt=new Ti(Mt,e,null,s,F),Y.push({event:Mt,listeners:lt}),Ct?Mt.data=Ct:(Ct=ga(s),Ct!==null&&(Mt.data=Ct)))),(Ct=Vn?r1(e,s):a1(e,s))&&(Mt=fc(z,"onBeforeInput"),0<Mt.length&&(lt=new Ti("onBeforeInput","beforeinput",null,s,F),Y.push({event:lt,listeners:Mt}),lt.data=Ct)),Z1(Y,e,z,s,F)}Wy(Y,n)})}function cl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function fc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(e,s),h!=null&&o.unshift(cl(e,h,f)),h=Zn(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function eb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function e_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Zn(s,f),z!=null&&g.unshift(cl(s,z,C))):h||(z=Zn(s,f),z!=null&&g.push(cl(s,z,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var nb=/\r\n?/g,ib=/\u0000|\uFFFD/g;function n_(e){return(typeof e=="string"?e:""+e).replace(nb,`
`).replace(ib,"")}function i_(e,n){return n=n_(n),n_(e)===n}function ie(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(e,""+o);break;case"className":vn(e,"class",o);break;case"tabIndex":vn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,s,o);break;case"style":No(e,o,f);break;case"data":if(n!=="object"){vn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ca(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ie(e,n,"name",h.name,h,null),ie(e,n,"formEncType",h.formEncType,h,null),ie(e,n,"formMethod",h.formMethod,h,null),ie(e,n,"formTarget",h.formTarget,h,null)):(ie(e,n,"encType",h.encType,h,null),ie(e,n,"method",h.method,h,null),ie(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ca(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=$n);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ca(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),oa(e,"popover",o);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fu.get(s)||s,oa(e,s,o))}}function fd(e,n,s,o,h,f){switch(s){case"style":No(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?cn(e,o):(typeof o=="number"||typeof o=="bigint")&&cn(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Be]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):oa(e,s,o)}}}function $e(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(e,n,f,g,s,null)}}h&&ie(e,n,"srcSet",s.srcSet,s,null),o&&ie(e,n,"src",s.src,s,null);return;case"input":xt("invalid",e);var E=f=g=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ie(e,n,o,F,s,null)}}uu(e,f,E,C,z,g,h,!1);return;case"select":xt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ie(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?Ts(e,!!o,n,!1):s!=null&&Ts(e,!!o,s,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ie(e,n,g,E,s,null)}bs(e,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ie(e,n,C,o,s,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)xt(ul[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(e,n,z,o,s,null)}return;default:if(ua(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&fd(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ie(e,n,E,o,s,null))}function sb(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,F=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(q)||ie(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&ie(e,n,j,q,o,Y)}}la(e,g,E,C,z,F,f,h);return;case"select":q=g=E=j=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||ie(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&ie(e,n,h,f,o,C)}n=E,s=g,o=q,j!=null?Ts(e,!!s,j,!1):!!o!=!!s&&(n!=null?Ts(e,!!s,n,!0):Ts(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ie(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ie(e,n,g,h,o,f)}cu(e,j,q);return;case"option":for(var ot in s)j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:ie(e,n,ot,null,o,j));for(C in o)j=o[C],q=s[C],o.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null)&&(C==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":ie(e,n,C,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)j=s[gt],s.hasOwnProperty(gt)&&j!=null&&!o.hasOwnProperty(gt)&&ie(e,n,gt,null,o,j);for(z in o)if(j=o[z],q=s[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ie(e,n,z,j,o,q)}return;default:if(ua(n)){for(var se in s)j=s[se],s.hasOwnProperty(se)&&j!==void 0&&!o.hasOwnProperty(se)&&fd(e,n,se,void 0,o,j);for(F in o)j=o[F],q=s[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||fd(e,n,F,j,o,q);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&ie(e,n,U,null,o,j);for(Y in o)j=o[Y],q=s[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||ie(e,n,Y,j,o,q)}function s_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&s_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>E)break;var F=C.transferSize,Y=C.initiatorType;F&&s_(Y)&&(C=C.responseEnd,g+=F*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function r_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function gd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function ab(){var e=window.event;return e&&e.type==="popstate"?e===pd?!1:(pd=e,!0):(pd=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,ob=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,lb=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(e){return l_.resolve(null).then(e).catch(ub)}:o_;function ub(e){setTimeout(function(){throw e})}function Gs(e){return e==="head"}function u_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Fa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")hl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,hl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&hl(e.ownerDocument.body);s=h}while(s);Fa(n)}function c_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),aa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function cb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function hb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=jn(e.nextSibling),e===null))return null;return e}function h_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function f_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return jn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function d_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function m_(e,n,s){switch(n=dc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);aa(e)}var Bn=new Map,g_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var as=et.d;et.d={f:db,r:mb,D:gb,C:pb,L:yb,m:_b,X:Eb,S:vb,M:Tb};function db(){var e=as.f(),n=rc();return e||n}function mb(e){var n=Dn(e);n!==null&&n.tag===5&&n.type==="form"?Op(n):as.r(e)}var Ba=typeof document>"u"?null:document;function p_(e,n,s){var o=Ba;if(o&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),g_.has(h)||(g_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),$e(n,"link",e),De(n),o.head.appendChild(n)))}}function gb(e){as.D(e),p_("dns-prefetch",e,null)}function pb(e,n){as.C(e,n),p_("preconnect",e,n)}function yb(e,n,s){as.L(e,n,s);var o=Ba;if(o&&e&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+un(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+un(s.imageSizes)+'"]')):h+='[href="'+un(e)+'"]';var f=h;switch(n){case"style":f=qa(e);break;case"script":f=Ha(e)}Bn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Bn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),$e(n,"link",e),De(n),o.head.appendChild(n)))}}function _b(e,n){as.m(e,n);var s=Ba;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ha(e)}if(!Bn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Bn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dl(f)))return}o=s.createElement("link"),$e(o,"link",e),De(o),s.head.appendChild(o)}}}function vb(e,n,s){as.S(e,n,s);var o=Ba;if(o&&e){var h=di(o).hoistableStyles,f=qa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(fl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Bn.get(f))&&Td(e,s);var C=g=o.createElement("link");De(C),$e(C,"link",e),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Eb(e,n){as.X(e,n);var s=Ba;if(s&&e){var o=di(s).hoistableScripts,h=Ha(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=A({src:e,async:!0},n),(n=Bn.get(h))&&bd(e,n),f=s.createElement("script"),De(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Tb(e,n){as.M(e,n);var s=Ba;if(s&&e){var o=di(s).hoistableScripts,h=Ha(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Bn.get(h))&&bd(e,n),f=s.createElement("script"),De(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function y_(e,n,s,o){var h=(h=St.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=qa(s.href),s=di(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=qa(s.href);var f=di(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(fl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Bn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Bn.set(e,s),f||bb(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(s),s=di(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function qa(e){return'href="'+un(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function __(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function bb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),$e(n,"link",s),De(n),e.head.appendChild(n))}function Ha(e){return'[src="'+un(e)+'"]'}function dl(e){return"script[async]"+e}function v_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+un(s.href)+'"]');if(o)return n.instance=o,De(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),De(o),$e(o,"style",h),gc(o,s.precedence,e),n.instance=o;case"stylesheet":h=qa(s.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,De(f),f;o=__(s),(h=Bn.get(h))&&Td(o,h),f=(e.ownerDocument||e).createElement("link"),De(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),$e(f,"link",o),n.state.loading|=4,gc(f,s.precedence,e),n.instance=f;case"script":return f=Ha(s.src),(h=e.querySelector(dl(f)))?(n.instance=h,De(h),h):(o=s,(h=Bn.get(f))&&(o=A({},s),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),De(h),$e(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,s.precedence,e));return n.instance}function gc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function E_(e,n,s){if(pc===null){var o=new Map,h=pc=new Map;h.set(s,o)}else h=pc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[hi]||f[Ne]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function T_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Ab(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function b_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Sb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=qa(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,De(f);return}f=n.ownerDocument||n,o=__(o),(h=Bn.get(h))&&Td(o,h),f=f.createElement("link"),De(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),$e(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=yc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function wb(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*rb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(Rb,e),_c=null,yc.call(e))}function Rb(e,n){if(!(n.state.loading&4)){var s=_c.get(e);if(s)var o=s.get(null);else{s=new Map,_c.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function Cb(e,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function A_(e,n,s,o,h,f,g,E,C,z,F,Y){return e=new Cb(e,n,s,g,C,z,F,Y,E),n=1,f===!0&&(n|=24),f=Tn(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},af(f),e}function S_(e){return e?(e=Ea,e):Ea}function w_(e,n,s,o,h,f){h=S_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ms(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ks(e,o,n),s!==null&&(gn(s,e,n),Qo(s,e,n))}function R_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Sd(e,n){R_(e,n),(e=e.alternate)&&R_(e,n)}function C_(e){if(e.tag===13||e.tag===31){var n=Mr(e,67108864);n!==null&&gn(n,e,67108864),Sd(e,67108864)}}function I_(e){if(e.tag===13||e.tag===31){var n=Rn();n=br(n);var s=Mr(e,n);s!==null&&gn(s,e,n),Sd(e,n)}}var Ec=!0;function Ib(e,n,s,o){var h=H.T;H.T=null;var f=et.p;try{et.p=2,wd(e,n,s,o)}finally{et.p=f,H.T=h}}function Nb(e,n,s,o){var h=H.T;H.T=null;var f=et.p;try{et.p=8,wd(e,n,s,o)}finally{et.p=f,H.T=h}}function wd(e,n,s,o){if(Ec){var h=Rd(o);if(h===null)hd(e,n,o,Tc,s),D_(e,o);else if(xb(h,e,n,s,o))o.stopPropagation();else if(D_(e,o),n&4&&-1<Db.indexOf(e)){for(;h!==null;){var f=Dn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=oi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-be(g);E.entanglements[1]|=C,g&=~C}Ri(f),(Kt&6)===0&&(ic=Te()+500,ll(0))}}break;case 31:case 13:E=Mr(f,2),E!==null&&gn(E,f,2),rc(),Sd(f,2)}if(f=Rd(o),f===null&&hd(e,n,o,Tc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(e,n,o,null,s)}}function Rd(e){return e=xn(e),Cd(e)}var Tc=null;function Cd(e){if(Tc=null,e=fi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function N_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case yo:return 2;case _o:return 8;case vs:case Oh:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Id=!1,Qs=null,Ks=null,Ys=null,gl=new Map,pl=new Map,Xs=[],Db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(e,n){switch(e){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Dn(n),n!==null&&C_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function xb(e,n,s,o,h){switch(n){case"focusin":return Qs=yl(Qs,e,n,s,o,h),!0;case"dragenter":return Ks=yl(Ks,e,n,s,o,h),!0;case"mouseover":return Ys=yl(Ys,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,yl(gl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,yl(pl.get(f)||null,e,n,s,o,h)),!0}return!1}function x_(e){var n=fi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){I_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){I_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Rd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Do=o,s.target.dispatchEvent(o),Do=null}else return n=Dn(s),n!==null&&C_(n),e.blockedOn=s,!1;n.shift()}return!0}function O_(e,n,s){bc(e)&&s.delete(n)}function Ob(){Id=!1,Qs!==null&&bc(Qs)&&(Qs=null),Ks!==null&&bc(Ks)&&(Ks=null),Ys!==null&&bc(Ys)&&(Ys=null),gl.forEach(O_),pl.forEach(O_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ob)))}var Sc=null;function V_(e){Sc!==e&&(Sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||s)===null)continue;break}var f=Dn(s);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Fa(e){function n(C){return Ac(C,e)}Qs!==null&&Ac(Qs,e),Ks!==null&&Ac(Ks,e),Ys!==null&&Ac(Ys,e),gl.forEach(n),pl.forEach(n);for(var s=0;s<Xs.length;s++){var o=Xs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Xs.length&&(s=Xs[0],s.blockedOn===null);)x_(s),s.blockedOn===null&&Xs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Be]||null;if(typeof f=="function")g||V_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Be]||null)E=g.formAction;else if(Cd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),V_(s)}}}function M_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(e){this._internalRoot=e}wc.prototype.render=Nd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Rn();w_(s,o,e,n,null,null)},wc.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;w_(e.current,2,null,e,null,null),rc(),n[ci]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Xs.length&&n!==0&&n<Xs[s].priority;s++);Xs.splice(s,0,e),s===0&&x_(e)}};var k_=t.version;if(k_!=="19.2.3")throw Error(a(527,k_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Vb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Qn=Rc.inject(Vb),Ge=Rc}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=qp,f=Hp,g=Fp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=A_(e,1,!1,null,null,s,o,null,h,f,g,M_),e[ci]=n.current,cd(e),new Nd(n)},vl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=qp,g=Hp,E=Fp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=A_(e,1,!0,n,s??null,o,h,C,f,g,E,M_),n.context=S_(null),s=n.current,o=Rn(),o=br(o),h=Ms(o),h.callback=null,ks(s,h,o),s=o,n.current.lanes=s,Er(n,s),Ri(n),e[ci]=n.current,cd(e),new wc(n)},vl.version="19.2.3",vl}var G_;function Hb(){if(G_)return Od.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=qb(),Od.exports}var Fb=Hb();const Gb=()=>{};var Q_={};const O0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Qb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},V0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let O=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(O=64)),a.push(i[b],i[A],i[O],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(O0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Qb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new Kb;const O=c<<2|p>>4;if(a.push(O),_!==64){const G=p<<4&240|_>>2;if(a.push(G),A!==64){const J=_<<6&192|A;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Kb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yb=function(r){const t=O0(r);return V0.encodeByteArray(t,!0)},Gc=function(r){return Yb(r).replace(/\./g,"")},M0=function(r){try{return V0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Xb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $b=()=>Xb().__FIREBASE_DEFAULTS__,Zb=()=>{if(typeof process>"u"||typeof Q_>"u")return;const r=Q_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Jb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&M0(r[1]);return t&&JSON.parse(t)},ch=()=>{try{return Gb()||$b()||Zb()||Jb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},k0=r=>ch()?.emulatorHosts?.[r],Wb=r=>{const t=k0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},U0=()=>ch()?.config,L0=r=>ch()?.[`_${r}`];class tA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function P0(r){return(await fetch(r,{credentials:"include"})).ok}function eA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Sl={};function nA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?r.emulator.push(t):r.prod.push(t);return r}function iA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let K_=!1;function z0(r,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Sl[r]===t||Sl[r]||K_)return;Sl[r]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=nA().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function y(O,G){O.setAttribute("width","24"),O.setAttribute("id",G),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{K_=!0,d()},O}function b(O,G){O.setAttribute("id",G),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function A(){const O=iA(a),G=i("text"),J=document.getElementById(G)||document.createElement("span"),it=i("learnmore"),W=document.getElementById(it)||document.createElement("a"),ft=i("preprendIcon"),vt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const dt=O.element;p(dt),b(W,it);const Xt=_();y(vt,ft),dt.append(vt,J,W,Xt),document.body.appendChild(dt)}c?(J.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function rA(){const r=ch()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function lA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uA(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function cA(){return!rA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hA(){try{return typeof indexedDB=="object"}catch{return!1}}function fA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const dA="FirebaseError";class ps extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=dA,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?mA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ps(l,p,a)}}function mA(r,t){return r.replace(gA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const gA=/\{\$([^}]+)}/g;function pA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Zr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(Y_(c)&&Y_(d)){if(!Zr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Y_(r){return r!==null&&typeof r=="object"}function jl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function yA(r,t){const i=new _A(r,t);return i.subscribe.bind(i)}class _A{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");vA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function We(r){return r&&r._delegate?r._delegate:r}class Jr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Kr="[DEFAULT]";class EA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new tA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bA(t))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Kr){return this.instances.has(t)}getOptions(t=Kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:TA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Kr){return this.component?this.component.multipleInstances?t:Kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TA(r){return r===Kr?void 0:r}function bA(r){return r.instantiationMode==="EAGER"}class AA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new EA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const SA={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},wA=kt.INFO,RA={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},CA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=RA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rm{constructor(t){this.name=t,this._logLevel=wA,this._logHandler=CA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const IA=(r,t)=>t.some(i=>r instanceof i);let X_,$_;function NA(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DA(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j0=new WeakMap,Jd=new WeakMap,B0=new WeakMap,Ld=new WeakMap,Cm=new WeakMap;function xA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ir(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&j0.set(i,r)}).catch(()=>{}),Cm.set(t,r),t}function OA(r){if(Jd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Jd.set(r,t)}let Wd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Jd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||B0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ir(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function VA(r){Wd=r(Wd)}function MA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Pd(this),t,...i);return B0.set(a,t.sort?t.sort():[t]),ir(a)}:DA().includes(r)?function(...t){return r.apply(Pd(this),t),ir(j0.get(this))}:function(...t){return ir(r.apply(Pd(this),t))}}function kA(r){return typeof r=="function"?MA(r):(r instanceof IDBTransaction&&OA(r),IA(r,NA())?new Proxy(r,Wd):r)}function ir(r){if(r instanceof IDBRequest)return xA(r);if(Ld.has(r))return Ld.get(r);const t=kA(r);return t!==r&&(Ld.set(r,t),Cm.set(t,r)),t}const Pd=r=>Cm.get(r);function UA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=ir(d);return a&&d.addEventListener("upgradeneeded",y=>{a(ir(d.result),y.oldVersion,y.newVersion,ir(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const LA=["get","getKey","getAll","getAllKeys","count"],PA=["put","add","delete","clear"],zd=new Map;function Z_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=PA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||LA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return zd.set(t,c),c}VA(r=>({...r,get:(t,i,a)=>Z_(t,i)||r.get(t,i,a),has:(t,i)=>!!Z_(t,i)||r.has(t,i)}));class zA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function jA(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",J_="0.14.6";const cs=new Rm("@firebase/app"),BA="@firebase/app-compat",qA="@firebase/analytics-compat",HA="@firebase/analytics",FA="@firebase/app-check-compat",GA="@firebase/app-check",QA="@firebase/auth",KA="@firebase/auth-compat",YA="@firebase/database",XA="@firebase/data-connect",$A="@firebase/database-compat",ZA="@firebase/functions",JA="@firebase/functions-compat",WA="@firebase/installations",tS="@firebase/installations-compat",eS="@firebase/messaging",nS="@firebase/messaging-compat",iS="@firebase/performance",sS="@firebase/performance-compat",rS="@firebase/remote-config",aS="@firebase/remote-config-compat",oS="@firebase/storage",lS="@firebase/storage-compat",uS="@firebase/firestore",cS="@firebase/ai",hS="@firebase/firestore-compat",fS="firebase",dS="12.6.0";const em="[DEFAULT]",mS={[tm]:"fire-core",[BA]:"fire-core-compat",[HA]:"fire-analytics",[qA]:"fire-analytics-compat",[GA]:"fire-app-check",[FA]:"fire-app-check-compat",[QA]:"fire-auth",[KA]:"fire-auth-compat",[YA]:"fire-rtdb",[XA]:"fire-data-connect",[$A]:"fire-rtdb-compat",[ZA]:"fire-fn",[JA]:"fire-fn-compat",[WA]:"fire-iid",[tS]:"fire-iid-compat",[eS]:"fire-fcm",[nS]:"fire-fcm-compat",[iS]:"fire-perf",[sS]:"fire-perf-compat",[rS]:"fire-rc",[aS]:"fire-rc-compat",[oS]:"fire-gcs",[lS]:"fire-gcs-compat",[uS]:"fire-fst",[hS]:"fire-fst-compat",[cS]:"fire-vertex","fire-js":"fire-js",[fS]:"fire-js-all"};const Qc=new Map,gS=new Map,nm=new Map;function W_(r,t){try{r.container.addComponent(t)}catch(i){cs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function eo(r){const t=r.name;if(nm.has(t))return cs.debug(`There were multiple attempts to register component ${t}.`),!1;nm.set(t,r);for(const i of Qc.values())W_(i,r);for(const i of gS.values())W_(i,r);return!0}function Im(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function qn(r){return r==null?!1:r.settings!==void 0}const pS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new zl("app","Firebase",pS);class yS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const uo=dS;function q0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:em,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw sr.create("bad-app-name",{appName:String(l)});if(i||(i=U0()),!i)throw sr.create("no-options");const c=Qc.get(l);if(c){if(Zr(i,c.options)&&Zr(a,c.config))return c;throw sr.create("duplicate-app",{appName:l})}const d=new AA(l);for(const y of nm.values())d.addComponent(y);const p=new yS(i,a,d);return Qc.set(l,p),p}function H0(r=em){const t=Qc.get(r);if(!t&&r===em&&U0())return q0();if(!t)throw sr.create("no-app",{appName:r});return t}function rr(r,t,i){let a=mS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cs.warn(d.join(" "));return}eo(new Jr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const _S="firebase-heartbeat-database",vS=1,Dl="firebase-heartbeat-store";let jd=null;function F0(){return jd||(jd=UA(_S,vS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(r=>{throw sr.create("idb-open",{originalErrorMessage:r.message})})),jd}async function ES(r){try{const i=(await F0()).transaction(Dl),a=await i.objectStore(Dl).get(G0(r));return await i.done,a}catch(t){if(t instanceof ps)cs.warn(t.message);else{const i=sr.create("idb-get",{originalErrorMessage:t?.message});cs.warn(i.message)}}}async function tv(r,t){try{const a=(await F0()).transaction(Dl,"readwrite");await a.objectStore(Dl).put(t,G0(r)),await a.done}catch(i){if(i instanceof ps)cs.warn(i.message);else{const a=sr.create("idb-set",{originalErrorMessage:i?.message});cs.warn(a.message)}}}function G0(r){return`${r.name}!${r.options.appId}`}const TS=1024,bS=30;class AS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ev();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>bS){const l=RS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){cs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ev(),{heartbeatsToSend:i,unsentEntries:a}=SS(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return cs.warn(t),""}}}function ev(){return new Date().toISOString().substring(0,10)}function SS(r,t=TS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),nv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),nv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class wS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hA()?fA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ES(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function nv(r){return Gc(JSON.stringify({version:2,heartbeats:r})).length}function RS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function CS(r){eo(new Jr("platform-logger",t=>new zA(t),"PRIVATE")),eo(new Jr("heartbeat",t=>new AS(t),"PRIVATE")),rr(tm,J_,r),rr(tm,J_,"esm2020"),rr("fire-js","")}CS("");var IS="firebase",NS="12.7.0";rr(IS,NS,"app");function Q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DS=Q0,K0=new zl("auth","Firebase",Q0());const Kc=new Rm("@firebase/auth");function xS(r,...t){Kc.logLevel<=kt.WARN&&Kc.warn(`Auth (${uo}): ${r}`,...t)}function kc(r,...t){Kc.logLevel<=kt.ERROR&&Kc.error(`Auth (${uo}): ${r}`,...t)}function hs(r,...t){throw Nm(r,...t)}function xi(r,...t){return Nm(r,...t)}function Y0(r,t,i){const a={...DS(),[t]:i};return new zl("auth","Firebase",a).create(t,{appName:r.name})}function us(r){return Y0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return K0.create(r,...t)}function _t(r,t,...i){if(!r)throw Nm(t,...i)}function os(r){const t="INTERNAL ASSERTION FAILED: "+r;throw kc(t),new Error(t)}function fs(r,t){r||os(t)}function im(){return typeof self<"u"&&self.location?.href||""}function OS(){return iv()==="http:"||iv()==="https:"}function iv(){return typeof self<"u"&&self.location?.protocol||null}function VS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OS()||oA()||"connection"in navigator)?navigator.onLine:!0}function MS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Bl{constructor(t,i){this.shortDelay=t,this.longDelay=i,fs(i>t,"Short delay should be less than long delay!"),this.isMobile=sA()||lA()}get(){return VS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(r,t){fs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class X0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const US=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LS=new Bl(3e4,6e4);function ql(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function co(r,t,i,a,l={}){return $0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=jl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return aA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&lo(r.emulatorConfig.host)&&(_.credentials="include"),X0.fetch()(await Z0(r,r.config.apiHost,i,p),_)})}async function $0(r,t,i){r._canInitEmulator=!1;const a={...kS,...t};try{const l=new PS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Cc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Cc(r,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Y0(r,b,_);hs(r,b)}}catch(l){if(l instanceof ps)throw l;hs(r,"network-request-failed",{message:String(l)})}}async function xm(r,t,i,a,l={}){const c=await co(r,t,i,a,l);return"mfaPendingCredential"in c&&hs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Z0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Dm(r.config,l):`${r.config.apiScheme}://${l}`;return US.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class PS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(xi(this.auth,"network-request-failed")),LS.get())})}}function Cc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=xi(r,t,a);return l.customData._tokenResponse=i,l}async function zS(r,t){return co(r,"POST","/v1/accounts:delete",t)}async function Yc(r,t){return co(r,"POST","/v1/accounts:lookup",t)}function wl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function jS(r,t=!1){const i=We(r),a=await i.getIdToken(t),l=Om(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:wl(Bd(l.auth_time)),issuedAtTime:wl(Bd(l.iat)),expirationTime:wl(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Om(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const l=M0(i);return l?JSON.parse(l):(kc("Failed to decode base64 JWT payload"),null)}catch(l){return kc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function sv(r){const t=Om(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function xl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ps&&BS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function BS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class qS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(r){const t=r.auth,i=await r.getIdToken(),a=await xl(r,Yc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?J0(l.providerUserInfo):[],d=FS(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function HS(r){const t=We(r);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function FS(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function J0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function GS(r,t){const i=await $0(r,{},async()=>{const a=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Z0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&lo(r.emulatorConfig.host)&&(y.credentials="include"),X0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function QS(r,t){return co(r,"POST","/v2/accounts:revokeToken",ql(r,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=sv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await GS(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new $a;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return os("not implemented")}}function Zs(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new qS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await xl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return jS(this,t)}reload(){return HS(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(us(this.auth));const t=await this.getIdToken();return await xl(this,zS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:O,isAnonymous:G,providerData:J,stsTokenManager:it}=i;_t(A&&it,t,"internal-error");const W=$a.fromJSON(this.name,it);_t(typeof A=="string",t,"internal-error"),Zs(a,t.name),Zs(l,t.name),_t(typeof O=="boolean",t,"internal-error"),_t(typeof G=="boolean",t,"internal-error"),Zs(c,t.name),Zs(d,t.name),Zs(p,t.name),Zs(y,t.name),Zs(_,t.name),Zs(b,t.name);const ft=new si({uid:A,auth:t,email:l,emailVerified:O,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:b});return J&&Array.isArray(J)&&(ft.providerData=J.map(vt=>({...vt}))),y&&(ft._redirectEventId=y),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new $a;l.updateFromServerResponse(i);const c=new si({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?J0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new $a;p.updateFromIdToken(a);const y=new si({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const rv=new Map;function ls(r){fs(r instanceof Function,"Expected a class definition");let t=rv.get(r);return t?(fs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,rv.set(r,t),t)}class W0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}W0.type="NONE";const av=W0;function Uc(r,t,i){return`firebase:${r}:${t}:${i}`}class Za{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Uc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Za(ls(av),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ls(av);const d=Uc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const O=await Yc(t,{idToken:b}).catch(()=>{});if(!O)break;A=await si._fromGetAccountInfoResponse(t,O,b)}else A=si._fromJSON(t,b);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Za(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Za(c,t,a))}}function ov(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(iE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(tE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rE(t))return"Blackberry";if(aE(t))return"Webos";if(eE(t))return"Safari";if((t.includes("chrome/")||nE(t))&&!t.includes("edge/"))return"Chrome";if(sE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function tE(r=an()){return/firefox\//i.test(r)}function eE(r=an()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nE(r=an()){return/crios\//i.test(r)}function iE(r=an()){return/iemobile/i.test(r)}function sE(r=an()){return/android/i.test(r)}function rE(r=an()){return/blackberry/i.test(r)}function aE(r=an()){return/webos/i.test(r)}function Vm(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function KS(r=an()){return Vm(r)&&!!window.navigator?.standalone}function YS(){return uA()&&document.documentMode===10}function oE(r=an()){return Vm(r)||sE(r)||aE(r)||rE(r)||/windows phone/i.test(r)||iE(r)}function lE(r,t=[]){let i;switch(r){case"Browser":i=ov(an());break;case"Worker":i=`${ov(an())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${uo}/${a}`}class XS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function $S(r,t={}){return co(r,"GET","/v2/passwordPolicy",ql(r,t))}const ZS=6;class JS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ZS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class WS{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lv(this),this.idTokenSubscription=new lv(this),this.beforeStateQueue=new XS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ls(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),a=await si._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=MS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qn(this.app))return Promise.reject(us(this));const i=t?We(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qn(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $S(this),i=new JS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await QS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ls(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[ls(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=lE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&xS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Hl(r){return We(r)}class lv{constructor(t){this.auth=t,this.observer=null,this.addObserver=yA(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tw(r){Mm=r}function ew(r){return Mm.loadJS(r)}function nw(){return Mm.gapiScript}function iw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function sw(r,t){const i=Im(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Zr(c,t??{}))return l;hs(l,"already-initialized")}return i.initialize({options:t})}function rw(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ls);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function aw(r,t,i){const a=Hl(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=uE(t),{host:d,port:p}=ow(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(Zr(_,a.config.emulator)&&Zr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,lo(d)?(P0(`${c}//${d}${y}`),z0("Auth",!0)):lw()}function uE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function ow(r){const t=uE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:uv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:uv(d)}}}function uv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function lw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class cE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return os("not implemented")}_getIdTokenResponse(t){return os("not implemented")}_linkToIdToken(t,i){return os("not implemented")}_getReauthenticationResolver(t){return os("not implemented")}}async function Ja(r,t){return xm(r,"POST","/v1/accounts:signInWithIdp",ql(r,t))}const uw="http://localhost";class Wr extends cE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Wr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):hs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Wr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ja(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:uw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jl(i)}return t}}class hE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fl extends hE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Js extends Fl{constructor(){super("facebook.com")}static credential(t){return Wr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";class Ws extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Wr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ws.credential(i,a)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";class tr extends Fl{constructor(){super("github.com")}static credential(t){return Wr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";class er extends Fl{constructor(){super("twitter.com")}static credential(t,i){return Wr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return er.credential(i,a)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";async function cw(r,t){return xm(r,"POST","/v1/accounts:signUp",ql(r,t))}class ds{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await si._fromIdTokenResponse(t,a,l),d=cv(a);return new ds({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=cv(a);return new ds({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function cv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function hw(r){if(qn(r.app))return Promise.reject(us(r));const t=Hl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ds({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await cw(t,{returnSecureToken:!0}),a=await ds._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class $c extends ps{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new $c(t,i,a,l)}}function fE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(r,c,t,a):c})}async function fw(r,t,i=!1){const a=await xl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ds._forOperation(r,"link",a)}async function dw(r,t,i=!1){const{auth:a}=r;if(qn(a.app))return Promise.reject(us(a));const l="reauthenticate";try{const c=await xl(r,fE(a,l,t,r),i);_t(c.idToken,a,"internal-error");const d=Om(c.idToken);_t(d,a,"internal-error");const{sub:p}=d;return _t(r.uid===p,a,"user-mismatch"),ds._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&hs(a,"user-mismatch"),c}}async function mw(r,t,i=!1){if(qn(r.app))return Promise.reject(us(r));const a="signIn",l=await fE(r,a,t),c=await ds._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function gw(r,t){return xm(r,"POST","/v1/accounts:signInWithCustomToken",ql(r,t))}async function pw(r,t){if(qn(r.app))return Promise.reject(us(r));const i=Hl(r),a=await gw(i,{token:t,returnSecureToken:!0}),l=await ds._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function yw(r,t,i,a){return We(r).onIdTokenChanged(t,i,a)}function _w(r,t,i){return We(r).beforeAuthStateChanged(t,i)}function vw(r,t,i,a){return We(r).onAuthStateChanged(t,i,a)}const Zc="__sak";class dE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ew=1e3,Tw=10;class mE extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);YS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Tw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}mE.type="LOCAL";const bw=mE;class gE extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}gE.type="SESSION";const pE=gE;function Aw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class hh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new hh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await Aw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function km(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class Sw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=km("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const O=A;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Oi(){return window}function ww(r){Oi().location.href=r}function yE(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function Rw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cw(){return navigator?.serviceWorker?.controller||null}function Iw(){return yE()?self:null}const _E="firebaseLocalStorageDb",Nw=1,Jc="firebaseLocalStorage",vE="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fh(r,t){return r.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function Dw(){const r=indexedDB.deleteDatabase(_E);return new Gl(r).toPromise()}function rm(){const r=indexedDB.open(_E,Nw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Jc,{keyPath:vE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Jc)?t(a):(a.close(),await Dw(),t(await rm()))})})}async function hv(r,t,i){const a=fh(r,!0).put({[vE]:t,value:i});return new Gl(a).toPromise()}async function xw(r,t){const i=fh(r,!1).get(t),a=await new Gl(i).toPromise();return a===void 0?null:a.value}function fv(r,t){const i=fh(r,!0).delete(t);return new Gl(i).toPromise()}const Ow=800,Vw=3;class EE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Vw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(Iw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Rw(),!this.activeServiceWorker)return;this.sender=new Sw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Cw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rm();return await hv(t,Zc,"1"),await fv(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>hv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>xw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>fv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=fh(l,!1).getAll();return new Gl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EE.type="LOCAL";const Mw=EE;new Bl(3e4,6e4);function kw(r,t){return t?ls(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Um extends cE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Uw(r){return mw(r.auth,new Um(r),r.bypassAuthState)}function Lw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),dw(i,new Um(r),r.bypassAuthState)}async function Pw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),fw(i,new Um(r),r.bypassAuthState)}class TE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Uw;case"linkViaPopup":case"linkViaRedirect":return Pw;case"reauthViaPopup":case"reauthViaRedirect":return Lw;default:hs(this.auth,"internal-error")}}resolve(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zw=new Bl(2e3,1e4);class Xa extends TE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const t=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zw.get())};t()}}Xa.currentPopupAction=null;const jw="pendingRedirect",Lc=new Map;class Bw extends TE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Lc.get(this.auth._key());if(!t){try{const a=await qw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Lc.set(this.auth._key(),t)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qw(r,t){const i=Gw(t),a=Fw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Hw(r,t){Lc.set(r._key(),t)}function Fw(r){return ls(r._redirectPersistence)}function Gw(r){return Uc(jw,r.config.apiKey,r.name)}async function Qw(r,t,i=!1){if(qn(r.app))return Promise.reject(us(r));const a=Hl(r),l=kw(a,t),d=await new Bw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Kw=600*1e3;class Yw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Xw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!bE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Kw&&this.cachedEventUids.clear(),this.cachedEventUids.has(dv(t))}saveEventToCache(t){this.cachedEventUids.add(dv(t)),this.lastProcessedEventTime=Date.now()}}function dv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function bE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Xw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bE(r);default:return!1}}async function $w(r,t={}){return co(r,"GET","/v1/projects",t)}const Zw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jw=/^https?/;async function Ww(r){if(r.config.emulator)return;const{authorizedDomains:t}=await $w(r);for(const i of t)try{if(t2(i))return}catch{}hs(r,"unauthorized-domain")}function t2(r){const t=im(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Jw.test(i))return!1;if(Zw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const e2=new Bl(3e4,6e4);function mv(){const r=Oi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function n2(r){return new Promise((t,i)=>{function a(){mv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mv(),i(xi(r,"network-request-failed"))},timeout:e2.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)a();else{const l=iw("iframefcb");return Oi()[l]=()=>{gapi.load?a():i(xi(r,"network-request-failed"))},ew(`${nw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function i2(r){return Pc=Pc||n2(r),Pc}const s2=new Bl(5e3,15e3),r2="__/auth/iframe",a2="emulator/auth/iframe",o2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u2(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Dm(t,a2):`https://${r.config.authDomain}/${r2}`,a={apiKey:t.apiKey,appName:r.name,v:uo},l=l2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${jl(a).slice(1)}`}async function c2(r){const t=await i2(r),i=Oi().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:u2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=xi(r,"network-request-failed"),p=Oi().setTimeout(()=>{c(d)},s2.get());function y(){Oi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const h2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f2=500,d2=600,m2="_blank",g2="http://localhost";class gv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p2(r,t,i,a=f2,l=d2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...h2,width:a.toString(),height:l.toString(),top:c,left:d},_=an().toLowerCase();i&&(p=nE(_)?m2:i),tE(_)&&(t=t||g2,y.scrollbars="yes");const b=Object.entries(y).reduce((O,[G,J])=>`${O}${G}=${J},`,"");if(KS(_)&&p!=="_self")return y2(t||"",p),new gv(null);const A=window.open(t||"",p,b);_t(A,r,"popup-blocked");try{A.focus()}catch{}return new gv(A)}function y2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const _2="__/auth/handler",v2="emulator/auth/handler",E2=encodeURIComponent("fac");async function pv(r,t,i,a,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:uo,eventId:l};if(t instanceof hE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",pA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Fl){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await r._getAppCheckToken(),_=y?`#${E2}=${encodeURIComponent(y)}`:"";return`${T2(r)}?${jl(p).slice(1)}${_}`}function T2({config:r}){return r.emulator?Dm(r,v2):`https://${r.authDomain}/${_2}`}const qd="webStorageSupport";class b2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=Qw,this._overrideRedirectResult=Hw}async _openPopup(t,i,a,l){fs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await pv(t,i,a,im(),l);return p2(t,c,km())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await pv(t,i,a,im(),l);return ww(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(fs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await c2(t),a=new Yw(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(qd,{type:qd},l=>{const c=l?.[0]?.[qd];c!==void 0&&i(!!c),hs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ww(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return oE()||eE()||Vm()}}const A2=b2;var yv="@firebase/auth",_v="1.12.0";class S2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function w2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R2(r){eo(new Jr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lE(r)},_=new WS(a,l,c,y);return rw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),eo(new Jr("auth-internal",t=>{const i=Hl(t.getProvider("auth").getImmediate());return(a=>new S2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(yv,_v,w2(r)),rr(yv,_v,"esm2020")}const C2=300,I2=L0("authIdTokenMaxAge")||C2;let vv=null;const N2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>I2)return;const l=i?.token;vv!==l&&(vv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function D2(r=H0()){const t=Im(r,"auth");if(t.isInitialized())return t.getImmediate();const i=sw(r,{popupRedirectResolver:A2,persistence:[Mw,bw,pE]}),a=L0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=N2(c.toString());_w(i,d,()=>d(i.currentUser)),yw(i,p=>d(p))}}const l=k0("auth");return l&&aw(i,`http://${l}`),i}function x2(){return document.getElementsByTagName("head")?.[0]??document}tw({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=xi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",x2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R2("Browser");var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ar,AE;(function(){var r;function t(I,S){function R(){}R.prototype=S.prototype,I.F=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(V,D,M){for(var w=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)w[ae-2]=arguments[ae];return S.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,R){R||(R=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)V[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],D=I.g[2];let M=I.g[3],w;w=S+(M^R&(D^M))+V[0]+3614090360&4294967295,S=R+(w<<7&4294967295|w>>>25),w=M+(D^S&(R^D))+V[1]+3905402710&4294967295,M=S+(w<<12&4294967295|w>>>20),w=D+(R^M&(S^R))+V[2]+606105819&4294967295,D=M+(w<<17&4294967295|w>>>15),w=R+(S^D&(M^S))+V[3]+3250441966&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(M^R&(D^M))+V[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=M+(D^S&(R^D))+V[5]+1200080426&4294967295,M=S+(w<<12&4294967295|w>>>20),w=D+(R^M&(S^R))+V[6]+2821735955&4294967295,D=M+(w<<17&4294967295|w>>>15),w=R+(S^D&(M^S))+V[7]+4249261313&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(M^R&(D^M))+V[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=M+(D^S&(R^D))+V[9]+2336552879&4294967295,M=S+(w<<12&4294967295|w>>>20),w=D+(R^M&(S^R))+V[10]+4294925233&4294967295,D=M+(w<<17&4294967295|w>>>15),w=R+(S^D&(M^S))+V[11]+2304563134&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(M^R&(D^M))+V[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=M+(D^S&(R^D))+V[13]+4254626195&4294967295,M=S+(w<<12&4294967295|w>>>20),w=D+(R^M&(S^R))+V[14]+2792965006&4294967295,D=M+(w<<17&4294967295|w>>>15),w=R+(S^D&(M^S))+V[15]+1236535329&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(D^M&(R^D))+V[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=M+(R^D&(S^R))+V[6]+3225465664&4294967295,M=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(M^S))+V[11]+643717713&4294967295,D=M+(w<<14&4294967295|w>>>18),w=R+(M^S&(D^M))+V[0]+3921069994&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(D^M&(R^D))+V[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=M+(R^D&(S^R))+V[10]+38016083&4294967295,M=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(M^S))+V[15]+3634488961&4294967295,D=M+(w<<14&4294967295|w>>>18),w=R+(M^S&(D^M))+V[4]+3889429448&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(D^M&(R^D))+V[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=M+(R^D&(S^R))+V[14]+3275163606&4294967295,M=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(M^S))+V[3]+4107603335&4294967295,D=M+(w<<14&4294967295|w>>>18),w=R+(M^S&(D^M))+V[8]+1163531501&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(D^M&(R^D))+V[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=M+(R^D&(S^R))+V[2]+4243563512&4294967295,M=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(M^S))+V[7]+1735328473&4294967295,D=M+(w<<14&4294967295|w>>>18),w=R+(M^S&(D^M))+V[12]+2368359562&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(R^D^M)+V[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=M+(S^R^D)+V[8]+2272392833&4294967295,M=S+(w<<11&4294967295|w>>>21),w=D+(M^S^R)+V[11]+1839030562&4294967295,D=M+(w<<16&4294967295|w>>>16),w=R+(D^M^S)+V[14]+4259657740&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(R^D^M)+V[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=M+(S^R^D)+V[4]+1272893353&4294967295,M=S+(w<<11&4294967295|w>>>21),w=D+(M^S^R)+V[7]+4139469664&4294967295,D=M+(w<<16&4294967295|w>>>16),w=R+(D^M^S)+V[10]+3200236656&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(R^D^M)+V[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=M+(S^R^D)+V[0]+3936430074&4294967295,M=S+(w<<11&4294967295|w>>>21),w=D+(M^S^R)+V[3]+3572445317&4294967295,D=M+(w<<16&4294967295|w>>>16),w=R+(D^M^S)+V[6]+76029189&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(R^D^M)+V[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=M+(S^R^D)+V[12]+3873151461&4294967295,M=S+(w<<11&4294967295|w>>>21),w=D+(M^S^R)+V[15]+530742520&4294967295,D=M+(w<<16&4294967295|w>>>16),w=R+(D^M^S)+V[2]+3299628645&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(D^(R|~M))+V[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=M+(R^(S|~D))+V[7]+1126891415&4294967295,M=S+(w<<10&4294967295|w>>>22),w=D+(S^(M|~R))+V[14]+2878612391&4294967295,D=M+(w<<15&4294967295|w>>>17),w=R+(M^(D|~S))+V[5]+4237533241&4294967295,R=D+(w<<21&4294967295|w>>>11),w=S+(D^(R|~M))+V[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=M+(R^(S|~D))+V[3]+2399980690&4294967295,M=S+(w<<10&4294967295|w>>>22),w=D+(S^(M|~R))+V[10]+4293915773&4294967295,D=M+(w<<15&4294967295|w>>>17),w=R+(M^(D|~S))+V[1]+2240044497&4294967295,R=D+(w<<21&4294967295|w>>>11),w=S+(D^(R|~M))+V[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=M+(R^(S|~D))+V[15]+4264355552&4294967295,M=S+(w<<10&4294967295|w>>>22),w=D+(S^(M|~R))+V[6]+2734768916&4294967295,D=M+(w<<15&4294967295|w>>>17),w=R+(M^(D|~S))+V[13]+1309151649&4294967295,R=D+(w<<21&4294967295|w>>>11),w=S+(D^(R|~M))+V[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=M+(R^(S|~D))+V[11]+3174756917&4294967295,M=S+(w<<10&4294967295|w>>>22),w=D+(S^(M|~R))+V[2]+718787259&4294967295,D=M+(w<<15&4294967295|w>>>17),w=R+(M^(D|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+M&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const R=S-this.blockSize,V=this.C;let D=this.h,M=0;for(;M<S;){if(D==0)for(;M<=R;)l(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<S;)if(V[D++]=I.charCodeAt(M++),D==this.blockSize){l(this,V),D=0;break}}else for(;M<S;)if(V[D++]=I[M++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)I[S++]=this.g[R]>>>V&255;return I};function c(I,S){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function d(I,S){this.h=S;const R=[];let V=!0;for(let D=I.length-1;D>=0;D--){const M=I[D]|0;V&&M==S||(R[D]=M,V=!1)}this.g=R}var p={};function y(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return W(_(-I));const S=[];let R=1;for(let V=0;I>=R;V++)S[V]=I/R|0,R*=4294967296;return new d(S,0)}function b(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return W(b(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let V=A;for(let M=0;M<I.length;M+=8){var D=Math.min(8,I.length-M);const w=parseInt(I.substring(M,M+D),S);D<8?(D=_(Math.pow(S,D)),V=V.j(D).add(_(w))):(V=V.j(R),V=V.add(_(w)))}return V}var A=y(0),O=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(it(this))return-W(this).m();let I=0,S=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(it(this))return"-"+W(this).toString(I);const S=_(Math.pow(I,6));var R=this;let V="";for(;;){const D=Xt(R,S).g;R=ft(R,D.j(S));let M=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=D,J(R))return M+V;for(;M.length<6;)M="0"+M;V=M+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function it(I){return I.h==-1}r.l=function(I){return I=ft(this,I),it(I)?-1:J(I)?0:1};function W(I){const S=I.g.length,R=[];for(let V=0;V<S;V++)R[V]=~I.g[V];return new d(R,~I.h).add(O)}r.abs=function(){return it(this)?W(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),R=[];let V=0;for(let D=0;D<=S;D++){let M=V+(this.i(D)&65535)+(I.i(D)&65535),w=(M>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=w>>>16,M&=65535,w&=65535,R[D]=w<<16|M}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ft(I,S){return I.add(W(S))}r.j=function(I){if(J(this)||J(I))return A;if(it(this))return it(I)?W(this).j(W(I)):W(W(this).j(I));if(it(I))return W(this.j(W(I)));if(this.l(G)<0&&I.l(G)<0)return _(this.m()*I.m());const S=this.g.length+I.g.length,R=[];for(var V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const M=this.i(V)>>>16,w=this.i(V)&65535,ae=I.i(D)>>>16,fe=I.i(D)&65535;R[2*V+2*D]+=w*fe,vt(R,2*V+2*D),R[2*V+2*D+1]+=M*fe,vt(R,2*V+2*D+1),R[2*V+2*D+1]+=w*ae,vt(R,2*V+2*D+1),R[2*V+2*D+2]+=M*ae,vt(R,2*V+2*D+2)}for(I=0;I<S;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=S;I<2*S;I++)R[I]=0;return new d(R,0)};function vt(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function dt(I,S){this.g=I,this.h=S}function Xt(I,S){if(J(S))throw Error("division by zero");if(J(I))return new dt(A,A);if(it(I))return S=Xt(W(I),S),new dt(W(S.g),W(S.h));if(it(S))return S=Xt(I,W(S)),new dt(W(S.g),S.h);if(I.g.length>30){if(it(I)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var R=O,V=S;V.l(I)<=0;)R=Zt(R),V=Zt(V);var D=It(R,1),M=It(V,1);for(V=It(V,2),R=It(R,2);!J(V);){var w=M.add(V);w.l(I)<=0&&(D=D.add(R),M=w),V=It(V,1),R=It(R,1)}return S=ft(I,D.j(S)),new dt(D,S)}for(D=A;I.l(S)>=0;){for(R=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),M=_(R),w=M.j(S);it(w)||w.l(I)>0;)R-=V,M=_(R),w=M.j(S);J(M)&&(M=O),D=D.add(M),I=ft(I,w)}return new dt(D,I)}r.B=function(I){return Xt(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)&I.i(V);return new d(R,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)|I.i(V);return new d(R,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)^I.i(V);return new d(R,this.h^I.h)};function Zt(I){const S=I.g.length+1,R=[];for(let V=0;V<S;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(R,I.h)}function It(I,S){const R=S>>5;S%=32;const V=I.g.length-R,D=[];for(let M=0;M<V;M++)D[M]=S>0?I.i(M+R)>>>S|I.i(M+R+1)<<32-S:I.i(M+R);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,AE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,ar=d}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var SE,El,wE,zc,am,RE,CE,IE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)tt[wt-2]=arguments[wt];return m.prototype[L].apply(T,tt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new it(()=>new Xt,u=>u.reset());class Xt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Zt,It=!1,I=new vt,S=()=>{const u=Promise.resolve(void 0);Zt=()=>{u.then(R)}};function R(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){W(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}It=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ae(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ae,D),ae.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=St(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),ve={};function oe(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)oe(u,m[B],v,T,L);return null}return v=Ee(v),u&&u[fe]?u.J(m,v,p(T)?!!T.capture:!1,L):Pi(u,m,v,!1,T,L)}function Pi(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let wt=mt(u);if(wt||(u[Ot]=wt=new st(u)),v=wt.add(m,v,T,tt,B),v.proxy)return v;if(T=zi(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)M||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(X(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function zi(){function u(v){return m.call(u.src,u.listener,v)}const m=Et;return u}function ji(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ji(u,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=Ee(v),u&&u[fe]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,L),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=mt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,L)),(v=u>-1?m[u]:null)&&Bi(v))}function Bi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])yt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(X(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=mt(m))?(yt(v,u),v.h==0&&(v.src=null,m[Ot]=null)):ut(u)}}}function X(u){return u in ve?ve[u]:ve[u]="on"+u}function Et(u,m){if(u.da)u=!0;else{m=new ae(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Bi(u),u=v.call(T,m)}return u}function mt(u){return u=u[Ot],u instanceof st?u:null}var In="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ee(u){return typeof u=="function"?u:(u[In]||(u[In]=function(m){return u.handleEvent(m)}),u[In])}function Bt(){V.call(this),this.i=new st(this),this.M=this,this.G=null}A(Bt,V),Bt.prototype[fe]=!0,Bt.prototype.removeEventListener=function(u,m,v,T){ji(this,u,m,v,T)};function jt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=Gt(B,T,!0,m)&&L;if(B=m.g=u,L=Gt(B,T,!0,m)&&L,L=Gt(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=Gt(B,T,!1,m)&&L}Bt.prototype.N=function(){if(Bt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},Bt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Bt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Gt(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const wt=tt.listener,Ae=tt.ha||tt.src;tt.fa&&yt(u.i,tt),L=wt.call(Ae,T)!==!1&&L}}return L&&!T.defaultPrevented}function ys(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function _s(u){u.g=ys(()=>{u.g=null,u.i&&(u.i=!1,_s(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Te extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_s(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(u){V.call(this),this.h=u,this.g={}}A(_r,V);var yo=[];function _o(u){Nt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Bi(m)},u),u.g={}}_r.prototype.N=function(){_r.Z.N.call(this),_o(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=d.JSON.stringify,Oh=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){D.call(this,"d")}A(Ge,D);function Nn(){D.call(this,"c")}A(Nn,D);var be={},nu=null;function sa(){return nu=nu||new Bt}be.Ia="serverreachability";function iu(u){D.call(this,be.Ia,u)}A(iu,D);function ai(u){const m=sa();jt(m,new iu(m))}be.STAT_EVENT="statevent";function vr(u,m){D.call(this,be.STAT_EVENT,u),this.stat=m}A(vr,D);function Ie(u){const m=sa();jt(m,new vr(m,u))}be.Ja="timingevent";function oi(u,m){D.call(this,be.Ja,u),this.size=m}A(oi,D);function li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Vh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",wt=B.split("&");for(let Qt=0;Qt<wt.length;Qt++){var Ae=wt[Qt].split("=");if(Ae.length>1){const de=Ae[0];Ae=Ae[1];const Vn=de.split("_");tt=Vn.length>=2&&Vn[1]=="type"?tt+(de+"="+Ae+"&"):tt+(de+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function su(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function ui(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,v)+(T?" "+T:"")})}function Er(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return vs(B)}catch{return m}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function br(){}A(br,tu),br.prototype.g=function(){return new XMLHttpRequest},Eo=new br;function qi(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Yn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Ne={},Be={};function ci(u,m,v){u.M=1,u.A=Ar(xe(m)),u.u=v,u.R=!0,ra(u,null)}function ra(u,m){u.F=Date.now(),hi(u),u.B=xe(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ua(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Xn,u.g=Eu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Te(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(yo[0]=L.toString()),L=yo);for(let B=0;B<L.length;B++){const tt=oe(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),Vh(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Jn(this.g),Ae=this.g.ya(),Qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||wt!=4||Ae==7||(Ae==8||Qt<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,Ie(12),_n(this),Dn(this);break t}}if(this.R){u=!0;let de;for(;!this.K&&this.C<v.length;)if(de=ou(this,v),de==Be){wt==4&&(this.m=4,Ie(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Ne){this.m=4,Ie(15),ui(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,de,null),di(this,de);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Ie(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(tt),tt.P=!0,Ie(11))}}else ui(this.i,this.l,v,null),di(this,v);wt==4&&_n(this),this.o&&!this.K&&(wt==4?pu(this.j,this):(this.o=!1,hi(this)))}else Fi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ie(12)):(this.m=0,Ie(13)),_n(this),Dn(this)}}}catch{}};function kh(u){if(!au(u))return u.g.la();const m=Qe(u.g);if(m==="")return"";let v="";const T=m.length,L=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Be:(v=Number(m.substring(v,T)),isNaN(v)?Ne:(T+=1,T+v>m.length?Be:(m=m.slice(T,T+v),u.C=T+v,m)))}Yn.prototype.cancel=function(){this.K=!0,_n(this)};function hi(u){u.T=Date.now()+u.H,aa(u,u.H)}function aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(_(u.aa,u),m)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Er(this.i,this.B),this.M!=2&&(ai(),Ie(17)),_n(this),this.m=2,Dn(this)):aa(this,this.T-u)};function Dn(u){u.j.I==0||u.K||pu(u.j,u)}function _n(u){fi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||gi(v.h,u))){if(!u.L&&gi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ma(v),Cs(v);else break t;Dr(v),Ie(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(_(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((u.L||v.g==u)&&ma(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Qt=L[m];const de=Qt[0];if(!(de<=v.K))if(v.K=de,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const Vn=Qt[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const bi=Qt[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Wn=Qt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(T=1.5*Wn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ti=u.g;if(ti){const xr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var B=T.h;B.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ao(B,B.h),B.h=null))}if(T.G){const ga=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(T.wa=ga,Jt(T.J,T.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=vu(T,T.L?T.ba:null,T.W),tt.L){So(T.h,tt);var wt=tt,Ae=T.O;Ae&&(wt.H=Ae),wt.D&&(fi(wt),hi(wt)),T.g=tt}else mu(T);v.i.length>0&&Ei(v)}else Qt[0]!="stop"&&Qt[0]!="close"||Ti(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ti(v,7):Vo(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}ai(4)}catch{}}var De=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function gi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function So(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,Es(this,u.u),this.h=u.h,Ro(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,qe(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),Es(this,m[4]),this.h=pi(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new bs(null,this.l))}vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Sr(m,la,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Sr(m,la,!0),"@"),u.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Sr(v,v.charAt(0)=="/"?Co:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Sr(v,cu)),u.join("")},vn.prototype.resolve=function(u){const m=xe(this);let v=!!u.j;v?qe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Es(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const wt=L[tt++];wt=="."?T&&tt==L.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(wt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Ro(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function xe(u){return new vn(u)}function qe(u,m,v){u.j=v?pi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Es(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof bs?(u.i=m,ca(u.i,u.l)):(v||(m=Sr(m,Ts)),u.i=new bs(m,u.l))}function Jt(u,m,v){u.i.set(m,v)}function Ar(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function pi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Sr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,un),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var la=/[#\/\?@]/g,uu=/[#\?:]/g,Co=/[#\?]/g,Ts=/[#\?@]/g,cu=/#/g;function bs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=bs.prototype,r.add=function(u,m){cn(this),this.i=null,u=As(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){cn(u),m=As(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Io(u,m){return cn(u),m=As(u,m),u.g.has(m)}r.forEach=function(u,m){cn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function No(u,m){cn(u);let v=[];if(typeof m=="string")Io(u,m)&&(v=v.concat(u.g.get(As(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return cn(this),this.i=null,u=As(this,u),Io(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=No(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(As(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=qi(v);v=No(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+qi(v[B])),u.push(tt)}}return this.i=u.join("&")};function fu(u){const m=new bs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function As(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ca(u,m){m&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(hu(this,T),ua(this,L,v))},u)),u.j=m}function $n(u,m){const v=new Kn;if(d.Image){const T=new Image;T.onload=b(xn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(xn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(xn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(xn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Do(u,m){const v=new Kn,T=new AbortController,L=setTimeout(()=>{T.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),xn(v,"TestPingServer: error",!1,m)})}function xn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Ss(){this.g=new Wl}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(yi,tu),yi.prototype.g=function(){return new wr(this.i,this.h)};function wr(u,m){Bt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(wr,Bt),r=wr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ws(this):Zn(this),this.readyState==3&&ha(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ws(this))},r.Na=function(u){this.g&&(this.response=u,ws(this))},r.ga=function(){this.g&&ws(this)};function ws(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return Nt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Rr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=On(v),typeof u=="string"?v!=null&&qi(v):Jt(u,m,v))}function ee(u){Bt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ee,Bt);var _i=/^https?$/i,xo=["POST","PUT"];r=ee.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Cr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Cr(this,B)}};function Cr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Hi(u)}function Oo(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,jt(this,"complete"),jt(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ir(this):this.Xa())},r.Xa=function(){Ir(this)};function Ir(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(jt(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(lu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!_i.test(tt?tt.toLowerCase():"")}v=T}if(v)jt(u,"complete"),jt(u,"success");else{u.o=6;try{var L=Jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Oo(u)}}finally{Hi(u)}}}}function Hi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||jt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function Qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=ru(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ft(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Rs(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new Ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Ie(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),Ei(this)};function Vo(u){if(fa(u),u.I==3){var m=u.V++,v=xe(u.J);if(Jt(v,"SID",u.M),Jt(v,"RID",m),Jt(v,"TYPE","terminate"),Nr(u,v),m=new Yn(u,u.j,m),m.M=2,m.A=Ar(xe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}_u(u)}function Cs(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function fa(u){Cs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Zt||S(),It||(Zt(),It=!0),I.add(m,u),u.D=0}}function da(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(_(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Yn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),v=xe(this.J),Jt(v,"RID",u),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),Nr(this,v),B&&(this.R?m="headers="+qi(On(B))+"&"+m:this.u&&Rr(v,this.u,B)),Ao(this.h,L),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",m),Jt(v,"SID","null"),L.U=!0,ci(L,v,null)):ci(L,v,m),this.I=2}}else this.I==3&&(u?Mo(this,u):this.i.length==0||bo(this.h)||Mo(this))};function Mo(u,m){var v;m?v=m.l:v=u.V++;const T=xe(u.J);Jt(T,"SID",u.M),Jt(T,"RID",v),Jt(T,"AID",u.K),Nr(u,T),u.u&&u.o&&Rr(T,u.u,u.o),v=new Yn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),ci(v,T,m)}function Nr(u,m){u.H&&Nt(u.H,function(v,T){Jt(m,T,v)}),u.l&&Nt({},function(v,T){Jt(m,T,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const Ae=["count="+v];wt==-1?v>0?(wt=L[0].g,Ae.push("ofs="+wt)):wt=0:Ae.push("ofs="+wt);let Qt=!0;for(let de=0;de<v;de++){var B=L[de].g;const Vn=L[de].map;if(B-=wt,B<0)wt=Math.max(0,L[de].g-100),Qt=!1;else try{B="req"+B+"_"||"";try{var tt=Vn instanceof Map?Vn:Object.entries(Vn);for(const[bi,Wn]of tt){let ti=Wn;p(Wn)&&(ti=vs(Wn)),Ae.push(B+bi+"="+encodeURIComponent(ti))}}catch(bi){throw Ae.push(B+"type="+encodeURIComponent("_badmap")),bi}}catch{T&&T(Vn)}}if(Qt){tt=Ae.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Zt||S(),It||(Zt(),It=!0),I.add(m,u),u.A=0}}function Dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(_(u.Da,u),yu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ie(10),Cs(this),gu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=xe(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),Nr(u,m),u.u&&u.o&&Rr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ar(xe(m)),v.u=null,v.R=!0,ra(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Cs(this),Dr(this),Ie(19))};function ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){ma(u),ko(u),u.g=null;var T=2}else if(gi(u.h,m))v=m.G,So(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=sa(),jt(T,new oi(T,v)),Ei(u)}else mu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&da(u,m)||T==2&&Dr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new vn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(T,"https"),Ar(T),L?$n(T.toString(),v):Do(T.toString(),v)}else Ie(2);u.I=0,u.l&&u.l.pa(m),_u(u),fa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var T=v instanceof vn?xe(v):new vn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Es(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new vn(null);T&&qe(B,T),m&&(B.g=m),L&&Es(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Jt(T,v,m),Jt(T,"VER",u.ka),Nr(u,T),T}function Eu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ee(new yi({ab:v})):new ee(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Is(){}Is.prototype.g=function(u,m){return new on(u,m)};function on(u,m){Bt.call(this),this.g=new Rs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gi(this)}A(on,Bt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Vo(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=vs(u),u=v);m.i.push(new De(m.Ya++,u)),m.I==3&&Ei(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,on.Z.N.call(this)};function bu(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(bu,Ge);function Au(){Nn.call(this),this.status=1}A(Au,Nn);function Gi(u){this.g=u}A(Gi,Tu),Gi.prototype.ra=function(){jt(this.g,"a")},Gi.prototype.qa=function(u){jt(this.g,new bu(u))},Gi.prototype.pa=function(u){jt(this.g,new Au)},Gi.prototype.oa=function(){jt(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,IE=function(){return new Is},CE=function(){return sa()},RE=be,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,zc=Tr,vo.COMPLETE="complete",wE=vo,eu.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Bt.prototype.listen=Bt.prototype.J,El=eu,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,SE=ee}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const Tv="@firebase/firestore",bv="4.9.3";class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let ho="12.7.0";const ta=new Rm("@firebase/firestore");function Ga(){return ta.logLevel}function at(r,...t){if(ta.logLevel<=kt.DEBUG){const i=t.map(Lm);ta.debug(`Firestore (${ho}): ${r}`,...i)}}function ms(r,...t){if(ta.logLevel<=kt.ERROR){const i=t.map(Lm);ta.error(`Firestore (${ho}): ${r}`,...i)}}function no(r,...t){if(ta.logLevel<=kt.WARN){const i=t.map(Lm);ta.warn(`Firestore (${ho}): ${r}`,...i)}}function Lm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,NE(r,a,i)}function NE(r,t,i){let a=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ms(a),new Error(a)}function $t(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||NE(t,l,a)}function At(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ps{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class DE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class O2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class V2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class M2{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){$t(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new or,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new or)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($t(typeof a.accessToken=="string",31837,{l:a}),new DE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class k2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new k2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){$t(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Av(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function P2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=P2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ut(r,t){return r<t?-1:r>t?1:0}function om(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Hd(l)===Hd(c)?Ut(l,c):Hd(l)?1:-1}return Ut(r.length,t.length)}const z2=55296,j2=57343;function Hd(r){const t=r.charCodeAt(0);return t>=z2&&t<=j2}function io(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const Sv="__name__";class Di{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Di.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Di.isNumericId(t),l=Di.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Di.extractNumericId(t).compare(Di.extractNumericId(i)):om(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ar.fromString(t.substring(4,t.length-2))}}class le extends Di{construct(t,i,a){return new le(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new rt($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const B2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Di{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return B2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sv}static keyField(){return new Je([Sv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new rt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new rt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(le.fromString(t))}static fromName(t){return new ht(le.fromString(t).popFirst(5))}static empty(){return new ht(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new le(t.slice()))}}function xE(r,t,i){if(!i)throw new rt($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function q2(r,t,i,a){if(t===!0&&a===!0)throw new rt($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function wv(r){if(!ht.isDocumentKey(r))throw new rt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Rv(r){if(ht.isDocumentKey(r))throw new rt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function OE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Fn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(r);throw new rt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Pe(r,t){const i={typeString:r};return t&&(i.value=t),i}function Ql(r,t){if(!OE(r))throw new rt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new rt($.INVALID_ARGUMENT,i);return!0}const Cv=-62135596800,Iv=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Iv);return new he(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Cv)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Pe("string",he._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new he(0,0))}static max(){return new Tt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ol=-1;function H2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new he(i+1,0):new he(i,a));return new ur(l,ht.empty(),t)}function F2(r){return new ur(r.readTime,r.key,Ol)}class ur{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ur(Tt.min(),ht.empty(),Ol)}static max(){return new ur(Tt.max(),ht.empty(),Ol)}}function G2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Ut(r.largestBatchId,t.largestBatchId))}const Q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==Q2)throw r;at("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Y2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(r){return r.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const zm=-1;function gh(r){return r==null}function Wc(r){return r===0&&1/r==-1/0}function X2(r){return typeof r=="number"&&Number.isInteger(r)&&!Wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const VE="";function $2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Nv(t)),t=Z2(r.get(i),t);return Nv(t)}function Z2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case VE:i+="";break;default:i+=c}}return i}function Nv(r){return r+VE+""}function Dv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function pr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function ME(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ge{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new ge(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ze.RED,this.left=l??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ze(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ze.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new xv(this.data.getIterator())}getIteratorFrom(t){return new xv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new je(this.comparator);return i.data=t,i}}class xv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Cn([])}unionWith(t){let i=new je(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Cn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class kE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new kE("Invalid base64 string: "+c):c}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const J2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(r){if($t(!!r,39018),typeof r=="string"){let t=0;const i=J2.exec(r);if($t(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Re(r.seconds),nanos:Re(r.nanos)}}function Re(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hr(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const UE="server_timestamp",LE="__type__",PE="__previous_value__",zE="__local_write_time__";function jm(r){return(r?.mapValue?.fields||{})[LE]?.stringValue===UE}function ph(r){const t=r.mapValue.fields[PE];return jm(t)?ph(t):t}function Vl(r){const t=cr(r.mapValue.fields[zE].timestampValue);return new he(t.seconds,t.nanos)}class W2{constructor(t,i,a,l,c,d,p,y,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const th="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||th}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===th}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}const jE="__type__",tR="__max__",Dc={mapValue:{}},BE="__vector__",eh="value";function fr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jm(r)?4:nR(r)?9007199254740991:eR(r)?10:11:pt(28295,{value:r})}function Li(r,t){if(r===t)return!0;const i=fr(r);if(i!==fr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Vl(r).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=cr(l.timestampValue),p=cr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return hr(l.bytesValue).isEqual(hr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Re(l.geoPointValue.latitude)===Re(c.geoPointValue.latitude)&&Re(l.geoPointValue.longitude)===Re(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Re(l.integerValue)===Re(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Re(l.doubleValue),p=Re(c.doubleValue);return d===p?Wc(d)===Wc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return io(r.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Dv(d)!==Dv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Li(d[y],p[y])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function kl(r,t){return(r.values||[]).find((i=>Li(i,t)))!==void 0}function so(r,t){if(r===t)return 0;const i=fr(r),a=fr(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Re(c.integerValue||c.doubleValue),y=Re(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return Ov(r.timestampValue,t.timestampValue);case 4:return Ov(Vl(r),Vl(t));case 5:return om(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=hr(c),y=hr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=Ut(p[_],y[_]);if(b!==0)return b}return Ut(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ut(Re(c.latitude),Re(d.latitude));return p!==0?p:Ut(Re(c.longitude),Re(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Vv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[eh]?.arrayValue,b=y[eh]?.arrayValue,A=Ut(_?.values?.length||0,b?.values?.length||0);return A!==0?A:Vv(_,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const O=om(y[A],b[A]);if(O!==0)return O;const G=so(p[y[A]],_[b[A]]);if(G!==0)return G}return Ut(y.length,b.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function Ov(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const i=cr(r),a=cr(t),l=Ut(i.seconds,a.seconds);return l!==0?l:Ut(i.nanos,a.nanos)}function Vv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=so(i[l],a[l]);if(c)return c}return Ut(i.length,a.length)}function ro(r){return lm(r)}function lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=cr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return hr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=lm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${lm(i.fields[d])}`;return l+"}"})(r.mapValue):pt(61005,{value:r})}function jc(r){switch(fr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(r);return t?16+jc(t):16;case 5:return 2*r.stringValue.length;case 6:return hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+jc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return pr(a.fields,((c,d)=>{l+=c.length+jc(d)})),l})(r.mapValue);default:throw pt(13486,{value:r})}}function Mv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function um(r){return!!r&&"integerValue"in r}function Bm(r){return!!r&&"arrayValue"in r}function kv(r){return!!r&&"nullValue"in r}function Uv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function eR(r){return(r?.mapValue?.fields||{})[jE]?.stringValue===BE}function Rl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return pr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Rl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Rl(r.arrayValue.values[i]);return t}return{...r}}function nR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tR}class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(i)}setAll(t){let i=Je.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Rl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){pr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new yn(Rl(this.value))}}function qE(r){const t=[];return pr(r.fields,((i,a)=>{const l=new Je([i]);if(Bc(a)){const c=qE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Cn(t)}class rn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new rn(t,0,Tt.min(),Tt.min(),Tt.min(),yn.empty(),0)}static newFoundDocument(t,i,a,l){return new rn(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new rn(t,2,i,Tt.min(),Tt.min(),yn.empty(),0)}static newUnknownDocument(t,i){return new rn(t,3,i,Tt.min(),Tt.min(),yn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(t,i){this.position=t,this.inclusive=i}}function Lv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=so(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Pv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Li(r.position[i],t.position[i]))return!1;return!0}class ih{constructor(t,i="asc"){this.field=t,this.dir=i}}function iR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class HE{}class Le extends HE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new rR(t,i,a):i==="array-contains"?new lR(t,a):i==="in"?new uR(t,a):i==="not-in"?new cR(t,a):i==="array-contains-any"?new hR(t,a):new Le(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new aR(t,a):new oR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(so(i,this.value)):i!==null&&fr(this.value)===fr(i)&&this.matchesComparison(so(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends HE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ri(t,i)}matches(t){return FE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FE(r){return r.op==="and"}function GE(r){return sR(r)&&FE(r)}function sR(r){for(const t of r.filters)if(t instanceof ri)return!1;return!0}function cm(r){if(r instanceof Le)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(GE(r))return r.filters.map((t=>cm(t))).join(",");{const t=r.filters.map((i=>cm(i))).join(",");return`${r.op}(${t})`}}function QE(r,t){return r instanceof Le?(function(a,l){return l instanceof Le&&a.op===l.op&&a.field.isEqual(l.field)&&Li(a.value,l.value)})(r,t):r instanceof ri?(function(a,l){return l instanceof ri&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&QE(d,l.filters[p])),!0):!1})(r,t):void pt(19439)}function KE(r){return r instanceof Le?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(r):r instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(KE).join(" ,")+"}"})(r):"Filter"}class rR extends Le{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class aR extends Le{constructor(t,i){super(t,"in",i),this.keys=YE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class oR extends Le{constructor(t,i){super(t,"not-in",i),this.keys=YE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function YE(r,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class lR extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Bm(i)&&kl(i.arrayValue,this.value)}}class uR extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class cR extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class hR extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>kl(this.value.arrayValue,a)))}}class fR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function zv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new fR(r,t,i,a,l,c,d)}function qm(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>cm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ro(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ro(a))).join(",")),t.Te=i}return t.Te}function Hm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!iR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!QE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Pv(r.startAt,t.startAt)&&Pv(r.endAt,t.endAt)}function hm(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Kl{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dR(r,t,i,a,l,c,d,p){return new Kl(r,t,i,a,l,c,d,p)}function yh(r){return new Kl(r)}function jv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function XE(r){return r.collectionGroup!==null}function Cl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new je(Je.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ih(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new ih(Je.keyField(),a))}return t.Ie}function Vi(r){const t=At(r);return t.Ee||(t.Ee=mR(t,Cl(r))),t.Ee}function mR(r,t){if(r.limitType==="F")return zv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ih(l.field,c)}));const i=r.endAt?new nh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new nh(r.startAt.position,r.startAt.inclusive):null;return zv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function fm(r,t){const i=r.filters.concat([t]);return new Kl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function dm(r,t,i){return new Kl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function _h(r,t){return Hm(Vi(r),Vi(t))&&r.limitType===t.limitType}function $E(r){return`${qm(Vi(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>KE(l))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${a})`})(Vi(r))}; limitType=${r.limitType})`}function vh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Cl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=Lv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Cl(a),l)||a.endAt&&!(function(d,p,y){const _=Lv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Cl(a),l))})(r,t)}function gR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ZE(r){return(t,i)=>{let a=!1;for(const l of Cl(r)){const c=pR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function pR(r,t,i){const a=r.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?so(y,_):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:r.dir})}}class na{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){pr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return ME(this.inner)}size(){return this.innerSize}}const yR=new ge(ht.comparator);function gs(){return yR}const JE=new ge(ht.comparator);function Tl(...r){let t=JE;for(const i of r)t=t.insert(i.key,i);return t}function WE(r){let t=JE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Xr(){return Il()}function tT(){return Il()}function Il(){return new na((r=>r.toString()),((r,t)=>r.isEqual(t)))}const _R=new ge(ht.comparator),vR=new je(ht.comparator);function Lt(...r){let t=vR;for(const i of r)t=t.add(i);return t}const ER=new je(Ut);function TR(){return ER}function Fm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function eT(r){return{integerValue:""+r}}function bR(r,t){return X2(t)?eT(t):Fm(r,t)}class Eh{constructor(){this._=void 0}}function AR(r,t,i){return r instanceof Ul?(function(l,c){const d={fields:{[LE]:{stringValue:UE},[zE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&jm(c)&&(c=ph(c)),c&&(d.fields[PE]=c),{mapValue:d}})(i,t):r instanceof Ll?iT(r,t):r instanceof Pl?sT(r,t):(function(l,c){const d=nT(l,c),p=Bv(d)+Bv(l.Ae);return um(d)&&um(l.Ae)?eT(p):Fm(l.serializer,p)})(r,t)}function SR(r,t,i){return r instanceof Ll?iT(r,t):r instanceof Pl?sT(r,t):i}function nT(r,t){return r instanceof sh?(function(a){return um(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Ul extends Eh{}class Ll extends Eh{constructor(t){super(),this.elements=t}}function iT(r,t){const i=rT(t);for(const a of r.elements)i.some((l=>Li(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Pl extends Eh{constructor(t){super(),this.elements=t}}function sT(r,t){let i=rT(t);for(const a of r.elements)i=i.filter((l=>!Li(l,a)));return{arrayValue:{values:i}}}class sh extends Eh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Bv(r){return Re(r.integerValue||r.doubleValue)}function rT(r){return Bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class wR{constructor(t,i){this.field=t,this.transform=i}}function RR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Ll&&l instanceof Ll||a instanceof Pl&&l instanceof Pl?io(a.elements,l.elements,Li):a instanceof sh&&l instanceof sh?Li(a.Ae,l.Ae):a instanceof Ul&&l instanceof Ul})(r.transform,t.transform)}class CR{constructor(t,i){this.version=t,this.transformResults=i}}class Gn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Gn}static exists(t){return new Gn(void 0,t)}static updateTime(t){return new Gn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Th{}function aT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Gm(r.key,Gn.none()):new Yl(r.key,r.data,Gn.none());{const i=r.data,a=yn.empty();let l=new je(Je.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new yr(r.key,a,new Cn(l.toArray()),Gn.none())}}function IR(r,t,i){r instanceof Yl?(function(l,c,d){const p=l.value.clone(),y=Hv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof yr?(function(l,c,d){if(!qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Hv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(oT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(r,t,i,a){return r instanceof Yl?(function(c,d,p,y){if(!qc(c.precondition,d))return p;const _=c.value.clone(),b=Fv(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof yr?(function(c,d,p,y){if(!qc(c.precondition,d))return p;const _=Fv(c.fieldTransforms,y,d),b=d.data;return b.setAll(oT(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,p){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function NR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=nT(a.transform,l||null);c!=null&&(i===null&&(i=yn.empty()),i.set(a.field,c))}return i||null}function qv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&io(a,l,((c,d)=>RR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Yl extends Th{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class yr extends Th{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function oT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Hv(r,t,i){const a=new Map;$t(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,SR(d,p,i[l]))}return a}function Fv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,AR(c,d,t))}return a}class Gm extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DR extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&IR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=tT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=aT(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,((i,a)=>qv(i,a)))&&io(this.baseMutations,t.baseMutations,((i,a)=>qv(i,a)))}}class Qm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){$t(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return _R})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Qm(t,i,a,l)}}class OR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class VR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ue,zt;function MR(r){switch(r){case $.OK:return pt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function lT(r){if(r===void 0)return ms("GRPC error has no .code"),$.UNKNOWN;switch(r){case Ue.OK:return $.OK;case Ue.CANCELLED:return $.CANCELLED;case Ue.UNKNOWN:return $.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return $.INTERNAL;case Ue.UNAVAILABLE:return $.UNAVAILABLE;case Ue.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ue.NOT_FOUND:return $.NOT_FOUND;case Ue.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ue.ABORTED:return $.ABORTED;case Ue.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ue.DATA_LOSS:return $.DATA_LOSS;default:return pt(39323,{code:r})}}(zt=Ue||(Ue={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function kR(){return new TextEncoder}const UR=new ar([4294967295,4294967295],0);function Gv(r){const t=kR().encode(r),i=new AE;return i.update(t),new Uint8Array(i.digest())}function Qv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ar([i,a],0),new ar([l,c],0)]}class Km{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(a<0)throw new bl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ar.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ar.fromNumber(a)));return l.compare(UR)===1&&(l=new ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Gv(t),[a,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Km(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Gv(t),[a,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new bh(Tt.min(),l,new ge(Ut),gs(),Lt())}}class Xl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Xl(a,i,Lt(),Lt(),Lt())}}class Hc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class uT{constructor(t,i){this.targetId=t,this.Ce=i}}class cT{constructor(t,i,a=tn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Kv{constructor(){this.ve=0,this.Fe=Yv(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),a=Lt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Yv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LR{constructor(t){this.Ge=t,this.ze=new Map,this.je=gs(),this.Je=xc(),this.He=xc(),this.Ye=new ge(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(hm(c))if(a===0){const d=new ht(c.path);this.et(i,d,rn.newNoDocument(d,Tt.min()))}else $t(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=hr(a).toUint8Array()}catch(y){if(y instanceof kE)return no("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Km(d,l,c)}catch(y){return no(y instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&hm(p.target)){const y=new ht(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,rn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Lt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new bh(t,i,this.Ye,this.je,a);return this.je=gs(),this.Je=xc(),this.He=xc(),this.Ye=new ge(Ut),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Kv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new je(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new je(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Kv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new ge(ht.comparator)}function Yv(){return new ge(ht.comparator)}const PR={asc:"ASCENDING",desc:"DESCENDING"},zR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jR={and:"AND",or:"OR"};class BR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function mm(r,t){return r.useProto3Json||gh(t)?t:{value:t}}function rh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function qR(r,t){return rh(r,t.toTimestamp())}function Mi(r){return $t(!!r,49232),Tt.fromTimestamp((function(i){const a=cr(i);return new he(a.seconds,a.nanos)})(r))}function Ym(r,t){return gm(r,t).canonicalString()}function gm(r,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function fT(r){const t=le.fromString(r);return $t(yT(t),10190,{key:t.toString()}),t}function pm(r,t){return Ym(r.databaseId,t.path)}function Fd(r,t){const i=fT(t);if(i.get(1)!==r.databaseId.projectId)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(mT(i))}function dT(r,t){return Ym(r.databaseId,t)}function HR(r){const t=fT(r);return t.length===4?le.emptyPath():mT(t)}function ym(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mT(r){return $t(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Xv(r,t,i){return{name:pm(r,t),fields:i.value.mapValue.fields}}function FR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?($t(b===void 0||typeof b=="string",58123),tn.fromBase64String(b||"")):($t(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),tn.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:lT(_.code);return new rt(b,_.message||"")})(d);i=new cT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Fd(r,a.document.name),c=Mi(a.document.updateTime),d=a.document.createTime?Mi(a.document.createTime):Tt.min(),p=new yn({mapValue:{fields:a.document.fields}}),y=rn.newFoundDocument(l,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new Hc(_,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Fd(r,a.document),c=a.readTime?Mi(a.readTime):Tt.min(),d=rn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Hc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Fd(r,a.document),c=a.removedTargetIds||[];i=new Hc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new VR(l,c),p=a.targetId;i=new uT(p,d)}}return i}function GR(r,t){let i;if(t instanceof Yl)i={update:Xv(r,t.key,t.value)};else if(t instanceof Gm)i={delete:pm(r,t.key)};else if(t instanceof yr)i={update:Xv(r,t.key,t.data),updateMask:tC(t.fieldMask)};else{if(!(t instanceof DR))return pt(16599,{Vt:t.type});i={verify:pm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:qR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function QR(r,t){return r&&r.length>0?($t(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Mi(l.updateTime):Mi(c);return d.isEqual(Tt.min())&&(d=Mi(c)),new CR(d,l.transformResults||[])})(i,t)))):[]}function KR(r,t){return{documents:[dT(r,t.path)]}}function YR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=dT(r,l);const c=(function(_){if(_.length!==0)return pT(ri.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(O){return{field:Ka(O.field),direction:ZR(O.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=mm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function XR(r){let t=HR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){$t(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const O=gT(A);return O instanceof ri&&GE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((O=>(function(J){return new ih(Ya(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let O;return O=typeof A=="object"?A.value:A,gh(O)?null:O})(i.limit));let y=null;i.startAt&&(y=(function(A){const O=!!A.before,G=A.values||[];return new nh(G,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const O=!A.before,G=A.values||[];return new nh(G,O)})(i.endAt)),dR(t,l,d,c,p,"F",y,_)}function $R(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function gT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ya(i.unaryFilter.field);return Le.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(i.unaryFilter.field);return Le.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ya(i.unaryFilter.field);return Le.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(i.unaryFilter.field);return Le.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Le.create(Ya(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((a=>gT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function ZR(r){return PR[r]}function JR(r){return zR[r]}function WR(r){return jR[r]}function Ka(r){return{fieldPath:r.canonicalString()}}function Ya(r){return Je.fromServerFormat(r.fieldPath)}function pT(r){return r instanceof Le?(function(i){if(i.op==="=="){if(Uv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(kv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(kv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:JR(i.op),value:i.value}}})(r):r instanceof ri?(function(i){const a=i.getFilters().map((l=>pT(l)));return a.length===1?a[0]:{compositeFilter:{op:WR(i.op),filters:a}}})(r):pt(54877,{filter:r})}function tC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function yT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class nr{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),p=tn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class eC{constructor(t){this.yt=t}}function nC(r){const t=XR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(t,t.limit,"L"):t}class iC{constructor(){this.Cn=new sC}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(ur.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(ur.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class sC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new je(le.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new je(le.comparator)).toArray()}}const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_T=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(_T,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class ao{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ao(0)}static cr(){return new ao(-1)}}const Zv="LruGarbageCollector",rC=1048576;function Jv([r,t],[i,a]){const l=Ut(r,i);return l===0?Ut(t,a):l}class aC{constructor(t){this.Ir=t,this.buffer=new je(Jv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Jv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(Zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?at(Zv,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Vr(3e5)}))}}class lC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(mh.ce);const a=new aC(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve($v)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(_=Date.now(),Ga()<=kt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function uC(r,t){return new lC(r,t)}class cC{constructor(){this.changes=new na((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class hC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class fC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Nl(a.mutation,l,Cn.empty(),he.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Lt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Lt()){const l=Xr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Tl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Xr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Lt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=gs();const d=Il(),p=(function(){return Il()})();return i.forEach(((y,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof yr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Nl(b.mutation,_,b.mutation.getFieldMask(),he.now())):d.set(_.key,Cn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new hC(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Il();let l=new ge(((d,p)=>d-p)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||Cn.empty();b=p.applyToLocalView(_,b),a.set(y,b);const A=(l.get(p.batchId)||Lt()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,A=tT();b.forEach((O=>{if(!c.has(O)){const G=aT(i.get(O),a.get(O));G!==null&&A.set(O,G),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):XE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(Xr());let p=Ol,y=c;return d.next((_=>Z.forEach(_,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(t,b).next((O=>{y=y.insert(b,O)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Lt()))).next((b=>({batchId:p,changes:WE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=Tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const _=(function(A,O){return new Kl(O,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((A,O)=>{d=d.insert(A,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,rn.newInvalidDocument(b)))}));let p=Tl();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&Nl(b.mutation,_,Cn.empty(),he.now()),vh(i,_)&&(p=p.insert(y,_))})),p}))}}class dC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:nC(l.bundledQuery),readTime:Mi(l.readTime)}})(i)),Z.resolve()}}class mC{constructor(){this.overlays=new ge(ht.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Xr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=Xr(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ge(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Xr(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=Xr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new OR(i,a));let c=this.qr.get(i);c===void 0&&(c=Lt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class gC{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Xm{constructor(){this.Qr=new je(Fe.$r),this.Ur=new je(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Fe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Fe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ht(new le([])),a=new Fe(i,t),l=new Fe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new le([])),a=new Fe(i,t),l=new Fe(i,t+1);let c=Lt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Fe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Fe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}class pC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(Fe.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new xR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Fe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?zm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Fe(i,0),l=new Fe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new je(Ut);return i.forEach((l=>{const c=new Fe(l,0),d=new Fe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new Fe(new ht(c),0);let p=new je(Ut);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){$t(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Fe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Fe(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class yC{constructor(t){this.ri=t,this.docs=(function(){return new ge(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(t,i){let a=gs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():rn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=gs();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||G2(F2(b),a)<=0||(l.has(b.key)||vh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new _C(this)}getSize(t){return Z.resolve(this.size)}}class _C extends cC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class vC{constructor(t){this.persistence=t,this.si=new na((i=>qm(i)),Hm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=ao.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ao(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class vT{constructor(t,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new gC,this.referenceDelegate=t(this),this.Pi=new vC(this),this.indexManager=new iC,this.remoteDocumentCache=(function(l){return new yC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new eC(i),this.Ii=new dC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new mC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new pC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new EC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class EC extends K2{constructor(t){super(),this.currentSequenceNumber=t}}class $m{constructor(t){this.persistence=t,this.Ri=new Xm,this.Vi=null}static mi(t){return new $m(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=ht.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ah{constructor(t,i){this.persistence=t,this.pi=new na((a=>$2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=uC(this,i)}static mi(t,i){return new ah(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=jc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Zm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Lt(),l=Lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Zm(t,i.fromCache,a,l)}}class TC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class bC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cA()?8:Y2(an())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new TC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ga()<=kt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ga()<=kt.DEBUG&&at("QueryEngine","Query:",Qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ga()<=kt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(i))):Z.resolve())}ys(t,i){if(jv(i))return Z.resolve(null);let a=Vi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=dm(i,null,"F"),a=Vi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Lt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,dm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return jv(i)||l.isEqual(Tt.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(Ga()<=kt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.vs(t,d,i,H2(l,Ol)).next((p=>p)))}))}Ds(t,i){let a=new je(ZE(t));return i.forEach(((l,c)=>{vh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ga()<=kt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.ps.getDocumentsMatchingQuery(t,i,ur.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",AC=3e8;class SC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ge(Ut),this.xs=new na((c=>qm(c)),Hm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function wC(r,t,i,a){return new SC(r,t,i,a)}async function ET(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Lt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function RC(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const A=_.batch,O=A.keys();let G=Z.resolve();return O.forEach((J=>{G=G.next((()=>b.getEntry(y,J))).next((it=>{const W=_.docVersions.get(J);$t(W!==null,48541),it.version.compareTo(W)<0&&(A.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),b.addEntry(it)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Lt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function TT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function CC(r,t){const i=At(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((b,A)=>{const O=l.get(A);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let G=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?G=G.withResumeToken(tn.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,a)),l=l.insert(A,G),(function(it,W,ft){return it.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=AC?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(O,G,b)&&p.push(i.Pi.updateTargetData(c,G))}));let y=gs(),_=Lt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(IC(c,d,t.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(Tt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function IC(r,t,i){let a=Lt(),l=Lt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=gs();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):at(Jm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function NC(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=zm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function DC(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new nr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function _m(r,t,i){const a=At(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;at(Jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Wv(r,t,i){const a=At(r);let l=Tt.min(),c=Lt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=At(y),O=A.xs.get(b);return O!==void 0?Z.resolve(A.Ms.get(O)):A.Pi.getTargetData(_,b)})(a,d,Vi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:Lt()))).next((p=>(xC(a,gR(t),p),{documents:p,Qs:c})))))}function xC(r,t,i){let a=r.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class t0{constructor(){this.activeTargetIds=TR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OC{constructor(){this.Mo=new t0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new t0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class VC{Oo(t){}shutdown(){}}const e0="ConnectivityMonitor";class n0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(e0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(e0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function vm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Gd="RestConnection",MC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===th?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=vm(),p=this.zo(t,i.toUriEncodedString());at(Gd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),b=lo(_);return this.Jo(t,p,y,a,b).then((A=>(at(Gd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw no(Gd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=MC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class UC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class LC extends kC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=vm();return new Promise(((p,y)=>{const _=new SE;_.setWithCredentials(!0),_.listenOnce(wE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case zc.NO_ERROR:const A=_.getResponseJson();at(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case zc.TIMEOUT:at(nn,`RPC '${t}' ${d} timed out`),y(new rt($.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const O=_.getStatus();if(at(nn,`RPC '${t}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const it=(function(ft){const vt=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(vt)>=0?vt:$.UNKNOWN})(J.status);y(new rt(it,J.message))}else y(new rt($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new rt($.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(nn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);at(nn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=IE(),p=CE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");at(nn,`Creating RPC '${t}' stream ${l}: ${b}`,y);const A=d.createWebChannel(b,y);this.I_(A);let O=!1,G=!1;const J=new UC({Yo:W=>{G?at(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(O||(at(nn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),O=!0),at(nn,`RPC '${t}' stream ${l} sending:`,W),A.send(W))},Zo:()=>A.close()}),it=(W,ft,vt)=>{W.listen(ft,(dt=>{try{vt(dt)}catch(Xt){setTimeout((()=>{throw Xt}),0)}}))};return it(A,El.EventType.OPEN,(()=>{G||(at(nn,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),it(A,El.EventType.CLOSE,(()=>{G||(G=!0,at(nn,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(A))})),it(A,El.EventType.ERROR,(W=>{G||(G=!0,no(nn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new rt($.UNAVAILABLE,"The operation could not be completed")))})),it(A,El.EventType.MESSAGE,(W=>{if(!G){const ft=W.data[0];$t(!!ft,16349);const vt=ft,dt=vt?.error||vt[0]?.error;if(dt){at(nn,`RPC '${t}' stream ${l} received error:`,dt);const Xt=dt.status;let Zt=(function(S){const R=Ue[S];if(R!==void 0)return lT(R)})(Xt),It=dt.message;Zt===void 0&&(Zt=$.INTERNAL,It="Unknown error status: "+Xt+" with message "+dt.message),G=!0,J.a_(new rt(Zt,It)),A.close()}else at(nn,`RPC '${t}' stream ${l} received:`,ft),J.u_(ft)}})),it(p,RE.STAT_EVENT,(W=>{W.stat===am.PROXY?at(nn,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===am.NOPROXY&&at(nn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Qd(){return typeof document<"u"?document:null}function Ah(r){return new BR(r,!0)}class bT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const i0="PersistentStream";class AT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ms(i.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new rt($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(i0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(i0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PC extends AT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=FR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Mi(d.readTime):Tt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=hm(y)?{documents:KR(c,y)}:{query:YR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=hT(c,d.resumeToken);const _=mm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=rh(c,d.snapshotVersion.toTimestamp());const _=mm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=$R(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=ym(this.serializer),i.removeTarget=t,this.q_(i)}}class zC extends AT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=QR(t.writeResults,t.commitTime),a=Mi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=ym(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>GR(this.serializer,a)))};this.q_(i)}}class jC{}class BC extends jC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,gm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,gm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class HC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ia(this)&&(at(ea,"Restarting streams for network reachability change."),await(async function(y){const _=At(y);_.Ea.add(4),await $l(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Ra=new qC(a,l)}}async function Sh(r){if(ia(r))for(const t of r.da)await t(!0)}async function $l(r){for(const t of r.da)await t(!1)}function ST(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ng(i)?eg(i):go(i).O_()&&tg(i,t))}function Wm(r,t){const i=At(r),a=go(i);i.Ia.delete(t),a.O_()&&wT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ia(i)&&i.Ra.set("Unknown"))}function tg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}go(r).Y_(t)}function wT(r,t){r.Va.Ue(t),go(r).Z_(t)}function eg(r){r.Va=new LR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),go(r).start(),r.Ra.ua()}function ng(r){return ia(r)&&!go(r).x_()&&r.Ia.size>0}function ia(r){return At(r).Ea.size===0}function RT(r){r.Va=void 0}async function FC(r){r.Ra.set("Online")}async function GC(r){r.Ia.forEach(((t,i)=>{tg(r,t)}))}async function QC(r,t){RT(r),ng(r)?(r.Ra.ha(t),eg(r)):r.Ra.set("Unknown")}async function KC(r,t,i){if(r.Ra.set("Online"),t instanceof cT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){at(ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await oh(r,a)}else if(t instanceof Hc?r.Va.Ze(t):t instanceof uT?r.Va.st(t):r.Va.tt(t),!i.isEqual(Tt.min()))try{const a=await TT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(tn.EMPTY_BYTE_STRING,b.snapshotVersion)),wT(c,y);const A=new nr(b.target,y,_,b.sequenceNumber);tg(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){at(ea,"Failed to raise snapshot:",a),await oh(r,a)}}async function oh(r,t,i){if(!mo(t))throw t;r.Ea.add(1),await $l(r),r.Ra.set("Offline"),i||(i=()=>TT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(ea,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Sh(r)}))}function CT(r,t){return t().catch((i=>oh(r,i,t)))}async function wh(r){const t=At(r),i=dr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:zm;for(;YC(t);)try{const l=await NC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,XC(t,l)}catch(l){await oh(t,l)}IT(t)&&NT(t)}function YC(r){return ia(r)&&r.Ta.length<10}function XC(r,t){r.Ta.push(t);const i=dr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function IT(r){return ia(r)&&!dr(r).x_()&&r.Ta.length>0}function NT(r){dr(r).start()}async function $C(r){dr(r).ra()}async function ZC(r){const t=dr(r);for(const i of r.Ta)t.ea(i.mutations)}async function JC(r,t,i){const a=r.Ta.shift(),l=Qm.from(a,t,i);await CT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await wh(r)}async function WC(r,t){t&&dr(r).X_&&await(async function(a,l){if((function(d){return MR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();dr(a).B_(),await CT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wh(a)}})(r,t),IT(r)&&NT(r)}async function s0(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),at(ea,"RemoteStore received new credentials");const a=ia(i);i.Ea.add(3),await $l(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function tI(r,t){const i=At(r);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await $l(i),i.Ra.set("Unknown"))}function go(r){return r.ma||(r.ma=(function(i,a,l){const c=At(i);return c.sa(),new PC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:FC.bind(null,r),t_:GC.bind(null,r),r_:QC.bind(null,r),H_:KC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),ng(r)?eg(r):r.Ra.set("Unknown")):(await r.ma.stop(),RT(r))}))),r.ma}function dr(r){return r.fa||(r.fa=(function(i,a,l){const c=At(i);return c.sa(),new zC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:$C.bind(null,r),r_:WC.bind(null,r),ta:ZC.bind(null,r),na:JC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await wh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ig{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new ig(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(r,t){if(ms("AsyncQueue",`${t}: ${r}`),mo(r))return new rt($.UNAVAILABLE,`${t}: ${r}`);throw r}class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=Tl(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Wa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class r0{constructor(){this.ga=new ge(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class oo{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new oo(t,i,Wa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class eI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class nI{constructor(){this.queries=a0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=a0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new rt($.ABORTED,"Firestore shutting down"))}}function a0(){return new na((r=>$E(r)),_h)}async function DT(r,t){const i=At(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new eI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=sg(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&rg(i)}async function xT(r,t){const i=At(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function iI(r,t){const i=At(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&rg(i)}function sI(r,t,i){const a=At(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function rg(r){r.Ca.forEach((t=>{t.next()}))}var Em,o0;(o0=Em||(Em={})).Ma="default",o0.Cache="cache";class OT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new oo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Em.Cache}}class VT{constructor(t){this.key=t}}class MT{constructor(t){this.key=t}}class rI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=ZE(t),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new r0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const O=l.get(b),G=vh(this.query,A)?A:null,J=!!O&&this.mutatedKeys.has(O.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;O&&G?O.data.isEqual(G.data)?J!==it&&(a.track({type:3,doc:G}),W=!0):this.su(O,G)||(a.track({type:2,doc:G}),W=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!O&&G?(a.track({type:0,doc:G}),W=!0):O&&!G&&(a.track({type:1,doc:O}),W=!0,(y||_)&&(p=!0)),W&&(G?(d=d.add(G),c=it?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(G,J){const it=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:W})}};return it(G)-it(J)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new oo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new MT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new VT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class aI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class oI{constructor(t){this.key=t,this.hu=!1}}class lI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new na((p=>$E(p)),_h),this.Iu=new Map,this.Eu=new Set,this.du=new ge(ht.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uI(r,t,i=!0){const a=jT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await kT(a,t,i,!0),l}async function cI(r,t){const i=jT(r);await kT(i,t,!0,!1)}async function kT(r,t,i,a){const l=await DC(r.localStore,Vi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await hI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&ST(r.remoteStore,l),p}async function hI(r,t,i,a,l){r.pu=(A,O,G)=>(async function(it,W,ft,vt){let dt=W.view.ru(ft);dt.Cs&&(dt=await Wv(it.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,dt))));const Xt=vt&&vt.targetChanges.get(W.targetId),Zt=vt&&vt.targetMismatches.get(W.targetId)!=null,It=W.view.applyChanges(dt,it.isPrimaryClient,Xt,Zt);return u0(it,W.targetId,It.au),It.snapshot})(r,A,O,G);const c=await Wv(r.localStore,t,!0),d=new rI(t,c.Qs),p=d.ru(c.documents),y=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);u0(r,i,_.au);const b=new aI(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function fI(r,t,i){const a=At(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!_h(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await _m(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Wm(a.remoteStore,l.targetId),Tm(a,l.targetId)})).catch(fo)):(Tm(a,l.targetId),await _m(a.localStore,l.targetId,!0))}async function dI(r,t){const i=At(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Wm(i.remoteStore,a.targetId))}async function mI(r,t,i){const a=TI(r);try{const l=await(function(d,p){const y=At(d),_=he.now(),b=p.reduce(((G,J)=>G.add(J.key)),Lt());let A,O;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=gs(),it=Lt();return y.Ns.getEntries(G,b).next((W=>{J=W,J.forEach(((ft,vt)=>{vt.isValidDocument()||(it=it.add(ft))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,J))).next((W=>{A=W;const ft=[];for(const vt of p){const dt=NR(vt,A.get(vt.key).overlayedDocument);dt!=null&&ft.push(new yr(vt.key,dt,qE(dt.value.mapValue),Gn.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,ft,p)})).next((W=>{O=W;const ft=W.applyToLocalDocumentSet(A,it);return y.documentOverlayCache.saveOverlays(G,W.batchId,ft)}))})).then((()=>({batchId:O.batchId,changes:WE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ge(Ut)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Zl(a,l.changes),await wh(a.remoteStore)}catch(l){const c=sg(l,"Failed to persist write");i.reject(c)}}async function UT(r,t){const i=At(r);try{const a=await CC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&($t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$t(d.hu,14607):l.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await Zl(i,a,t)}catch(a){await fo(a)}}function l0(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=At(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,A)=>{for(const O of A.Sa)O.va(p)&&(_=!0)})),_&&rg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function gI(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ge(ht.comparator);d=d.insert(c,rn.newNoDocument(c,Tt.min()));const p=Lt().add(c),y=new bh(Tt.min(),new Map,new ge(Ut),d,p);await UT(a,y),a.du=a.du.remove(c),a.Au.delete(t),og(a)}else await _m(a.localStore,t,!1).then((()=>Tm(a,t,i))).catch(fo)}async function pI(r,t){const i=At(r),a=t.batch.batchId;try{const l=await RC(i.localStore,t);PT(i,a,null),LT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Zl(i,l)}catch(l){await fo(l)}}async function yI(r,t,i){const a=At(r);try{const l=await(function(d,p){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>($t(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);PT(a,t,i),LT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Zl(a,l)}catch(l){await fo(l)}}function LT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function PT(r,t,i){const a=At(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Tm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||zT(r,a)}))}function zT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Wm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),og(r))}function u0(r,t,i){for(const a of i)a instanceof VT?(r.Ru.addReference(a.key,t),_I(r,a)):a instanceof MT?(at(ag,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||zT(r,a.key)):pt(19791,{wu:a})}function _I(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(ag,"New document in limbo: "+i),r.Eu.add(a),og(r))}function og(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ht(le.fromString(t)),a=r.fu.next();r.Au.set(a,new oI(i)),r.du=r.du.insert(i,a),ST(r.remoteStore,new nr(Vi(yh(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Zl(r,t,i){const a=At(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Zm.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const b=At(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(O=>Z.forEach(O.Es,(G=>b.persistence.referenceDelegate.addReference(A,O.targetId,G))).next((()=>Z.forEach(O.ds,(G=>b.persistence.referenceDelegate.removeReference(A,O.targetId,G)))))))))}catch(A){if(!mo(A))throw A;at(Jm,"Failed to update sequence numbers: "+A)}for(const A of _){const O=A.targetId;if(!A.fromCache){const G=b.Ms.get(O),J=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion(J);b.Ms=b.Ms.insert(O,it)}}})(a.localStore,c))}async function vI(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){at(ag,"User change. New user:",t.toKey());const a=await ET(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new rt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Zl(i,a.Ls)}}function EI(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return Lt().add(a.key);{let l=Lt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function jT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=UT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gI.bind(null,t),t.Pu.H_=iI.bind(null,t.eventManager),t.Pu.yu=sI.bind(null,t.eventManager),t}function TI(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yI.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return wC(this.persistence,new bC,t.initialUser,this.serializer)}Cu(t){return new vT($m.mi,this.serializer)}Du(t){return new OC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class bI extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){$t(this.persistence.referenceDelegate instanceof ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new oC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new vT((a=>ah.mi(a,i)),this.serializer)}}class bm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>l0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=vI.bind(null,this.syncEngine),await tI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new nI})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),a=(function(c){return new LC(c)})(t.databaseInfo);return(function(c,d,p,y){return new BC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new HC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>l0(this.syncEngine,i,0)),(function(){return n0.v()?new n0:new VC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,b){const A=new lI(l,c,d,p,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);at(ea,"RemoteStore shutting down."),a.Ea.add(5),await $l(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class BT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ms("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const mr="FirestoreClient";class AI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=sn.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=sg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Kd(r,t){r.asyncQueue.verifyOperationInProgress(),at(mr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await ET(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function c0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await SI(r);at(mr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>s0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>s0(t.remoteStore,l))),r._onlineComponents=t}async function SI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(mr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;no("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new lh)}}else at(mr,"Using default OfflineComponentProvider"),await Kd(r,new bI(void 0));return r._offlineComponents}async function qT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(mr,"Using user provided OnlineComponentProvider"),await c0(r,r._uninitializedComponentsProvider._online)):(at(mr,"Using default OnlineComponentProvider"),await c0(r,new bm))),r._onlineComponents}function wI(r){return qT(r).then((t=>t.syncEngine))}async function Am(r){const t=await qT(r),i=t.eventManager;return i.onListen=uI.bind(null,t.syncEngine),i.onUnlisten=fI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=cI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=dI.bind(null,t.syncEngine),i}function RI(r,t,i={}){const a=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const b=new BT({next:O=>{b.Nu(),d.enqueueAndForget((()=>xT(c,A)));const G=O.docs.has(p);!G&&O.fromCache?_.reject(new rt($.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&O.fromCache&&y&&y.source==="server"?_.reject(new rt($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),A=new OT(yh(p.path),b,{includeMetadataChanges:!0,qa:!0});return DT(c,A)})(await Am(r),r.asyncQueue,t,i,a))),a.promise}function HT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const h0=new Map;const FT="firestore.googleapis.com",f0=!0;class d0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FT,this.ssl=f0}else this.host=t.host,this.ssl=t.ssl??f0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_T;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rC)throw new rt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}q2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new O2;switch(a.type){case"firstParty":return new U2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=h0.get(i);a&&(at("ComponentProvider","Removing Datastore"),h0.delete(i),a.terminate())})(this),Promise.resolve()}}function CI(r,t,i,a={}){r=Fn(r,Rh);const l=lo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(P0(`https://${p}`),z0("Firestore",!0)),c.host!==FT&&c.host!==p&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Zr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=sn.MOCK_USER;else{_=eA(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new rt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new sn(A)}r._authCredentials=new V2(new DE(_,b))}}class po{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new po(this.firestore,t,this._query)}}class _e{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _e(this.firestore,t,this._key)}toJSON(){return{type:_e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ql(i,_e._jsonSchema))return new _e(t,a||null,new ht(le.fromString(i.referencePath)))}}_e._jsonSchemaVersion="firestore/documentReference/1.0",_e._jsonSchema={type:Pe("string",_e._jsonSchemaVersion),referencePath:Pe("string")};class lr extends po{constructor(t,i,a){super(t,i,yh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _e(this.firestore,null,new ht(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function Vc(r,t,...i){if(r=We(r),xE("collection","path",t),r instanceof Rh){const a=le.fromString(t,...i);return Rv(a),new lr(r,null,a)}{if(!(r instanceof _e||r instanceof lr))throw new rt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(le.fromString(t,...i));return Rv(a),new lr(r.firestore,null,a)}}function Yr(r,t,...i){if(r=We(r),arguments.length===1&&(t=Pm.newId()),xE("doc","path",t),r instanceof Rh){const a=le.fromString(t,...i);return wv(a),new _e(r,null,new ht(a))}{if(!(r instanceof _e||r instanceof lr))throw new rt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(le.fromString(t,...i));return wv(a),new _e(r.firestore,r instanceof lr?r.converter:null,new ht(a))}}const m0="AsyncQueue";class g0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bT(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&at(m0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;at(m0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",p0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ig.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:p0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function p0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function y0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class gr extends Rh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new g0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new g0(t),this._firestoreClient=void 0,await t}}}function II(r,t){const i=typeof r=="object"?r:H0(),a=typeof r=="string"?r:th,l=Im(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Wb("firestore");c&&CI(l,...c)}return l}function lg(r){if(r._terminated)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||NI(r),r._firestoreClient}function NI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new W2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,HT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new AI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(tn.fromBase64String(t))}catch(i){throw new rt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Pe("string",Hn._jsonSchemaVersion),bytes:Pe("string")};class Ch{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ih{constructor(t){this._methodName=t}}class ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Pe("string",ki._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class Ui{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,Ui._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ui(t.vectorValues);throw new rt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Pe("string",Ui._jsonSchemaVersion),vectorValues:Pe("object")};const DI=/^__.*__$/;class xI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new yr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(t,this.data,i,this.fieldTransforms)}}class GT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new yr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function QT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class ug{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ug({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return uh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(QT(this.Ac)&&DI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class OI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(t)}Cc(t,i,a,l=!1){return new ug({Ac:t,methodName:i,Dc:a,path:Je.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nh(r){const t=r._freezeSettings(),i=Ah(r._databaseId);return new OI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function KT(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);hg("Data must be an object, but it was:",d,a);const p=YT(a,d);let y,_;if(c.merge)y=new Cn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const O=Sm(t,A,i);if(!d.contains(O))throw new rt($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);$T(b,O)||b.push(O)}y=new Cn(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new xI(new yn(p),y,_)}class Dh extends Ih{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}class cg extends Ih{_toFieldTransform(t){return new wR(t.path,new Ul)}isEqual(t){return t instanceof cg}}function VI(r,t,i,a){const l=r.Cc(1,t,i);hg("Data must be an object, but it was:",l,a);const c=[],d=yn.empty();pr(a,((y,_)=>{const b=fg(t,y,i);_=We(_);const A=l.yc(b);if(_ instanceof Dh)c.push(b);else{const O=Jl(_,A);O!=null&&(c.push(b),d.set(b,O))}}));const p=new Cn(c);return new GT(d,p,l.fieldTransforms)}function MI(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Sm(t,a,i)],y=[l];if(c.length%2!=0)throw new rt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(Sm(t,c[O])),y.push(c[O+1]);const _=[],b=yn.empty();for(let O=p.length-1;O>=0;--O)if(!$T(_,p[O])){const G=p[O];let J=y[O];J=We(J);const it=d.yc(G);if(J instanceof Dh)_.push(G);else{const W=Jl(J,it);W!=null&&(_.push(G),b.set(G,W))}}const A=new Cn(_);return new GT(b,A,d.fieldTransforms)}function kI(r,t,i,a=!1){return Jl(i,r.Cc(a?4:3,t))}function Jl(r,t){if(XT(r=We(r)))return hg("Unsupported field value:",t,r),YT(r,t);if(r instanceof Ih)return(function(a,l){if(!QT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Jl(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=We(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return bR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=he.fromDate(a);return{timestampValue:rh(l.serializer,c)}}if(a instanceof he){const c=new he(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Hn)return{bytesValue:hT(l.serializer,a._byteString)};if(a instanceof _e){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ui)return(function(d,p){return{mapValue:{fields:{[jE]:{stringValue:BE},[eh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Fm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${dh(a)}`)})(r,t)}function YT(r,t){const i={};return ME(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pr(r,((a,l)=>{const c=Jl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function XT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof he||r instanceof ki||r instanceof Hn||r instanceof _e||r instanceof Ih||r instanceof Ui)}function hg(r,t,i){if(!XT(i)||!OE(i)){const a=dh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Sm(r,t,i){if((t=We(t))instanceof Ch)return t._internalPath;if(typeof t=="string")return fg(r,t);throw uh("Field path arguments must be of type string or ",r,!1,void 0,i)}const UI=new RegExp("[~\\*/\\[\\]]");function fg(r,t,i){if(t.search(UI)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ch(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function uh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new rt($.INVALID_ARGUMENT,p+r+y)}function $T(r,t){return r.some((i=>i.isEqual(t)))}class ZT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(JT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LI extends ZT{data(){return super.data()}}function JT(r,t){return typeof t=="string"?fg(r,t):t instanceof Ch?t._internalPath:t._delegate._internalPath}function PI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dg{}class zI extends dg{}function _0(r,t,...i){let a=[];t instanceof dg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof gg)).length,p=c.filter((y=>y instanceof mg)).length;if(d>1||d>0&&p>0)throw new rt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class mg extends zI{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new mg(t,i,a)}_apply(t){const i=this._parse(t);return WT(t._query,i),new po(t.firestore,t.converter,fm(t._query,i))}_parse(t){const i=Nh(t.firestore);return(function(c,d,p,y,_,b,A){let O;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new rt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){E0(A,b);const J=[];for(const it of A)J.push(v0(y,c,it));O={arrayValue:{values:J}}}else O=v0(y,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||E0(A,b),O=kI(p,d,A,b==="in"||b==="not-in");return Le.create(_,b,O)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class gg extends dg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new gg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)WT(d,y),d=fm(d,y)})(t._query,i),new po(t.firestore,t.converter,fm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function v0(r,t,i){if(typeof(i=We(i))=="string"){if(i==="")throw new rt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XE(t)&&i.indexOf("/")!==-1)throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(le.fromString(i));if(!ht.isDocumentKey(a))throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Mv(r,new ht(a))}if(i instanceof _e)return Mv(r,i._key);throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function E0(r,t){if(!Array.isArray(r)||r.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function WT(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class jI{convertValue(t,i="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return pr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[eh].arrayValue?.values?.map((a=>Re(a.doubleValue)));return new Ui(i)}convertGeoPoint(t){return new ki(Re(t.latitude),Re(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ph(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=cr(t);return new he(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=le.fromString(t);$t(yT(a),9688,{name:t});const l=new Ml(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||ms(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function t1(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $r extends ZT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(JT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=$r._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}$r._jsonSchemaVersion="firestore/documentSnapshot/1.0",$r._jsonSchema={type:Pe("string",$r._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class Fc extends $r{data(t={}){return super.data(t)}}class to{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Fc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Fc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Fc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:BI(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=to._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}function T0(r){r=Fn(r,_e);const t=Fn(r.firestore,gr);return RI(lg(t),r._key).then((i=>n1(t,r,i)))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Pe("string",to._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class e1 extends jI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new _e(this.firestore,null,i)}}function qI(r,t,i){r=Fn(r,_e);const a=Fn(r.firestore,gr),l=t1(r.converter,t);return xh(a,[KT(Nh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Gn.none())])}function b0(r,t,i,...a){r=Fn(r,_e);const l=Fn(r.firestore,gr),c=Nh(l);let d;return d=typeof(t=We(t))=="string"||t instanceof Ch?MI(c,"updateDoc",r._key,t,i,a):VI(c,"updateDoc",r._key,t),xh(l,[d.toMutation(r._key,Gn.exists(!0))])}function A0(r){return xh(Fn(r.firestore,gr),[new Gm(r._key,Gn.none())])}function S0(r,t){const i=Fn(r.firestore,gr),a=Yr(r),l=t1(r.converter,t);return xh(i,[KT(Nh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Gn.exists(!1))]).then((()=>a))}function w0(r,...t){r=We(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||y0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(y0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof _e)d=Fn(r.firestore,gr),p=yh(r._key.path),c={next:y=>{t[a]&&t[a](n1(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Fn(r,po);d=Fn(y.firestore,gr),p=y._query;const _=new e1(d);c={next:b=>{t[a]&&t[a](new to(d,_,y,b))},error:t[a+1],complete:t[a+2]},PI(r._query)}return(function(_,b,A,O){const G=new BT(O),J=new OT(b,G,A);return _.asyncQueue.enqueueAndForget((async()=>DT(await Am(_),J))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>xT(await Am(_),J)))}})(lg(d),p,l,c)}function xh(r,t){return(function(a,l){const c=new or;return a.asyncQueue.enqueueAndForget((async()=>mI(await wI(a),l,c))),c.promise})(lg(r),t)}function n1(r,t,i){const a=i.docs.get(t._key),l=new e1(r);return new $r(r,l,t._key,a,new Al(i.hasPendingWrites,i.fromCache),t.converter)}function Yd(){return new cg("serverTimestamp")}(function(t,i=!0){(function(l){ho=l})(uo),eo(new Jr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new gr(new M2(a.getProvider("auth-internal")),new L2(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),rr(Tv,bv,t),rr(Tv,bv,"esm2020")})();const HI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),R0=r=>{const t=FI(r);return t.charAt(0).toUpperCase()+t.slice(1)},i1=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),GI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var QI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KI=Yt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Yt.createElement("svg",{ref:y,...QI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:i1("lucide",l),...!c&&!GI(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>Yt.createElement(_,b)),...Array.isArray(c)?c:[c]]));const Ce=(r,t)=>{const i=Yt.forwardRef(({className:a,...l},c)=>Yt.createElement(KI,{ref:c,iconNode:t,className:i1(`lucide-${HI(R0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=R0(r),i};const YI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Xd=Ce("calendar",YI);const XI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$I=Ce("check",XI);const ZI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],JI=Ce("chevron-down",ZI);const WI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tN=Ce("chevron-right",WI);const eN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nN=Ce("circle-check",eN);const iN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sN=Ce("circle",iN);const rN=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],C0=Ce("folder-open",rN);const aN=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],I0=Ce("folder-plus",aN);const oN=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],lN=Ce("folder",oN);const uN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],cN=Ce("funnel",uN);const hN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],N0=Ce("image",hN);const fN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],D0=Ce("list",fN);const dN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],mN=Ce("lock",dN);const gN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pN=Ce("log-out",gN);const yN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_N=Ce("menu",yN);const vN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],EN=Ce("pen",vN);const TN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mc=Ce("plus",TN);const bN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],AN=Ce("search",bN);const SN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],x0=Ce("trash-2",SN);const wN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],$d=Ce("video",wN);const RN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CN=Ce("x",RN),IN={apiKey:"AIzaSyDNS6_ckh2s0xcvohH0r76RH50-zFsB7sQ",authDomain:"my-lifelog-app.firebaseapp.com",projectId:"my-lifelog-app",storageBucket:"my-lifelog-app.firebasestorage.app",messagingSenderId:"15182730406",appId:"1:15182730406:web:cc3f5ca9caae618437d067",measurementId:"G-30SSP7BHLW"},Ci="my-local-app",Ii="owner",s1=q0(IN),Zd=D2(s1),Ni=II(s1),NN=({isSetup:r,onSubmit:t})=>{const[i,a]=Yt.useState(""),[l,c]=Yt.useState(""),[d,p]=Yt.useState(""),y=_=>{if(_.preventDefault(),p(""),i.length!==6||!/^\d+$/.test(i)){p(" 6 ");return}if(r&&i!==l){p("");return}t(i)};return k.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:k.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md text-center",children:[k.jsx("div",{className:"mb-6 flex justify-center",children:k.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:k.jsx(mN,{className:"w-8 h-8 text-blue-600"})})}),k.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:r?"":""}),k.jsx("p",{className:"text-slate-500 mb-6 text-sm",children:r?" 6 ":""}),k.jsxs("form",{onSubmit:y,className:"space-y-4",children:[k.jsx("input",{type:"password",maxLength:6,value:i,onChange:_=>a(_.target.value),className:"w-full text-center text-3xl tracking-widest py-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors",placeholder:""}),r&&k.jsx("input",{type:"password",maxLength:6,value:l,onChange:_=>c(_.target.value),className:"w-full text-center text-3xl tracking-widest py-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors mt-4",placeholder:""}),d&&k.jsx("p",{className:"text-red-500 text-sm font-medium",children:d}),k.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-all transform active:scale-95 shadow-lg mt-4",children:r?"":""})]})]})})};function DN(){const[r,t]=Yt.useState(null),[i,a]=Yt.useState("loading"),[l,c]=Yt.useState([]),[d,p]=Yt.useState([]),[y,_]=Yt.useState(null),[b,A]=Yt.useState(""),[O,G]=Yt.useState("all"),[J,it]=Yt.useState("all"),[W,ft]=Yt.useState({}),[vt,dt]=Yt.useState(!1),[Xt,Zt]=Yt.useState(null),[It,I]=Yt.useState(""),[S,R]=Yt.useState(!1),[V,D]=Yt.useState("text"),[M,w]=Yt.useState({title:"",content:"",imageUrl:"",date:"",videoUrl:"",todoItems:[]}),[ae,fe]=Yt.useState(!1),[H,et]=Yt.useState(""),[ut,Nt]=Yt.useState(null);Yt.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await pw(Zd,__initial_auth_token):await hw(Zd))();const Et=vw(Zd,mt=>{t(mt),mt||a("loading")});return()=>Et()},[]),Yt.useEffect(()=>{if(!r)return;(async()=>{try{const Et=Yr(Ni,"artifacts",Ci,"users",Ii,"settings","security");(await T0(Et)).exists()?a("lock"):a("setup")}catch(Et){console.error("Error checking PIN settings:",Et)}})()},[r]),Yt.useEffect(()=>{if(!r||i!=="authenticated")return;const X=_0(Vc(Ni,"artifacts",Ci,"users",Ii,"categories")),Et=w0(X,Ee=>{const Bt=Ee.docs.map(jt=>({id:jt.id,...jt.data()}));Bt.sort((jt,Gt)=>jt.name.localeCompare(Gt.name)),c(Bt)},Ee=>console.error("Cat sync error",Ee)),mt=_0(Vc(Ni,"artifacts",Ci,"users",Ii,"cards")),In=w0(mt,Ee=>{const Bt=Ee.docs.map(jt=>({id:jt.id,...jt.data()}));p(Bt)},Ee=>console.error("Card sync error",Ee));return()=>{Et(),In()}},[r,i]);const Ft=async X=>{if(!r)return;const Et=Yr(Ni,"artifacts",Ci,"users",Ii,"settings","security");if(i==="setup")await qI(Et,{pin:X,createdAt:Yd()}),a("authenticated");else if(i==="lock"){const mt=await T0(Et);mt.exists()&&mt.data().pin===X?a("authenticated"):alert("")}},x=async X=>{X.preventDefault(),H.trim()&&(await S0(Vc(Ni,"artifacts",Ci,"users",Ii,"categories"),{name:H,parentId:ut||null,createdAt:Yd()}),ut&&ft(Et=>({...Et,[ut]:!0})),et(""),fe(!1),Nt(null))},K=async(X,Et)=>{Et.stopPropagation(),confirm("()")&&await A0(Yr(Ni,"artifacts",Ci,"users",Ii,"categories",X))},nt=(X,Et)=>{X.stopPropagation(),Zt(Et.id),I(Et.name)},st=X=>{X&&X.stopPropagation(),Zt(null),I("")},yt=async(X,Et)=>{if(X&&(X.preventDefault(),X.stopPropagation()),!It.trim()){st();return}try{await b0(Yr(Ni,"artifacts",Ci,"users",Ii,"categories",Et),{name:It.trim()})}catch(mt){console.error("Error renaming category:",mt),alert("")}Zt(null),I("")},St=async X=>{X.preventDefault();const Et={type:V,categoryId:y,title:M.title,isCompleted:!1,createdAt:Yd(),...M};V!=="text"&&delete Et.imageUrl,V!=="schedule"&&delete Et.date,V!=="video"&&delete Et.videoUrl,V!=="todo"&&delete Et.todoItems,await S0(Vc(Ni,"artifacts",Ci,"users",Ii,"cards"),Et),R(!1),oe()},Ot=async X=>{await b0(Yr(Ni,"artifacts",Ci,"users",Ii,"cards",X.id),{isCompleted:!X.isCompleted})},ve=async X=>{confirm("")&&await A0(Yr(Ni,"artifacts",Ci,"users",Ii,"cards",X))},oe=()=>{w({title:"",content:"",imageUrl:"",date:"",videoUrl:"",todoItems:[]})},Pi=(X,Et)=>{X.stopPropagation(),ft(mt=>({...mt,[Et]:!mt[Et]}))},zi=(X=null)=>{const Et=l.filter(mt=>mt.parentId===X);return Et.length===0?null:k.jsx("ul",{className:"space-y-0.5",children:Et.map(mt=>{const In=l.some(Gt=>Gt.parentId===mt.id),Ee=W[mt.id],Bt=y===mt.id,jt=Xt===mt.id;return k.jsxs("li",{className:"select-none",children:[k.jsxs("div",{className:`group flex items-center justify-between p-1.5 rounded-md cursor-pointer transition-colors border border-transparent ${Bt&&!jt?"bg-blue-100 text-blue-700 border-blue-200":"hover:bg-slate-100 text-slate-700"}`,onClick:()=>{jt||(_(mt.id),window.innerWidth<768&&dt(!1))},children:[k.jsxs("div",{className:"flex items-center gap-1 overflow-hidden flex-1 min-w-0",children:[k.jsx("button",{onClick:Gt=>Pi(Gt,mt.id),className:`p-0.5 rounded hover:bg-black/5 text-slate-400 flex-shrink-0 transition-transform ${In?"":"invisible"}`,children:Ee?k.jsx(JI,{className:"w-4 h-4"}):k.jsx(tN,{className:"w-4 h-4"})}),Ee?k.jsx(C0,{className:`w-4 h-4 flex-shrink-0 ${Bt?"fill-blue-300 text-blue-600":"text-yellow-500 fill-yellow-100"}`}):k.jsx(lN,{className:`w-4 h-4 flex-shrink-0 ${Bt?"fill-blue-300 text-blue-600":"text-yellow-500 fill-yellow-100"}`}),jt?k.jsxs("form",{onSubmit:Gt=>yt(Gt,mt.id),className:"flex-1 ml-1 flex items-center gap-1",onClick:Gt=>Gt.stopPropagation(),children:[k.jsx("input",{autoFocus:!0,type:"text",value:It,onChange:Gt=>I(Gt.target.value),onKeyDown:Gt=>{Gt.key==="Escape"&&st(Gt)},className:"w-full text-sm px-1.5 py-0.5 border border-blue-300 rounded bg-white focus:outline-none focus:ring-2 focus:ring-blue-200"}),k.jsx("button",{type:"submit",className:"p-0.5 text-green-600 hover:bg-green-100 rounded",children:k.jsx($I,{className:"w-3.5 h-3.5"})}),k.jsx("button",{type:"button",onClick:st,className:"p-0.5 text-red-500 hover:bg-red-100 rounded",children:k.jsx(CN,{className:"w-3.5 h-3.5"})})]}):k.jsx("span",{className:"truncate text-sm font-medium ml-1",children:mt.name})]}),!jt&&k.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[k.jsx("button",{onClick:Gt=>nt(Gt,mt),className:"p-1 hover:bg-slate-200 text-slate-500 rounded mr-0.5",children:k.jsx(EN,{className:"w-3 h-3"})}),k.jsx("button",{onClick:Gt=>{Gt.stopPropagation(),Nt(mt.id),fe(!0),ft(ys=>({...ys,[mt.id]:!0}))},className:"p-1 hover:bg-blue-200 text-blue-600 rounded mr-0.5",children:k.jsx(Mc,{className:"w-3 h-3"})}),k.jsx("button",{onClick:Gt=>K(mt.id,Gt),className:"p-1 hover:bg-red-100 text-red-500 rounded",children:k.jsx(x0,{className:"w-3 h-3"})})]})]}),In&&Ee&&k.jsx("div",{className:"ml-[1.1rem] border-l border-slate-200 pl-1 mt-0.5 mb-1",children:zi(mt.id)})]},mt.id)})})},ji=Yt.useMemo(()=>d.filter(X=>{const Et=X.title.toLowerCase().includes(b.toLowerCase())||X.content&&X.content.toLowerCase().includes(b.toLowerCase());let mt=!0;if(y){const Bt=Gt=>{const ys=l.filter(Te=>Te.parentId===Gt);let _s=ys.map(Te=>Te.id);return ys.forEach(Te=>{_s=[..._s,...Bt(Te.id)]}),_s};mt=[y,...Bt(y)].includes(X.categoryId)}const In=O==="all"?!0:X.type===O;let Ee=!0;return J==="completed"&&(Ee=X.isCompleted),J==="pending"&&(Ee=!X.isCompleted),Et&&mt&&In&&Ee}),[d,b,y,O,J,l]),Bi=X=>{if(!X)return"";const Et=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,mt=X.match(Et);return mt&&mt[2].length===11?`https://www.youtube.com/embed/${mt[2]}`:null};return i==="loading"?k.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-50 text-slate-500",children:"..."}):i==="setup"||i==="lock"?k.jsx(NN,{isSetup:i==="setup",onSubmit:Ft}):k.jsxs("div",{className:"flex h-screen w-full bg-slate-50 overflow-hidden text-slate-900 font-sans relative",children:[vt&&k.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden animate-in fade-in duration-200",onClick:()=>dt(!1)}),k.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-40 w-72 bg-white border-r border-slate-200 flex flex-col shadow-xl transition-transform duration-300 ease-in-out md:relative md:translate-x-0 md:shadow-[2px_0_10px_rgba(0,0,0,0.02)]
        ${vt?"translate-x-0":"-translate-x-full"}
      `,children:[k.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-slate-50/50 h-16",children:[k.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"My LifeLog"}),k.jsx("button",{onClick:()=>{a("lock")},title:"",className:"hover:bg-slate-200 p-1.5 rounded-full transition-colors",children:k.jsx(pN,{className:"w-5 h-5 text-slate-500"})})]}),k.jsxs("div",{className:"flex-1 overflow-y-auto p-3 custom-scrollbar",children:[k.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer mb-3 font-semibold transition-colors ${y?"text-slate-600 hover:bg-slate-100":"bg-blue-50 text-blue-700 ring-1 ring-blue-200"}`,onClick:()=>{_(null),window.innerWidth<768&&dt(!1)},children:[k.jsx(I0,{className:"w-5 h-5"}),k.jsx("span",{children:""})]}),k.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-2",children:""}),zi(),l.length===0&&k.jsxs("div",{className:"text-center text-slate-400 text-sm mt-8",children:["",k.jsx("br",{}),""]})]}),k.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50/30",children:k.jsxs("button",{onClick:()=>{Nt(null),fe(!0)},className:"w-full flex items-center justify-center gap-2 bg-white border border-slate-200 hover:border-blue-300 hover:text-blue-600 text-slate-600 py-2.5 rounded-lg transition-all text-sm font-medium shadow-sm hover:shadow",children:[k.jsx(Mc,{className:"w-4 h-4"})," "]})})]}),k.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-slate-50/50",children:[k.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center px-4 md:px-6 justify-between gap-3 sticky top-0 z-10",children:[k.jsx("button",{className:"md:hidden p-2 -ml-2 text-slate-500 hover:bg-slate-100 rounded-lg",onClick:()=>dt(!vt),children:k.jsx(_N,{className:"w-6 h-6"})}),k.jsxs("div",{className:"flex items-center gap-3 flex-1 max-w-2xl bg-slate-100 px-4 py-2 rounded-full focus-within:ring-2 ring-blue-500/20 transition-all focus-within:bg-white border border-transparent focus-within:border-blue-200",children:[k.jsx(AN,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}),k.jsx("input",{type:"text",placeholder:"...",className:"bg-transparent border-none outline-none w-full text-slate-700 placeholder-slate-400 min-w-0",value:b,onChange:X=>A(X.target.value)})]}),k.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-3 md:px-5 py-2 md:py-2.5 rounded-full font-medium shadow-lg shadow-blue-200 transition-all active:scale-95 hover:-translate-y-0.5 flex-shrink-0",children:[k.jsx(Mc,{className:"w-5 h-5"}),k.jsx("span",{className:"hidden sm:inline",children:""})]})]}),k.jsxs("div",{className:"px-4 md:px-8 py-4 md:py-6 flex flex-wrap items-center gap-3",children:[k.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1.5 rounded-lg border border-slate-200 shadow-sm text-sm hover:border-blue-300 transition-colors",children:[k.jsx(cN,{className:"w-4 h-4 text-slate-500"}),k.jsx("span",{className:"text-slate-500 hidden sm:inline",children:":"}),k.jsxs("select",{value:J,onChange:X=>it(X.target.value),className:"bg-transparent outline-none text-slate-700 font-medium cursor-pointer",children:[k.jsx("option",{value:"all",children:""}),k.jsx("option",{value:"completed",children:""}),k.jsx("option",{value:"pending",children:""})]})]}),k.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1.5 rounded-lg border border-slate-200 shadow-sm text-sm hover:border-blue-300 transition-colors",children:[k.jsx("span",{className:"text-slate-500 hidden sm:inline",children:":"}),k.jsxs("select",{value:O,onChange:X=>G(X.target.value),className:"bg-transparent outline-none text-slate-700 font-medium cursor-pointer",children:[k.jsx("option",{value:"all",children:""}),k.jsx("option",{value:"text",children:""}),k.jsx("option",{value:"schedule",children:""}),k.jsx("option",{value:"video",children:""}),k.jsx("option",{value:"todo",children:""})]})]})]}),k.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-8 pb-8 custom-scrollbar",children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:[ji.map(X=>k.jsxs("div",{className:`group bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden flex flex-col transition-all hover:shadow-lg hover:border-blue-200 ${X.isCompleted?"opacity-60 grayscale-[0.5]":""}`,children:[k.jsxs("div",{className:"p-3 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[k.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500",children:[X.type==="text"&&k.jsxs(k.Fragment,{children:[k.jsx(N0,{className:"w-3.5 h-3.5 text-blue-500"})," "]}),X.type==="schedule"&&k.jsxs(k.Fragment,{children:[k.jsx(Xd,{className:"w-3.5 h-3.5 text-orange-500"})," "]}),X.type==="video"&&k.jsxs(k.Fragment,{children:[k.jsx($d,{className:"w-3.5 h-3.5 text-red-500"})," "]}),X.type==="todo"&&k.jsxs(k.Fragment,{children:[k.jsx(D0,{className:"w-3.5 h-3.5 text-green-500"})," "]})]}),k.jsxs("div",{className:"flex items-center gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[k.jsx("button",{onClick:()=>Ot(X),className:`p-1.5 rounded-md transition-colors ${X.isCompleted?"text-green-600 bg-green-100":"text-slate-400 hover:text-green-600 hover:bg-green-50"}`,title:X.isCompleted?"":"",children:X.isCompleted?k.jsx(nN,{className:"w-4 h-4"}):k.jsx(sN,{className:"w-4 h-4"})}),k.jsx("button",{onClick:()=>ve(X.id),className:"text-slate-400 hover:text-red-500 hover:bg-red-50 p-1.5 rounded-md transition-colors",children:k.jsx(x0,{className:"w-4 h-4"})})]})]}),k.jsxs("div",{className:"p-4 md:p-5 flex-1 flex flex-col gap-3",children:[k.jsx("h3",{className:`font-bold text-lg leading-snug break-words ${X.isCompleted?"line-through text-slate-500":"text-slate-800"}`,children:X.title}),X.type==="text"&&k.jsxs(k.Fragment,{children:[X.imageUrl&&k.jsx("img",{src:X.imageUrl,alt:"card attachment",className:"w-full h-36 object-cover rounded-lg mb-2 bg-slate-100 border border-slate-100"}),k.jsx("p",{className:"text-sm text-slate-600 whitespace-pre-wrap leading-relaxed break-words",children:X.content})]}),X.type==="schedule"&&k.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-100 mt-1",children:[k.jsxs("div",{className:"flex items-center gap-2 text-orange-700 font-bold text-sm mb-1.5",children:[k.jsx(Xd,{className:"w-4 h-4"}),X.date?new Date(X.date).toLocaleString("zh-TW",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]}),k.jsx("p",{className:"text-sm text-slate-600 break-words",children:X.content})]}),X.type==="video"&&k.jsx("div",{className:"rounded-lg overflow-hidden bg-black aspect-video relative shadow-inner",children:Bi(X.videoUrl)?k.jsx("iframe",{src:Bi(X.videoUrl),className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):k.jsxs("div",{className:"w-full h-full flex flex-col gap-2 items-center justify-center text-white text-xs p-4 text-center",children:[k.jsx($d,{className:"w-8 h-8 opacity-50"}),k.jsx("a",{href:X.videoUrl,target:"_blank",className:"underline hover:text-blue-300 break-all",children:""})]})}),X.type==="todo"&&k.jsx("ul",{className:"space-y-2 mt-1",children:X.todoItems&&X.todoItems.map((Et,mt)=>k.jsxs("li",{className:"flex items-start gap-2.5 text-sm text-slate-700",children:[k.jsx("div",{className:"mt-1 w-3.5 h-3.5 rounded border border-slate-400 flex-shrink-0"}),k.jsx("span",{className:"leading-relaxed break-words",children:Et.text})]},mt))})]})]},X.id)),ji.length===0&&k.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-slate-400",children:[k.jsx("div",{className:"bg-slate-100 p-6 rounded-full mb-4",children:k.jsx(C0,{className:"w-10 h-10 text-slate-300"})}),k.jsx("p",{className:"text-lg font-medium",children:""}),k.jsx("p",{className:"text-sm mt-2",children:""})]})]})})]}),ae&&k.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200 p-4",children:k.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-[90vw] md:w-96 shadow-2xl scale-100 transform transition-all",children:[k.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 flex items-center gap-2",children:[k.jsx(I0,{className:"w-5 h-5 text-blue-600"}),ut?"":""]}),k.jsxs("form",{onSubmit:x,children:[k.jsx("input",{autoFocus:!0,type:"text",value:H,onChange:X=>et(X.target.value),placeholder:"...",className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 mb-4 focus:ring-2 ring-blue-500 focus:border-blue-500 outline-none transition-all"}),k.jsxs("div",{className:"flex justify-end gap-2",children:[k.jsx("button",{type:"button",onClick:()=>fe(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg transition-colors",children:""}),k.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-md shadow-blue-200 transition-all",children:""})]})]})]})}),S&&k.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:k.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-[95vw] md:max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",children:[k.jsxs("h3",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center gap-2",children:[k.jsx(Mc,{className:"w-6 h-6 text-blue-600 bg-blue-50 rounded-full p-1"}),""]}),k.jsxs("form",{onSubmit:St,className:"space-y-5",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:""}),k.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{id:"text",label:"",icon:N0,color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-200"},{id:"schedule",label:"",icon:Xd,color:"text-orange-600",bg:"bg-orange-50",border:"border-orange-200"},{id:"video",label:"",icon:$d,color:"text-red-600",bg:"bg-red-50",border:"border-red-200"},{id:"todo",label:"",icon:D0,color:"text-green-600",bg:"bg-green-50",border:"border-green-200"}].map(X=>k.jsxs("button",{type:"button",onClick:()=>D(X.id),className:`flex flex-col items-center justify-center gap-1 py-3 px-1 rounded-xl border transition-all duration-200 ${V===X.id?`${X.border} ${X.bg} ${X.color} ring-1 ring-offset-1 ring-${X.color.split("-")[1]}-400 font-bold shadow-sm`:"border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:[k.jsx(X.icon,{className:"w-5 h-5"}),k.jsx("span",{className:"text-xs",children:X.label})]},X.id))})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:""}),k.jsx("input",{required:!0,type:"text",value:M.title,onChange:X=>w({...M,title:X.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 focus:ring-2 ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"..."})]}),V==="text"&&k.jsxs(k.Fragment,{children:[k.jsxs("div",{children:[k.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:[" ",k.jsx("span",{className:"text-slate-400 font-normal text-xs",children:"()"})]}),k.jsx("input",{type:"url",value:M.imageUrl,onChange:X=>w({...M,imageUrl:X.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 focus:ring-2 ring-blue-500 outline-none transition-all",placeholder:"https://..."})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:""}),k.jsx("textarea",{value:M.content,onChange:X=>w({...M,content:X.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 h-32 focus:ring-2 ring-blue-500 outline-none transition-all resize-none",placeholder:"..."})]})]}),V==="schedule"&&k.jsxs(k.Fragment,{children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:""}),k.jsx("input",{required:!0,type:"datetime-local",value:M.date,onChange:X=>w({...M,date:X.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 focus:ring-2 ring-blue-500 outline-none transition-all"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:""}),k.jsx("textarea",{value:M.content,onChange:X=>w({...M,content:X.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 h-24 focus:ring-2 ring-blue-500 outline-none transition-all",placeholder:"..."})]})]}),V==="video"&&k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:" (YouTube)"}),k.jsx("input",{required:!0,type:"url",value:M.videoUrl,onChange:X=>w({...M,videoUrl:X.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 focus:ring-2 ring-blue-500 outline-none transition-all",placeholder:"https://www.youtube.com/watch?v=..."}),k.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" YouTube "})]}),V==="todo"&&k.jsxs("div",{children:[k.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:[" ",k.jsx("span",{className:"text-slate-400 font-normal text-xs",children:"()"})]}),k.jsx("textarea",{value:M.content,onChange:X=>{const Et=X.target.value.split(`
`).filter(mt=>mt.trim()).map(mt=>({text:mt,done:!1}));w({...M,content:X.target.value,todoItems:Et})},className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 h-40 focus:ring-2 ring-blue-500 outline-none transition-all font-mono text-sm",placeholder:`

`})]}),k.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-100",children:[k.jsx("button",{type:"button",onClick:()=>R(!1),className:"px-5 py-2.5 text-slate-500 hover:bg-slate-100 rounded-lg transition-colors font-medium",children:""}),k.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold shadow-lg shadow-blue-200 transition-all active:scale-95",children:""})]})]})]})})]})}Fb.createRoot(document.getElementById("root")).render(k.jsx(Yt.StrictMode,{children:k.jsx(DN,{})}));
