(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Nd={exports:{}},gl={};var U_;function VA(){if(U_)return gl;U_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return gl.Fragment=t,gl.jsx=i,gl.jsxs=i,gl}var k_;function MA(){return k_||(k_=1,Nd.exports=VA()),Nd.exports}var k=MA(),Dd={exports:{}},At={};var L_;function UA(){if(L_)return At;L_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,W={};function mt(O,K,et){this.props=O,this.context=K,this.refs=W,this.updater=et||J}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Tt(){}Tt.prototype=mt.prototype;function gt(O,K,et){this.props=O,this.context=K,this.refs=W,this.updater=et||J}var It=gt.prototype=new Tt;It.constructor=gt,it(It,mt.prototype),It.isPureReactComponent=!0;var Wt=Array.isArray;function yt(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(O,K,et){var at=et.ref;return{$$typeof:r,type:O,key:K,ref:at!==void 0?at:null,props:et}}function V(O,K){return R(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return K[et]})}var w=/\/+/g;function ee(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function me(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(yt,yt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,K,et,at,q){var st=typeof O;(st==="undefined"||st==="boolean")&&(O=null);var rt=!1;if(O===null)rt=!0;else switch(st){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(O.$$typeof){case r:case t:rt=!0;break;case A:return rt=O._init,F(rt(O._payload),K,et,at,q)}}if(rt)return q=q(O),rt=at===""?"."+ee(O,0):at,Wt(q)?(et="",rt!=null&&(et=rt.replace(w,"$&/")+"/"),F(q,K,et,"",function(xe){return xe})):q!=null&&(N(q)&&(q=V(q,et+(q.key==null||O&&O.key===q.key?"":(""+q.key).replace(w,"$&/")+"/")+rt)),K.push(q)),1;rt=0;var ne=at===""?".":at+":";if(Wt(O))for(var Ct=0;Ct<O.length;Ct++)at=O[Ct],st=ne+ee(at,Ct),rt+=F(at,K,et,st,q);else if(Ct=Q(O),typeof Ct=="function")for(O=Ct.call(O),Ct=0;!(at=O.next()).done;)at=at.value,st=ne+ee(at,Ct++),rt+=F(at,K,et,st,q);else if(st==="object"){if(typeof O.then=="function")return F(me(O),K,et,at,q);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return rt}function nt(O,K,et){if(O==null)return O;var at=[],q=0;return F(O,at,"","",function(st){return K.call(et,st,q++)}),at}function ht(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Bt={map:nt,forEach:function(O,K,et){nt(O,function(){K.apply(this,arguments)},et)},count:function(O){var K=0;return nt(O,function(){K++}),K},toArray:function(O){return nt(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=b,At.Children=Bt,At.Component=mt,At.Fragment=i,At.Profiler=l,At.PureComponent=gt,At.StrictMode=a,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,K,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=it({},O.props),q=O.key;if(K!=null)for(st in K.key!==void 0&&(q=""+K.key),K)!S.call(K,st)||st==="key"||st==="__self"||st==="__source"||st==="ref"&&K.ref===void 0||(at[st]=K[st]);var st=arguments.length-2;if(st===1)at.children=et;else if(1<st){for(var rt=Array(st),ne=0;ne<st;ne++)rt[ne]=arguments[ne+2];at.children=rt}return R(O.type,q,at)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,K,et){var at,q={},st=null;if(K!=null)for(at in K.key!==void 0&&(st=""+K.key),K)S.call(K,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(q[at]=K[at]);var rt=arguments.length-2;if(rt===1)q.children=et;else if(1<rt){for(var ne=Array(rt),Ct=0;Ct<rt;Ct++)ne[Ct]=arguments[Ct+2];q.children=ne}if(O&&O.defaultProps)for(at in rt=O.defaultProps,rt)q[at]===void 0&&(q[at]=rt[at]);return R(O,st,q)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:p,render:O}},At.isValidElement=N,At.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ht}},At.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},At.startTransition=function(O){var K=I.T,et={};I.T=et;try{var at=O(),q=I.S;q!==null&&q(et,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(yt,kt)}catch(st){kt(st)}finally{K!==null&&et.types!==null&&(K.types=et.types),I.T=K}},At.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},At.use=function(O){return I.H.use(O)},At.useActionState=function(O,K,et){return I.H.useActionState(O,K,et)},At.useCallback=function(O,K){return I.H.useCallback(O,K)},At.useContext=function(O){return I.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},At.useEffect=function(O,K){return I.H.useEffect(O,K)},At.useEffectEvent=function(O){return I.H.useEffectEvent(O)},At.useId=function(){return I.H.useId()},At.useImperativeHandle=function(O,K,et){return I.H.useImperativeHandle(O,K,et)},At.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},At.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},At.useMemo=function(O,K){return I.H.useMemo(O,K)},At.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},At.useReducer=function(O,K,et){return I.H.useReducer(O,K,et)},At.useRef=function(O){return I.H.useRef(O)},At.useState=function(O){return I.H.useState(O)},At.useSyncExternalStore=function(O,K,et){return I.H.useSyncExternalStore(O,K,et)},At.useTransition=function(){return I.H.useTransition()},At.version="19.2.3",At}var P_;function Sm(){return P_||(P_=1,Dd.exports=UA()),Dd.exports}var Jt=Sm(),Od={exports:{}},pl={},xd={exports:{}},Vd={};var z_;function kA(){return z_||(z_=1,(function(r){function t(F,nt){var ht=F.length;F.push(nt);t:for(;0<ht;){var kt=ht-1>>>1,Bt=F[kt];if(0<l(Bt,nt))F[kt]=nt,F[ht]=Bt,ht=kt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var nt=F[0],ht=F.pop();if(ht!==nt){F[0]=ht;t:for(var kt=0,Bt=F.length,O=Bt>>>1;kt<O;){var K=2*(kt+1)-1,et=F[K],at=K+1,q=F[at];if(0>l(et,ht))at<Bt&&0>l(q,et)?(F[kt]=q,F[at]=ht,kt=at):(F[kt]=et,F[K]=ht,kt=K);else if(at<Bt&&0>l(q,ht))F[kt]=q,F[at]=ht,kt=at;else break t}}return nt}function l(F,nt){var ht=F.sortIndex-nt.sortIndex;return ht!==0?ht:F.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,b=null,x=3,Q=!1,J=!1,it=!1,W=!1,mt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function It(F){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=F)a(_),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(_)}}function Wt(F){if(it=!1,It(F),!J)if(i(y)!==null)J=!0,yt||(yt=!0,U());else{var nt=i(_);nt!==null&&me(Wt,nt.startTime-F)}}var yt=!1,I=-1,S=5,R=-1;function V(){return W?!0:!(r.unstable_now()-R<S)}function N(){if(W=!1,yt){var F=r.unstable_now();R=F;var nt=!0;try{t:{J=!1,it&&(it=!1,Tt(I),I=-1),Q=!0;var ht=x;try{e:{for(It(F),b=i(y);b!==null&&!(b.expirationTime>F&&V());){var kt=b.callback;if(typeof kt=="function"){b.callback=null,x=b.priorityLevel;var Bt=kt(b.expirationTime<=F);if(F=r.unstable_now(),typeof Bt=="function"){b.callback=Bt,It(F),nt=!0;break e}b===i(y)&&a(y),It(F)}else a(y);b=i(y)}if(b!==null)nt=!0;else{var O=i(_);O!==null&&me(Wt,O.startTime-F),nt=!1}}break t}finally{b=null,x=ht,Q=!1}nt=void 0}}finally{nt?U():yt=!1}}}var U;if(typeof gt=="function")U=function(){gt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ee=w.port2;w.port1.onmessage=N,U=function(){ee.postMessage(null)}}else U=function(){mt(N,0)};function me(F,nt){I=mt(function(){F(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(F){switch(x){case 1:case 2:case 3:var nt=3;break;default:nt=x}var ht=x;x=nt;try{return F()}finally{x=ht}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=x;x=F;try{return nt()}finally{x=ht}},r.unstable_scheduleCallback=function(F,nt,ht){var kt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?kt+ht:kt):ht=kt,F){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=ht+Bt,F={id:A++,callback:nt,priorityLevel:F,startTime:ht,expirationTime:Bt,sortIndex:-1},ht>kt?(F.sortIndex=ht,t(_,F),i(y)===null&&F===i(_)&&(it?(Tt(I),I=-1):it=!0,me(Wt,ht-kt))):(F.sortIndex=Bt,t(y,F),J||Q||(J=!0,yt||(yt=!0,U()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var nt=x;return function(){var ht=x;x=nt;try{return F.apply(this,arguments)}finally{x=ht}}}})(Vd)),Vd}var j_;function LA(){return j_||(j_=1,xd.exports=kA()),xd.exports}var Md={exports:{}},Ze={};var B_;function PA(){if(B_)return Ze;B_=1;var r=Sm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ze.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Ze.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},Ze.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Ze.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ze.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:Q}):A==="script"&&a.d.X(y,{crossOrigin:b,integrity:x,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ze.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Ze.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ze.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Ze.requestFormReset=function(y){a.d.r(y)},Ze.unstable_batchedUpdates=function(y,_){return y(_)},Ze.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.2.3",Ze}var q_;function zA(){if(q_)return Md.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=PA(),Md.exports}var H_;function jA(){if(H_)return pl;H_=1;var r=LA(),t=Sm(),i=zA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case mt:return"Profiler";case W:return"StrictMode";case Wt:return"Suspense";case yt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case gt:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case It:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var me=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},kt=[],Bt=-1;function O(e){return{current:e}}function K(e){0>Bt||(e.current=kt[Bt],kt[Bt]=null,Bt--)}function et(e,n){Bt++,kt[Bt]=e.current,e.current=n}var at=O(null),q=O(null),st=O(null),rt=O(null);function ne(e,n){switch(et(st,n),et(q,e),et(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?s_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=s_(n),e=r_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(at),et(at,e)}function Ct(){K(at),K(q),K(st)}function xe(e){e.memoizedState!==null&&et(rt,e);var n=at.current,s=r_(n,e.type);n!==s&&(et(q,e),et(at,s))}function ue(e){q.current===e&&(K(at),K(q)),rt.current===e&&(K(rt),hl._currentValue=ht)}var Rn,Mi;function an(e){if(Rn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Rn=n&&n[1]||"",Mi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rn+e+Mi}var Fn=!1;function fr(e,n){if(!e||Fn)return"";Fn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var j=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){j=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){j=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var G=`
`+C[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Fn=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?an(s):""}function ho(e,n){switch(e.tag){case 26:case 27:case 5:return an(e.type);case 16:return an("Lazy");case 13:return e.child!==n&&n!==null?an("Suspense Fallback"):an("Suspense");case 19:return an("SuspenseList");case 0:case 15:return fr(e.type,!1);case 11:return fr(e.type.render,!1);case 1:return fr(e.type,!0);case 31:return an("Activity");default:return""}}function fo(e){try{var n="",s=null;do n+=ho(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ee=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,fs=r.unstable_cancelCallback,Dh=r.unstable_shouldYield,$l=r.unstable_requestPaint,nn=r.unstable_now,dr=r.unstable_getCurrentPriorityLevel,mo=r.unstable_ImmediatePriority,go=r.unstable_UserBlockingPriority,ds=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,Zl=r.unstable_IdlePriority,Jl=r.log,Wl=r.unstable_setDisableYieldValue,Gn=null,je=null;function Cn(e){if(typeof Jl=="function"&&Wl(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Gn,e)}catch{}}var ge=Math.clz32?Math.clz32:eu,tu=Math.log,Jr=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/Jr|0)|0}var ri=256,mr=262144,Te=4194304;function ai(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ai(o):(g&=E,g!==0?h=ai(g):s||(s=E&~e,s!==0&&(h=ai(s))))):(E=o&~f,E!==0?h=ai(E):g!==0?h=ai(g):s||(s=o&~e,s!==0&&(h=ai(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function li(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function gr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-ge(s),X=1<<G;E[G]=0,C[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}s&=~X}o!==0&&pr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function pr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function po(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ge(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function yo(e,n){var s=n&-n;return s=(s&42)!==0?1:yr(s),(s&(e.suspendedLanes|n))!==0?0:s}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:I_(e.type))}function Yn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Kn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Kn,ke="__reactProps$"+Kn,ui="__reactContainer$"+Kn,Wr="__reactEvents$"+Kn,Mh="__reactListeners$"+Kn,su="__reactHandles$"+Kn,ru="__reactResources$"+Kn,ci="__reactMarker$"+Kn;function ta(e){delete e[Ae],delete e[ke],delete e[Wr],delete e[Mh],delete e[su]}function hi(e){var n=e[Ae];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ui]||s[Ae]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=f_(e);e!==null;){if(s=e[Ae])return s;e=f_(e)}return n}e=s,s=e.parentNode}return null}function In(e){if(e=e[Ae]||e[ui]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function fi(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(e){e[ci]=!0}var _o=new Set,vo={};function di(e,n){mi(e,n),mi(e+"Capture",n)}function mi(e,n){for(vo[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Ao={};function au(e){return Ee.call(Ao,e)?!0:Ee.call(To,e)?!1:Eo.test(e)?Ao[e]=!0:(To[e]=!0,!1)}function ea(e,n,s){if(au(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function yn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Se(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ms(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=ms(e)?"checked":"value";e._valueTracker=bo(e,n,""+e[n])}}function _r(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ms(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function on(e){return e.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?So(e,g,Le(n)):s!=null?So(e,g,Le(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function ou(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+Le(s):"",n=n!=null?""+Le(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function So(e,n,s){n==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function gs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Le(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,s){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Le(s):""}function ps(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(me(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Le(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Gt(e)}function ln(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||uu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ro(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&wo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(e,f,n[f])}function ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return ys.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var Co=null;function Nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,pi=null;function Er(e){var n=In(e);if(n&&(e=n.stateNode)){var s=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(na(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(a(90));na(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&_r(o)}break t;case"textarea":lu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&gs(e,!!s.multiple,n,!1)}}}var ra=!1;function vs(e,n,s){if(ra)return e(n,s);ra=!0;try{var o=e(n);return o}finally{if(ra=!1,(_s!==null||pi!==null)&&(ic(),_s&&(n=_s,e=pi,pi=_s=null,Er(n),e)))for(n=0;n<e.length;n++)Er(e[n])}}function $n(e,n){var s=e.stateNode;if(s===null)return null;var o=s[ke]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(Dn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{Tr=!1}var yi=null,Io=null,Ar=null;function No(){if(Ar)return Ar;var e,n=Io,s=n.length,o,h="value"in yi?yi.value:yi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Ar=h.slice(e,1<o?1-o:void 0)}function br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Zn(){return!1}function Be(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Zn,this.isPropagationStopped=Zn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Be(Li),Es=b({},Li,{view:0,detail:0}),Do=Be(Es),Ts,aa,vi,oa=b({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(Ts=e.screenX-vi.screenX,aa=e.screenY-vi.screenY):aa=Ts=0,vi=e),Ts)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Oo=Be(oa),Sr=b({},oa,{dataTransfer:0}),hu=Be(Sr),fu=b({},Es,{relatedTarget:0}),wr=Be(fu),xo=b({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),du=Be(xo),la=b({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=Be(la),gu=b({},Li,{data:0}),Ei=Be(gu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function As(){return vu}var sn=b({},Es,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=Be(sn),Tu=b({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Be(Tu),u=b({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),m=Be(u),v=b({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(v),L=b({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(L),tt=b({},Li,{newState:0,oldState:0}),St=Be(tt),pe=[9,13,27,32],qt=Dn&&"CompositionEvent"in window,oe=null;Dn&&"documentMode"in document&&(oe=document.documentMode);var On=Dn&&"TextEvent"in window&&!oe,Ti=Dn&&(!qt||oe&&8<oe&&11>=oe),Jn=" ",Wn=!1;function Rr(e,n){switch(e){case"keyup":return pe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function i1(e,n){switch(e){case"compositionend":return ua(n);case"keypress":return n.which!==32?null:(Wn=!0,Jn);case"textInput":return e=n.data,e===Jn&&Wn?null:e;default:return null}}function s1(e,n){if(ca)return e==="compositionend"||!qt&&Rr(e,n)?(e=No(),Ar=Io=yi=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ti&&n.locale!=="ko"?null:n.data;default:return null}}var r1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!r1[e.type]:n==="textarea"}function pg(e,n,s,o){_s?pi?pi.push(o):pi=[o]:_s=o,n=cc(n,"onChange"),0<n.length&&(s=new _i("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Vo=null,Mo=null;function a1(e){Jy(e,0)}function Au(e){var n=pn(e);if(_r(n))return e}function yg(e,n){if(e==="change")return n}var _g=!1;if(Dn){var Uh;if(Dn){var kh="oninput"in document;if(!kh){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),kh=typeof vg.oninput=="function"}Uh=kh}else Uh=!1;_g=Uh&&(!document.documentMode||9<document.documentMode)}function Eg(){Vo&&(Vo.detachEvent("onpropertychange",Tg),Mo=Vo=null)}function Tg(e){if(e.propertyName==="value"&&Au(Mo)){var n=[];pg(n,Mo,e,Nn(e)),vs(a1,n)}}function o1(e,n,s){e==="focusin"?(Eg(),Vo=n,Mo=s,Vo.attachEvent("onpropertychange",Tg)):e==="focusout"&&Eg()}function l1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Mo)}function u1(e,n){if(e==="click")return Au(n)}function c1(e,n){if(e==="input"||e==="change")return Au(n)}function h1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:h1;function Uo(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Ee.call(n,h)||!_n(e[h],n[h]))return!1}return!0}function Ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bg(e,n){var s=Ag(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ag(s)}}function Sg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=gi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=gi(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var f1=Dn&&"documentMode"in document&&11>=document.documentMode,ha=null,Ph=null,ko=null,zh=!1;function Rg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||ha==null||ha!==gi(o)||(o=ha,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ko&&Uo(ko,o)||(ko=o,o=cc(Ph,"onSelect"),0<o.length&&(n=new _i("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ha)))}function Cr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var fa={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},jh={},Cg={};Dn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Ir(e){if(jh[e])return jh[e];if(!fa[e])return e;var n=fa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Cg)return jh[e]=n[s];return e}var Ig=Ir("animationend"),Ng=Ir("animationiteration"),Dg=Ir("animationstart"),d1=Ir("transitionrun"),m1=Ir("transitionstart"),g1=Ir("transitioncancel"),Og=Ir("transitionend"),xg=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function ti(e,n){xg.set(e,n),di(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],da=0,qh=0;function Su(){for(var e=da,n=qh=da=0;n<e;){var s=xn[n];xn[n++]=null;var o=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Vg(s,h,f)}}function wu(e,n,s,o){xn[da++]=e,xn[da++]=n,xn[da++]=s,xn[da++]=o,qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Hh(e,n,s,o){return wu(e,n,s,o),Ru(e)}function Nr(e,n){return wu(e,null,null,n),Ru(e)}function Vg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ge(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ru(e){if(50<sl)throw sl=0,Wf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ma={};function p1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,n,s,o){return new p1(e,n,s,o)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,n){var s=e.alternate;return s===null?(s=vn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Mg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Fh(e)&&(g=1);else if(typeof e=="string")g=TA(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=vn(31,s,n,h),e.elementType=R,e.lanes=f,e;case it:return Dr(s.children,h,f,n);case W:g=8,h|=24;break;case mt:return e=vn(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case Wt:return e=vn(13,s,n,h),e.elementType=Wt,e.lanes=f,e;case yt:return e=vn(19,s,n,h),e.elementType=yt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:g=10;break t;case Tt:g=9;break t;case It:g=11;break t;case I:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=vn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Dr(e,n,s,o){return e=vn(7,e,o,n),e.lanes=s,e}function Gh(e,n,s){return e=vn(6,e,null,n),e.lanes=s,e}function Ug(e){var n=vn(18,null,null,0);return n.stateNode=e,n}function Qh(e,n,s){return n=vn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var kg=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var s=kg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fo(n)},kg.set(e,n),n)}return{value:e,source:n,stack:fo(n)}}var ga=[],pa=0,Iu=null,Lo=0,Mn=[],Un=0,bs=null,Ai=1,bi="";function ji(e,n){ga[pa++]=Lo,ga[pa++]=Iu,Iu=e,Lo=n}function Lg(e,n,s){Mn[Un++]=Ai,Mn[Un++]=bi,Mn[Un++]=bs,bs=e;var o=Ai;e=bi;var h=32-ge(o)-1;o&=~(1<<h),s+=1;var f=32-ge(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ai=1<<32-ge(n)+h|s<<h|o,bi=f+e}else Ai=1<<f|s<<h|o,bi=e}function Yh(e){e.return!==null&&(ji(e,1),Lg(e,1,0))}function Kh(e){for(;e===Iu;)Iu=ga[--pa],ga[pa]=null,Lo=ga[--pa],ga[pa]=null;for(;e===bs;)bs=Mn[--Un],Mn[Un]=null,bi=Mn[--Un],Mn[Un]=null,Ai=Mn[--Un],Mn[Un]=null}function Pg(e,n){Mn[Un++]=Ai,Mn[Un++]=bi,Mn[Un++]=bs,Ai=n.id,bi=n.overflow,bs=e}var qe=null,se=null,Lt=!1,Ss=null,kn=!1,Xh=Error(a(519));function ws(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Vn(n,e)),Xh}function zg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ae]=e,n[ke]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<al.length;s++)Dt(al[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),ps(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||n_(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||ws(e,!0)}function jg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qe=qe.return}}function ya(e){if(e!==qe)return!1;if(!Lt)return jg(e),Lt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||md(e.type,e.memoizedProps)),s=!s),s&&se&&ws(e),jg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=h_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=h_(e)}else n===27?(n=se,zs(e.type)?(e=vd,vd=null,se=e):se=n):se=qe?Pn(e.stateNode.nextSibling):null;return!0}function Or(){se=qe=null,Lt=!1}function $h(){var e=Ss;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Ss=null),e}function Po(e){Ss===null?Ss=[e]:Ss.push(e)}var Zh=O(null),xr=null,Bi=null;function Rs(e,n,s){et(Zh,n._currentValue),n._currentValue=s}function qi(e){e._currentValue=Zh.current,K(Zh)}function Jh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Wh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Jh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Jh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function _a(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;_n(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===rt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Wh(n,e,s,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){xr=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Bg(xr,e)}function Du(e,n){return xr===null&&Vr(e),Bg(e,n)}function Bg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Bi===null){if(e===null)throw Error(a(308));Bi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Bi=Bi.next=n;return s}var y1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},_1=r.unstable_scheduleCallback,v1=r.unstable_NormalPriority,we={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new y1,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&_1(v1,function(){e.controller.abort()})}var jo=null,ef=0,va=0,Ea=null;function E1(e,n){if(jo===null){var s=jo=[];ef=0,va=rd(),Ea={status:"pending",value:void 0,then:function(o){s.push(o)}}}return ef++,n.then(qg,qg),n}function qg(){if(--ef===0&&jo!==null){Ea!==null&&(Ea.status="fulfilled");var e=jo;jo=null,va=0,Ea=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function T1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Hg=F.S;F.S=function(e,n){Ry=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&E1(e,n),Hg!==null&&Hg(e,n)};var Mr=O(null);function nf(){var e=Mr.current;return e!==null?e:te.pooledCache}function Ou(e,n){n===null?et(Mr,Mr.current):et(Mr,n.pool)}function Fg(){var e=nf();return e===null?null:{parent:we._currentValue,pool:e}}var Ta=Error(a(460)),sf=Error(a(474)),xu=Error(a(542)),Vu={then:function(){}};function Gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Xn,Xn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e}throw kr=n,Ta}}function Ur(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(kr=s,Ta):s}}var kr=null;function Yg(){if(kr===null)throw Error(a(459));var e=kr;return kr=null,e}function Kg(e){if(e===Ta||e===xu)throw Error(a(483))}var Aa=null,Bo=0;function Mu(e){var n=Bo;return Bo+=1,Aa===null&&(Aa=[]),Qg(Aa,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xg(e){function n(M,D){if(e){var P=M.deletions;P===null?(M.deletions=[D],M.flags|=16):P.push(D)}}function s(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=zi(M,D),M.index=0,M.sibling=null,M}function f(M,D,P){return M.index=P,e?(P=M.alternate,P!==null?(P=P.index,P<D?(M.flags|=67108866,D):P):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,P,Y){return D===null||D.tag!==6?(D=Gh(P,M.mode,Y),D.return=M,D):(D=h(D,P),D.return=M,D)}function C(M,D,P,Y){var ft=P.type;return ft===it?G(M,D,P.props.children,Y,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Ur(ft)===D.type)?(D=h(D,P.props),qo(D,P),D.return=M,D):(D=Cu(P.type,P.key,P.props,null,M.mode,Y),qo(D,P),D.return=M,D)}function z(M,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Qh(P,M.mode,Y),D.return=M,D):(D=h(D,P.children||[]),D.return=M,D)}function G(M,D,P,Y,ft){return D===null||D.tag!==7?(D=Dr(P,M.mode,Y,ft),D.return=M,D):(D=h(D,P),D.return=M,D)}function X(M,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Gh(""+D,M.mode,P),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return P=Cu(D.type,D.key,D.props,null,M.mode,P),qo(P,D),P.return=M,P;case J:return D=Qh(D,M.mode,P),D.return=M,D;case S:return D=Ur(D),X(M,D,P)}if(me(D)||U(D))return D=Dr(D,M.mode,P,null),D.return=M,D;if(typeof D.then=="function")return X(M,Mu(D),P);if(D.$$typeof===gt)return X(M,Du(M,D),P);Uu(M,D)}return null}function j(M,D,P,Y){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(M,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ft?C(M,D,P,Y):null;case J:return P.key===ft?z(M,D,P,Y):null;case S:return P=Ur(P),j(M,D,P,Y)}if(me(P)||U(P))return ft!==null?null:G(M,D,P,Y,null);if(typeof P.then=="function")return j(M,D,Mu(P),Y);if(P.$$typeof===gt)return j(M,D,Du(M,P),Y);Uu(M,P)}return null}function H(M,D,P,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return M=M.get(P)||null,E(D,M,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return M=M.get(Y.key===null?P:Y.key)||null,C(D,M,Y,ft);case J:return M=M.get(Y.key===null?P:Y.key)||null,z(D,M,Y,ft);case S:return Y=Ur(Y),H(M,D,P,Y,ft)}if(me(Y)||U(Y))return M=M.get(P)||null,G(D,M,Y,ft,null);if(typeof Y.then=="function")return H(M,D,P,Mu(Y),ft);if(Y.$$typeof===gt)return H(M,D,P,Du(D,Y),ft);Uu(D,Y)}return null}function ut(M,D,P,Y){for(var ft=null,zt=null,ct=D,Rt=D=0,xt=null;ct!==null&&Rt<P.length;Rt++){ct.index>Rt?(xt=ct,ct=null):xt=ct.sibling;var jt=j(M,ct,P[Rt],Y);if(jt===null){ct===null&&(ct=xt);break}e&&ct&&jt.alternate===null&&n(M,ct),D=f(jt,D,Rt),zt===null?ft=jt:zt.sibling=jt,zt=jt,ct=xt}if(Rt===P.length)return s(M,ct),Lt&&ji(M,Rt),ft;if(ct===null){for(;Rt<P.length;Rt++)ct=X(M,P[Rt],Y),ct!==null&&(D=f(ct,D,Rt),zt===null?ft=ct:zt.sibling=ct,zt=ct);return Lt&&ji(M,Rt),ft}for(ct=o(ct);Rt<P.length;Rt++)xt=H(ct,M,Rt,P[Rt],Y),xt!==null&&(e&&xt.alternate!==null&&ct.delete(xt.key===null?Rt:xt.key),D=f(xt,D,Rt),zt===null?ft=xt:zt.sibling=xt,zt=xt);return e&&ct.forEach(function(Fs){return n(M,Fs)}),Lt&&ji(M,Rt),ft}function pt(M,D,P,Y){if(P==null)throw Error(a(151));for(var ft=null,zt=null,ct=D,Rt=D=0,xt=null,jt=P.next();ct!==null&&!jt.done;Rt++,jt=P.next()){ct.index>Rt?(xt=ct,ct=null):xt=ct.sibling;var Fs=j(M,ct,jt.value,Y);if(Fs===null){ct===null&&(ct=xt);break}e&&ct&&Fs.alternate===null&&n(M,ct),D=f(Fs,D,Rt),zt===null?ft=Fs:zt.sibling=Fs,zt=Fs,ct=xt}if(jt.done)return s(M,ct),Lt&&ji(M,Rt),ft;if(ct===null){for(;!jt.done;Rt++,jt=P.next())jt=X(M,jt.value,Y),jt!==null&&(D=f(jt,D,Rt),zt===null?ft=jt:zt.sibling=jt,zt=jt);return Lt&&ji(M,Rt),ft}for(ct=o(ct);!jt.done;Rt++,jt=P.next())jt=H(ct,M,Rt,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&ct.delete(jt.key===null?Rt:jt.key),D=f(jt,D,Rt),zt===null?ft=jt:zt.sibling=jt,zt=jt);return e&&ct.forEach(function(xA){return n(M,xA)}),Lt&&ji(M,Rt),ft}function Zt(M,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===it){if(D.tag===7){s(M,D.sibling),Y=h(D,P.props.children),Y.return=M,M=Y;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Ur(ft)===D.type){s(M,D.sibling),Y=h(D,P.props),qo(Y,P),Y.return=M,M=Y;break t}s(M,D);break}else n(M,D);D=D.sibling}P.type===it?(Y=Dr(P.props.children,M.mode,Y,P.key),Y.return=M,M=Y):(Y=Cu(P.type,P.key,P.props,null,M.mode,Y),qo(Y,P),Y.return=M,M=Y)}return g(M);case J:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(M,D.sibling),Y=h(D,P.children||[]),Y.return=M,M=Y;break t}else{s(M,D);break}else n(M,D);D=D.sibling}Y=Qh(P,M.mode,Y),Y.return=M,M=Y}return g(M);case S:return P=Ur(P),Zt(M,D,P,Y)}if(me(P))return ut(M,D,P,Y);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),pt(M,D,P,Y)}if(typeof P.then=="function")return Zt(M,D,Mu(P),Y);if(P.$$typeof===gt)return Zt(M,D,Du(M,P),Y);Uu(M,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(M,D.sibling),Y=h(D,P),Y.return=M,M=Y):(s(M,D),Y=Gh(P,M.mode,Y),Y.return=M,M=Y),g(M)):s(M,D)}return function(M,D,P,Y){try{Bo=0;var ft=Zt(M,D,P,Y);return Aa=null,ft}catch(ct){if(ct===Ta||ct===xu)throw ct;var zt=vn(29,ct,null,M.mode);return zt.lanes=Y,zt.return=M,zt}}}var Lr=Xg(!0),$g=Xg(!1),Cs=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Vg(e,null,s),n}return wu(e,o,n,s),Ru(e)}function Ho(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,po(e,s)}}function of(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var lf=!1;function Fo(){if(lf){var e=Ea;if(e!==null)throw e}}function Go(e,n,s,o){lf=!1;var h=e.updateQueue;Cs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,G=z=C=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Ot&j)===j:(o&j)===j){j!==0&&j===va&&(lf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,pt=E;j=n;var Zt=s;switch(pt.tag){case 1:if(ut=pt.payload,typeof ut=="function"){X=ut.call(Zt,X,j);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=pt.payload,j=typeof ut=="function"?ut.call(Zt,X,j):ut,j==null)break t;X=b({},X,j);break t;case 2:Cs=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,C=X):G=G.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ms|=g,e.lanes=g,e.memoizedState=X}}function Zg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Jg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Zg(s[e],n)}var ba=O(null),ku=O(0);function Wg(e,n){e=Zi,et(ku,e),et(ba,n),Zi=e|n.baseLanes}function uf(){et(ku,Zi),et(ba,ba.current)}function cf(){Zi=ku.current,K(ba),K(ku)}var En=O(null),Ln=null;function Ds(e){var n=e.alternate;et(ye,ye.current&1),et(En,e),Ln===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(Ln=e)}function hf(e){et(ye,ye.current),et(En,e),Ln===null&&(Ln=e)}function tp(e){e.tag===22?(et(ye,ye.current),et(En,e),Ln===null&&(Ln=e)):Os()}function Os(){et(ye,ye.current),et(En,En.current)}function Tn(e){K(En),Ln===e&&(Ln=null),K(ye)}var ye=O(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yd(s)||_d(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hi=0,wt=null,Xt=null,Re=null,Pu=!1,Sa=!1,Pr=!1,zu=0,Qo=0,wa=null,A1=0;function he(){throw Error(a(321))}function ff(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!_n(e[s],n[s]))return!1;return!0}function df(e,n,s,o,h,f){return Hi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Lp:If,Pr=!1,f=s(o,h),Pr=!1,Sa&&(f=np(n,s,o,h)),ep(e),f}function ep(e){F.H=Xo;var n=Xt!==null&&Xt.next!==null;if(Hi=0,Re=Xt=wt=null,Pu=!1,Qo=0,wa=null,n)throw Error(a(300));e===null||Ce||(e=e.dependencies,e!==null&&Nu(e)&&(Ce=!0))}function np(e,n,s,o){wt=e;var h=0;do{if(Sa&&(wa=null),Qo=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,Re=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Pp,f=n(s,o)}while(Sa);return f}function b1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Yo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(wt.flags|=1024),n}function mf(){var e=zu!==0;return zu=0,e}function gf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function pf(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}Hi=0,Re=Xt=wt=null,Sa=!1,Qo=zu=0,wa=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?wt.memoizedState=Re=e:Re=Re.next=e,Re}function _e(){if(Xt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Re===null?wt.memoizedState:Re.next;if(n!==null)Re=n,Xt=e;else{if(e===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Re===null?wt.memoizedState=Re=e:Re=Re.next=e}return Re}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(e){var n=Qo;return Qo+=1,wa===null&&(wa=[]),e=Qg(wa,e,n),n=wt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Lp:If),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yo(e);if(e.$$typeof===gt)return He(e)}throw Error(a(438,String(e)))}function yf(e){var n=null,s=wt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ju(),wt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Fi(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=_e();return _f(n,Xt,e)}function _f(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ot&X)===X:(Hi&X)===X){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===va&&(G=!0);else if((Hi&j)===j){z=z.next,j===va&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=X,g=f):C=C.next=X,wt.lanes|=j,Ms|=j;X=z.action,Pr&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,g=f):C=C.next=j,wt.lanes|=X,Ms|=X;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!_n(f,e.memoizedState)&&(Ce=!0,G&&(s=Ea,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vf(e){var n=_e(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);_n(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ip(e,n,s){var o=wt,h=_e(),f=Lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!_n((Xt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ce=!0),h=h.queue,Af(ap.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Ra(9,{destroy:void 0},rp.bind(null,o,h,s,n),null),te===null)throw Error(a(349));f||(Hi&127)!==0||sp(o,n,s)}return s}function sp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=wt.updateQueue,n===null?(n=ju(),wt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function rp(e,n,s,o){n.value=s,n.getSnapshot=o,op(n)&&lp(e)}function ap(e,n,s){return s(function(){op(n)&&lp(e)})}function op(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!_n(e,s)}catch{return!0}}function lp(e){var n=Nr(e,2);n!==null&&dn(n,e,2)}function Ef(e){var n=rn();if(typeof e=="function"){var s=e;if(e=s(),Pr){Cn(!0);try{s()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:e},n}function up(e,n,s,o){return e.baseState=s,_f(e,Xt,typeof o=="function"?o:Fi)}function S1(e,n,s,o,h){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,cp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function cp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(h,o),C=F.S;C!==null&&C(g,E),hp(e,n,E)}catch(z){Tf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),hp(e,n,f)}catch(z){Tf(e,n,z)}}function hp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){fp(e,n,o)},function(o){return Tf(e,n,o)}):fp(e,n,s)}function fp(e,n,s){n.status="fulfilled",n.value=s,dp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,cp(e,s)))}function Tf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,dp(n),n=n.next;while(n!==o)}e.action=null}function dp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function mp(e,n){return n}function gp(e,n){if(Lt){var s=te.formState;if(s!==null){t:{var o=wt;if(Lt){if(se){e:{for(var h=se,f=kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){se=Pn(h.nextSibling),o=h.data==="F!";break t}}ws(o)}o=!1}o&&(n=s[0])}}return s=rn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:n},s.queue=o,s=Mp.bind(null,wt,o),o.dispatch=s,o=Ef(!1),f=Cf.bind(null,wt,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=S1.bind(null,wt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function pp(e){var n=_e();return yp(n,Xt,e)}function yp(e,n,s){if(n=_f(e,n,mp)[0],e=qu(Fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yo(n)}catch(g){throw g===Ta?xu:g}else o=n;n=_e();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(wt.flags|=2048,Ra(9,{destroy:void 0},w1.bind(null,h,s),null)),[o,f,e]}function w1(e,n){e.action=n}function _p(e){var n=_e(),s=Xt;if(s!==null)return yp(n,s,e);_e(),n=n.memoizedState,s=_e();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ra(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=wt.updateQueue,n===null&&(n=ju(),wt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function vp(){return _e().memoizedState}function Hu(e,n,s,o){var h=rn();wt.flags|=e,h.memoizedState=Ra(1|n,{destroy:void 0},s,o===void 0?null:o)}function Fu(e,n,s,o){var h=_e();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&ff(o,Xt.memoizedState.deps)?h.memoizedState=Ra(n,f,s,o):(wt.flags|=e,h.memoizedState=Ra(1|n,f,s,o))}function Ep(e,n){Hu(8390656,8,e,n)}function Af(e,n){Fu(2048,8,e,n)}function R1(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=ju(),wt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Tp(e){var n=_e().memoizedState;return R1({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ap(e,n){return Fu(4,2,e,n)}function bp(e,n){return Fu(4,4,e,n)}function Sp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wp(e,n,s){s=s!=null?s.concat([e]):null,Fu(4,4,Sp.bind(null,n,e),s)}function bf(){}function Rp(e,n){var s=_e();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&ff(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Cp(e,n){var s=_e();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&ff(n,o[1]))return o[0];if(o=e(),Pr){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[o,n],o}function Sf(e,n,s){return s===void 0||(Hi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Iy(),wt.lanes|=e,Ms|=e,s)}function Ip(e,n,s,o){return _n(s,n)?s:ba.current!==null?(e=Sf(e,s,o),_n(e,n)||(Ce=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(Ot&261930)===0?(Ce=!0,e.memoizedState=s):(e=Iy(),wt.lanes|=e,Ms|=e,n)}function Np(e,n,s,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Cf(e,!1,n,s);try{var C=h(),z=F.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=T1(C,o);Ko(e,n,G,Sn(e))}else Ko(e,n,o,Sn(e))}catch(X){Ko(e,n,{then:function(){},status:"rejected",reason:X},Sn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function C1(){}function wf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Dp(e).queue;Np(e,h,n,ht,s===null?C1:function(){return Op(e),s(o)})}function Dp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Op(e){var n=Dp(e);n.next===null&&(n=e.alternate.memoizedState),Ko(e,n.next.queue,{},Sn())}function Rf(){return He(hl)}function xp(){return _e().memoizedState}function Vp(){return _e().memoizedState}function I1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Sn();e=Is(s);var o=Ns(n,e,s);o!==null&&(dn(o,n,s),Ho(o,n,s)),n={cache:tf()},e.payload=n;return}n=n.return}}function N1(e,n,s){var o=Sn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Up(n,s):(s=Hh(e,n,s,o),s!==null&&(dn(s,e,o),kp(s,n,o)))}function Mp(e,n,s){var o=Sn();Ko(e,n,s,o)}function Ko(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Up(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,_n(E,g))return wu(e,n,h,0),te===null&&Su(),!1}catch{}if(s=Hh(e,n,h,o),s!==null)return dn(s,e,o),kp(s,n,o),!0}return!1}function Cf(e,n,s,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=Hh(e,s,o,2),n!==null&&dn(n,e,2)}function Gu(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Up(e,n){Sa=Pu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function kp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,po(e,s)}}var Xo={readContext:He,use:Bu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Xo.useEffectEvent=he;var Lp={readContext:He,use:Bu,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Ep,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Hu(4194308,4,Sp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var s=rn();n=n===void 0?null:n;var o=e();if(Pr){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=rn();if(s!==void 0){var h=s(n);if(Pr){Cn(!0);try{s(n)}finally{Cn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=N1.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=Ef(e);var n=e.queue,s=Mp.bind(null,wt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(e,n){var s=rn();return Sf(s,e,n)},useTransition:function(){var e=Ef(!1);return e=Np.bind(null,wt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=wt,h=rn();if(Lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(Ot&127)!==0||sp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Ep(ap.bind(null,o,f,e),[e]),o.flags|=2048,Ra(9,{destroy:void 0},rp.bind(null,o,f,s,n),null),s},useId:function(){var e=rn(),n=te.identifierPrefix;if(Lt){var s=bi,o=Ai;s=(o&~(1<<32-ge(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=zu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=A1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Rf,useFormState:gp,useActionState:gp,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Cf.bind(null,wt,!0,s),s.dispatch=n,[e,n]},useMemoCache:yf,useCacheRefresh:function(){return rn().memoizedState=I1.bind(null,wt)},useEffectEvent:function(e){var n=rn(),s={impl:e};return n.memoizedState=s,function(){if((Ht&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},If={readContext:He,use:Bu,useCallback:Rp,useContext:He,useEffect:Af,useImperativeHandle:wp,useInsertionEffect:Ap,useLayoutEffect:bp,useMemo:Cp,useReducer:qu,useRef:vp,useState:function(){return qu(Fi)},useDebugValue:bf,useDeferredValue:function(e,n){var s=_e();return Ip(s,Xt.memoizedState,e,n)},useTransition:function(){var e=qu(Fi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:ip,useId:xp,useHostTransitionStatus:Rf,useFormState:pp,useActionState:pp,useOptimistic:function(e,n){var s=_e();return up(s,Xt,e,n)},useMemoCache:yf,useCacheRefresh:Vp};If.useEffectEvent=Tp;var Pp={readContext:He,use:Bu,useCallback:Rp,useContext:He,useEffect:Af,useImperativeHandle:wp,useInsertionEffect:Ap,useLayoutEffect:bp,useMemo:Cp,useReducer:vf,useRef:vp,useState:function(){return vf(Fi)},useDebugValue:bf,useDeferredValue:function(e,n){var s=_e();return Xt===null?Sf(s,e,n):Ip(s,Xt.memoizedState,e,n)},useTransition:function(){var e=vf(Fi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:ip,useId:xp,useHostTransitionStatus:Rf,useFormState:_p,useActionState:_p,useOptimistic:function(e,n){var s=_e();return Xt!==null?up(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Vp};Pp.useEffectEvent=Tp;function Nf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Sn(),h=Is(o);h.payload=n,s!=null&&(h.callback=s),n=Ns(e,h,o),n!==null&&(dn(n,e,o),Ho(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Sn(),h=Is(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ns(e,h,o),n!==null&&(dn(n,e,o),Ho(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Sn(),o=Is(s);o.tag=2,n!=null&&(o.callback=n),n=Ns(e,o,s),n!==null&&(dn(n,e,s),Ho(n,e,s))}};function zp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Uo(s,o)||!Uo(h,f):!0}function jp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function zr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Bp(e){bu(e)}function qp(e){console.error(e)}function Hp(e){bu(e)}function Qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Fp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,s){return s=Is(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(e,n)},s}function Gp(e){return e=Is(e),e.tag=3,e}function Qp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Fp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Fp(n,s,o),typeof h!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function D1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&_a(n,s,h,!0),s=En.current,s!==null){switch(s.tag){case 31:case 13:return Ln===null?sc():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),nd(e,o,h)),!1;case 22:return s.flags|=65536,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),nd(e,o,h)),!1}throw Error(a(435,s.tag))}return nd(e,o,h),sc(),!1}if(Lt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Xh&&(e=Error(a(422),{cause:o}),Po(Vn(e,s)))):(o!==Xh&&(n=Error(a(423),{cause:o}),Po(Vn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,s),h=Of(e.stateNode,o,h),of(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:o});if(f=Vn(f,s),il===null?il=[f]:il.push(f),fe!==4&&(fe=2),n===null)return!0;o=Vn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Of(s.stateNode,o,e),of(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Us===null||!Us.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Gp(h),Qp(h,e,s,o),of(s,h),!1}s=s.return}while(s!==null);return!1}var xf=Error(a(461)),Ce=!1;function Fe(e,n,s,o){n.child=e===null?$g(n,null,s,o):Lr(n,e.child,s,o)}function Yp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Vr(n),o=df(e,n,s,g,f,h),E=mf(),e!==null&&!Ce?(gf(e,n,h),Gi(e,n,h)):(Lt&&E&&Yh(n),n.flags|=1,Fe(e,n,o,h),n.child)}function Kp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Xp(e,n,f,o,h)):(e=Cu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!jf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Uo,s(g,o)&&e.ref===n.ref)return Gi(e,n,h)}return n.flags|=1,e=zi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Xp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Uo(f,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=f,jf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Gi(e,n,h)}return Vf(e,n,s,o,h)}function $p(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Zp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Wg(n,f):uf(),tp(n);else return o=n.lanes=536870912,Zp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Ou(n,f.cachePool),Wg(n,f),Os(),n.memoizedState=null):(e!==null&&Ou(n,null),uf(),Os());return Fe(e,n,h,s),n.child}function $o(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zp(e,n,s,o,h){var f=nf();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ou(n,null),uf(),tp(n),e!==null&&_a(e,n,o,!0),n.childLanes=h,null}function Yu(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Jp(e,n,s){return Lr(n,e.child,null,s),e=Yu(n,n.pendingProps),e.flags|=2,Tn(n),n.memoizedState=null,e}function O1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Yu(n,o),n.lanes=536870912,$o(null,e);if(hf(n),(e=se)?(e=c_(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:Ai,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=Ug(e),s.return=n,n.child=s,qe=n,se=null)):e=null,e===null)throw ws(n);return n.lanes=536870912,null}return Yu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=Jp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ce||_a(e,n,s,!1),h=(s&e.childLanes)!==0,Ce||h){if(o=te,o!==null&&(g=yo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Nr(e,g),dn(o,e,g),xf;sc(),n=Jp(e,n,s)}else e=f.treeContext,se=Pn(g.nextSibling),qe=n,Lt=!0,Ss=null,kn=!1,e!==null&&Pg(n,e),n=Yu(n,o),n.flags|=4096;return n}return e=zi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,o,h){return Vr(n),s=df(e,n,s,o,void 0,h),o=mf(),e!==null&&!Ce?(gf(e,n,h),Gi(e,n,h)):(Lt&&o&&Yh(n),n.flags|=1,Fe(e,n,s,h),n.child)}function Wp(e,n,s,o,h,f){return Vr(n),n.updateQueue=null,s=np(n,o,s,h),ep(e),o=mf(),e!==null&&!Ce?(gf(e,n,f),Gi(e,n,f)):(Lt&&o&&Yh(n),n.flags|=1,Fe(e,n,s,f),n.child)}function ty(e,n,s,o,h){if(Vr(n),n.stateNode===null){var f=ma,g=s.contextType;typeof g=="object"&&g!==null&&(f=He(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?He(g):ma,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),Go(n,o,f,h),Fo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=zr(s,E);f.props=C;var z=f.context,G=s.contextType;g=ma,typeof G=="object"&&G!==null&&(g=He(G));var X=s.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&jp(n,f,o,g),Cs=!1;var j=n.memoizedState;f.state=j,Go(n,o,f,h),Fo(),z=n.memoizedState,E||j!==z||Cs?(typeof X=="function"&&(Nf(n,s,X,o),z=n.memoizedState),(C=Cs||zp(n,s,C,o,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,af(e,n),g=n.memoizedProps,G=zr(s,g),f.props=G,X=n.pendingProps,j=f.context,z=s.contextType,C=ma,typeof z=="object"&&z!==null&&(C=He(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==C)&&jp(n,f,o,C),Cs=!1,j=n.memoizedState,f.state=j,Go(n,o,f,h),Fo();var H=n.memoizedState;g!==X||j!==H||Cs||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(Nf(n,s,E,o),H=n.memoizedState),(G=Cs||zp(n,s,G,o,j,H,C)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Lr(n,e.child,null,h),n.child=Lr(n,null,s,h)):Fe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Gi(e,n,h),e}function ey(e,n,s,o){return Or(),n.flags|=256,Fe(e,n,s,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:Fg()}}function kf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=bn),e}function ny(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?Ds(n):Os(),(e=se)?(e=c_(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:Ai,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=Ug(e),s.return=n,n.child=s,qe=n,se=null)):e=null,e===null)throw ws(n);return _d(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Os(),h=n.mode,E=Xu({mode:"hidden",children:E},h),o=Dr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Uf(s),o.childLanes=kf(e,g,s),n.memoizedState=Mf,$o(null,o)):(Ds(n),Lf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ds(n),n.flags&=-257,n=Pf(e,n,s)):n.memoizedState!==null?(Os(),n.child=e.child,n.flags|=128,n=null):(Os(),E=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),E=Dr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Lr(n,e.child,null,s),o=n.child,o.memoizedState=Uf(s),o.childLanes=kf(e,g,s),n.memoizedState=Mf,n=$o(null,o));else if(Ds(n),_d(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Po({value:o,source:null,stack:null}),n=Pf(e,n,s)}else if(Ce||_a(e,n,s,!1),g=(s&e.childLanes)!==0,Ce||g){if(g=te,g!==null&&(o=yo(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Nr(e,o),dn(g,e,o),xf;yd(E)||sc(),n=Pf(e,n,s)}else yd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,se=Pn(E.nextSibling),qe=n,Lt=!0,Ss=null,kn=!1,e!==null&&Pg(n,e),n=Lf(n,o.children),n.flags|=4096);return n}return h?(Os(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=zi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=zi(z,E):(E=Dr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,$o(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Uf(s):(h=E.cachePool,h!==null?(C=we._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Fg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=kf(e,g,s),n.memoizedState=Mf,$o(e.child,o)):(Ds(n),s=e.child,e=s.sibling,s=zi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Lf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=vn(22,e,null,n),e.lanes=0,e}function Pf(e,n,s){return Lr(n,e.child,null,s),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function iy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Jh(e.return,n,s)}function zf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function sy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ye.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(ye,g),Fe(e,n,o,s),o=Lt?Lo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iy(e,s,n);else if(e.tag===19)iy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Lu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}zf(n,!0,s,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Gi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ms|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(_a(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=zi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=zi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function x1(e,n,s){switch(n.tag){case 3:ne(n,n.stateNode.containerInfo),Rs(n,we,e.memoizedState.cache),Or();break;case 27:case 5:xe(n);break;case 4:ne(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ds(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ny(e,n,s):(Ds(n),e=Gi(e,n,s),e!==null?e.sibling:null);Ds(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(_a(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return sy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(ye,ye.current),o)break;return null;case 22:return n.lanes=0,$p(e,n,s,n.pendingProps);case 24:Rs(n,we,e.memoizedState.cache)}return Gi(e,n,s)}function ry(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!jf(e,s)&&(n.flags&128)===0)return Ce=!1,x1(e,n,s);Ce=(e.flags&131072)!==0}else Ce=!1,Lt&&(n.flags&1048576)!==0&&Lg(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ur(n.elementType),n.type=e,typeof e=="function")Fh(e)?(o=zr(e,o),n.tag=1,n=ty(null,n,e,o,s)):(n.tag=0,n=Vf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===It){n.tag=11,n=Yp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=Kp(null,n,e,o,s);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=zr(o,n.pendingProps),ty(e,n,o,h,s);case 3:t:{if(ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,af(e,n),Go(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Rs(n,we,o),o!==f.cache&&Wh(n,[we],s,!0),Fo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ey(e,n,o,s);break t}else if(o!==h){h=Vn(Error(a(424)),n),Po(h),n=ey(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,se=Pn(e.firstChild),qe=n,Lt=!0,Ss=null,kn=!0,s=$g(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Or(),o===h){n=Gi(e,n,s);break t}Fe(e,n,o,s)}n=n.child}return n;case 26:return Ku(e,n),e===null?(s=p_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,e=n.pendingProps,o=hc(st.current).createElement(s),o[Ae]=n,o[ke]=e,Ge(o,s,e),be(o),n.stateNode=o):n.memoizedState=p_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return xe(n),e===null&&Lt&&(o=n.stateNode=d_(n.type,n.pendingProps,st.current),qe=n,kn=!0,h=se,zs(n.type)?(vd=h,se=Pn(o.firstChild)):se=h),Fe(e,n,n.pendingProps.children,s),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=se)&&(o=lA(o,n.type,n.pendingProps,kn),o!==null?(n.stateNode=o,qe=n,se=Pn(o.firstChild),kn=!1,h=!0):h=!1),h||ws(n)),xe(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,md(h,f)?o=null:g!==null&&md(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=df(e,n,b1,null,null,s),hl._currentValue=h),Ku(e,n),Fe(e,n,o,s),n.child;case 6:return e===null&&Lt&&((e=s=se)&&(s=uA(s,n.pendingProps,kn),s!==null?(n.stateNode=s,qe=n,se=null,e=!0):e=!1),e||ws(n)),null;case 13:return ny(e,n,s);case 4:return ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Lr(n,null,o,s):Fe(e,n,o,s),n.child;case 11:return Yp(e,n,n.type,n.pendingProps,s);case 7:return Fe(e,n,n.pendingProps,s),n.child;case 8:return Fe(e,n,n.pendingProps.children,s),n.child;case 12:return Fe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Rs(n,n.type,o.value),Fe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Vr(n),h=He(h),o=o(h),n.flags|=1,Fe(e,n,o,s),n.child;case 14:return Kp(e,n,n.type,n.pendingProps,s);case 15:return Xp(e,n,n.type,n.pendingProps,s);case 19:return sy(e,n,s);case 31:return O1(e,n,s);case 22:return $p(e,n,s,n.pendingProps);case 24:return Vr(n),o=He(we),e===null?(h=nf(),h===null&&(h=te,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},rf(n),Rs(n,we,h)):((e.lanes&s)!==0&&(af(e,n),Go(n,null,null,s),Fo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rs(n,we,o)):(o=f.cache,Rs(n,we,o),o!==h.cache&&Wh(n,[we],s,!0))),Fe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Qi(e){e.flags|=4}function Bf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(xy())e.flags|=8192;else throw kr=Vu,sf}else e.flags&=-16777217}function ay(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T_(n))if(xy())e.flags|=8192;else throw kr=Vu,sf}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,Da|=n)}function Zo(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function V1(e,n,s){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),qi(we),Ct(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ya(n)?Qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),re(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Qi(n),f!==null?(re(n),ay(n,f)):(re(n),Bf(n,h,null,o,s))):f?f!==e.memoizedState?(Qi(n),re(n),ay(n,f)):(re(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Qi(n),re(n),Bf(n,h,e,o,s)),null;case 27:if(ue(n),s=st.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}e=at.current,ya(n)?zg(n):(e=d_(h,o,s),n.stateNode=e,Qi(n))}return re(n),null;case 5:if(ue(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}if(f=at.current,ya(n))zg(n);else{var g=hc(st.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ae]=n,f[ke]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Qi(n)}}return re(n),Bf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=st.current,ya(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||n_(e.nodeValue,s)),e||ws(n,!0)}else e=hc(e).createTextNode(o),e[Ae]=n,n.stateNode=e}return re(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ya(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ae]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),e=!1}else s=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return re(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ae]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),re(n),null);case 4:return Ct(),e===null&&ud(n.stateNode.containerInfo),re(n),null;case 10:return qi(n.type),re(n),null;case 19:if(K(ye),o=n.memoizedState,o===null)return re(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Mg(s,e),s=s.sibling;return et(ye,ye.current&1|2),Lt&&ji(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&nn()>ec&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return re(n),null}else 2*nn()-o.renderingStartTime>ec&&s!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nn(),e.sibling=null,s=ye.current,et(ye,h?s&1|2:s&1),Lt&&ji(n,o.treeForkCount),e):(re(n),null);case 22:case 23:return Tn(n),cf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Mr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),qi(we),re(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function M1(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qi(we),Ct(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ue(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Tn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(ye),null;case 4:return Ct(),null;case 10:return qi(n.type),null;case 22:case 23:return Tn(n),cf(),e!==null&&K(Mr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return qi(we),null;case 25:return null;default:return null}}function oy(e,n){switch(Kh(n),n.tag){case 3:qi(we),Ct();break;case 26:case 27:case 5:ue(n);break;case 4:Ct();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:K(ye);break;case 10:qi(n.type);break;case 22:case 23:Tn(n),cf(),e!==null&&K(Mr);break;case 24:qi(we)}}function Jo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Yt(n,n.return,E)}}function xs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(G){Yt(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){Yt(n,n.return,G)}}function ly(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Jg(n,s)}catch(o){Yt(e,e.return,o)}}}function uy(e,n,s){s.props=zr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Yt(e,n,o)}}function Wo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Yt(e,n,h)}}function Si(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Yt(e,n,h)}else s.current=null}function cy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Yt(e,e.return,h)}}function qf(e,n,s){try{var o=e.stateNode;nA(o,e.type,s,n),o[ke]=n}catch(h){Yt(e,e.return,h)}}function hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zs(e.type)||e.tag===4}function Hf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Xn));else if(o!==4&&(o===27&&zs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Ff(e,n,s),e=e.sibling;e!==null;)Ff(e,n,s),e=e.sibling}function Zu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&zs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Zu(e,n,s),e=e.sibling;e!==null;)Zu(e,n,s),e=e.sibling}function fy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,s),n[Ae]=e,n[ke]=s}catch(f){Yt(e,e.return,f)}}var Yi=!1,Ie=!1,Gf=!1,dy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function U1(e,n){if(e=e.containerInfo,fd=_c,e=wg(e),Lh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,z=0,G=0,X=e,j=null;e:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)j=X,X=H;for(;;){if(X===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++G===o&&(C=g),(H=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=H}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:e,selectionRange:s},_c=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ut=zr(s.type,h);e=o.getSnapshotBeforeUpdate(ut,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Yt(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)pd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function my(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Xi(e,s),o&4&&Jo(5,s);break;case 1:if(Xi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(s,s.return,g)}else{var h=zr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(s,s.return,g)}}o&64&&ly(s),o&512&&Wo(s,s.return);break;case 3:if(Xi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Jg(e,n)}catch(g){Yt(s,s.return,g)}}break;case 27:n===null&&o&4&&fy(s);case 26:case 5:Xi(e,s),n===null&&o&4&&cy(s),o&512&&Wo(s,s.return);break;case 12:Xi(e,s);break;case 31:Xi(e,s),o&4&&yy(e,s);break;case 13:Xi(e,s),o&4&&_y(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=F1.bind(null,s),cA(e,s))));break;case 22:if(o=s.memoizedState!==null||Yi,!o){n=n!==null&&n.memoizedState!==null||Ie,h=Yi;var f=Ie;Yi=o,(Ie=n)&&!f?$i(e,s,(s.subtreeFlags&8772)!==0):Xi(e,s),Yi=h,Ie=f}break;case 30:break;default:Xi(e,s)}}function gy(e){var n=e.alternate;n!==null&&(e.alternate=null,gy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ta(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,un=!1;function Ki(e,n,s){for(s=s.child;s!==null;)py(e,n,s),s=s.sibling}function py(e,n,s){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Gn,s)}catch{}switch(s.tag){case 26:Ie||Si(s,n),Ki(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ie||Si(s,n);var o=le,h=un;zs(s.type)&&(le=s.stateNode,un=!1),Ki(e,n,s),ll(s.stateNode),le=o,un=h;break;case 5:Ie||Si(s,n);case 6:if(o=le,h=un,le=null,Ki(e,n,s),le=o,un=h,le!==null)if(un)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:le!==null&&(un?(e=le,l_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Pa(e)):l_(le,s.stateNode));break;case 4:o=le,h=un,le=s.stateNode.containerInfo,un=!0,Ki(e,n,s),le=o,un=h;break;case 0:case 11:case 14:case 15:xs(2,s,n),Ie||xs(4,s,n),Ki(e,n,s);break;case 1:Ie||(Si(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&uy(s,n,o)),Ki(e,n,s);break;case 21:Ki(e,n,s);break;case 22:Ie=(o=Ie)||s.memoizedState!==null,Ki(e,n,s),Ie=o;break;default:Ki(e,n,s)}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(s){Yt(n,n.return,s)}}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(s){Yt(n,n.return,s)}}function k1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new dy),n;default:throw Error(a(435,e.tag))}}function Ju(e,n){var s=k1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=G1.bind(null,e,o);o.then(h,h)}})}function cn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(zs(E.type)){le=E.stateNode,un=!1;break t}break;case 5:le=E.stateNode,un=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(le===null)throw Error(a(160));py(f,g,h),le=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vy(n,e),n=n.sibling}var ei=null;function vy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),o&4&&(xs(3,e,e.return),Jo(3,e),xs(5,e,e.return));break;case 1:cn(n,e),hn(e),o&512&&(Ie||s===null||Si(s,s.return)),o&64&&Yi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ei;if(cn(n,e),hn(e),o&512&&(Ie||s===null||Si(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ci]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,s),f[Ae]=e,be(f),o=f;break t;case"link":var g=v_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;case"meta":if(g=v_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ae]=e,be(f),o=f}e.stateNode=o}else E_(h,e.type,e.stateNode);else e.stateNode=__(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?E_(h,e.type,e.stateNode):__(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&qf(e,e.memoizedProps,s.memoizedProps)}break;case 27:cn(n,e),hn(e),o&512&&(Ie||s===null||Si(s,s.return)),s!==null&&o&4&&qf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(cn(n,e),hn(e),o&512&&(Ie||s===null||Si(s,s.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(ut){Yt(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(cn(n,e),hn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ut){Yt(e,e.return,ut)}}break;case 3:if(mc=null,h=ei,ei=fc(n.containerInfo),cn(n,e),ei=h,hn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(ut){Yt(e,e.return,ut)}Gf&&(Gf=!1,Ey(e));break;case 4:o=ei,ei=fc(e.stateNode.containerInfo),cn(n,e),hn(e),ei=o;break;case 12:cn(n,e),hn(e);break;case 31:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=Yi,G=Ie;if(Yi=z||h,Ie=G||C,cn(n,e),Ie=G,Yi=z,hn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Yi||Ie||jr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ut){Yt(C,C.return,ut)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ut){Yt(C,C.return,ut)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?u_(H,!0):u_(C.stateNode,!1)}catch(ut){Yt(C,C.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ju(e,s))));break;case 19:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(hy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Hf(e);Zu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(ln(g,""),s.flags&=-33);var E=Hf(e);Zu(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Hf(e);Ff(e,z,C);break;default:throw Error(a(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)my(e,n.alternate,n),n=n.sibling}function jr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xs(4,n,n.return),jr(n);break;case 1:Si(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&uy(n,n.return,s),jr(n);break;case 27:ll(n.stateNode);case 26:case 5:Si(n,n.return),jr(n);break;case 22:n.memoizedState===null&&jr(n);break;case 30:jr(n);break;default:jr(n)}e=e.sibling}}function $i(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:$i(h,f,s),Jo(4,f);break;case 1:if($i(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Zg(C[h],E)}catch(z){Yt(o,o.return,z)}}s&&g&64&&ly(f),Wo(f,f.return);break;case 27:fy(f);case 26:case 5:$i(h,f,s),s&&o===null&&g&4&&cy(f),Wo(f,f.return);break;case 12:$i(h,f,s);break;case 31:$i(h,f,s),s&&g&4&&yy(h,f);break;case 13:$i(h,f,s),s&&g&4&&_y(h,f);break;case 22:f.memoizedState===null&&$i(h,f,s),Wo(f,f.return);break;case 30:break;default:$i(h,f,s)}n=n.sibling}}function Qf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&zo(s))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function ni(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ty(e,n,s,o),n=n.sibling}function Ty(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,s,o),h&2048&&Jo(9,n);break;case 1:ni(e,n,s,o);break;case 3:ni(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){ni(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Yt(n,n.return,C)}}else ni(e,n,s,o);break;case 31:ni(e,n,s,o);break;case 13:ni(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ni(e,n,s,o):tl(e,n):f._visibility&2?ni(e,n,s,o):(f._visibility|=2,Ca(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(g,n);break;case 24:ni(e,n,s,o),h&2048&&Yf(n.alternate,n);break;default:ni(e,n,s,o)}}function Ca(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(f,g,E,C,h),Jo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ca(f,g,E,C,h):tl(f,g):(G._visibility|=2,Ca(f,g,E,C,h)),h&&z&2048&&Qf(g.alternate,g);break;case 24:Ca(f,g,E,C,h),h&&z&2048&&Yf(g.alternate,g);break;default:Ca(f,g,E,C,h)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:tl(s,o),h&2048&&Qf(o.alternate,o);break;case 24:tl(s,o),h&2048&&Yf(o.alternate,o);break;default:tl(s,o)}n=n.sibling}}var el=8192;function Ia(e,n,s){if(e.subtreeFlags&el)for(e=e.child;e!==null;)Ay(e,n,s),e=e.sibling}function Ay(e,n,s){switch(e.tag){case 26:Ia(e,n,s),e.flags&el&&e.memoizedState!==null&&AA(s,ei,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,s);break;case 3:case 4:var o=ei;ei=fc(e.stateNode.containerInfo),Ia(e,n,s),ei=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Ia(e,n,s),el=o):Ia(e,n,s));break;default:Ia(e,n,s)}}function by(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pe=o,wy(o,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&xs(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):nl(e);break;default:nl(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pe=o,wy(o,e)}by(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xs(8,n,n.return),Wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function wy(e,n){for(;Pe!==null;){var s=Pe;switch(s.tag){case 0:case 11:case 15:xs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Pe=o;else t:for(s=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(gy(o),o===s){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var L1={getCacheForType:function(e){var n=He(we),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return He(we).controller.signal}},P1=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Nt=null,Ot=0,Qt=0,An=null,Vs=!1,Na=!1,Kf=!1,Zi=0,fe=0,Ms=0,Br=0,Xf=0,bn=0,Da=0,il=null,fn=null,$f=!1,tc=0,Ry=0,ec=1/0,nc=null,Us=null,Me=0,ks=null,Oa=null,Ji=0,Zf=0,Jf=null,Cy=null,sl=0,Wf=null;function Sn(){return(Ht&2)!==0&&Ot!==0?Ot&-Ot:F.T!==null?rd():iu()}function Iy(){if(bn===0)if((Ot&536870912)===0||Lt){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),bn=e}else bn=536870912;return e=En.current,e!==null&&(e.flags|=32),bn}function dn(e,n,s){(e===te&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Ls(e,Ot,bn,!1)),gr(e,s),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(Br|=s),fe===4&&Ls(e,Ot,bn,!1)),wi(e))}function Ny(e,n,s){if((Ht&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Qn(e,n),h=o?B1(e,n):ed(e,n,!0),f=o;do{if(h===0){Na&&!o&&Ls(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!z1(s)){h=ed(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=il;var C=E.current.memoizedState.isDehydrated;if(C&&(xa(E,g).flags|=256),g=ed(E,g,!1),g!==2){if(Kf&&!C){E.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break t}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){xa(e,0),Ls(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ls(o,n,bn,!Vs);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-nn(),10<h)){if(Ls(o,n,bn,!Vs),oi(o,0,!0)!==0)break t;Ji=n,o.timeoutHandle=a_(Dy.bind(null,o,s,fn,nc,$f,n,bn,Br,Da,Vs,f,"Throttled",-0,0),h);break t}Dy(o,s,fn,nc,$f,n,bn,Br,Da,Vs,f,null,-0,0)}}break}while(!0);wi(e)}function Dy(e,n,s,o,h,f,g,E,C,z,G,X,j,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},Ay(n,f,X);var ut=(f&62914560)===f?tc-nn():(f&4194048)===f?Ry-nn():0;if(ut=bA(X,ut),ut!==null){Ji=f,e.cancelPendingCommit=ut(Py.bind(null,e,n,f,s,o,h,g,E,C,G,X,null,j,H)),Ls(e,f,g,!z);return}}Py(e,n,f,s,o,h,g,E,C)}function z1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ls(e,n,s,o){n&=~Xf,n&=~Br,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ge(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&pr(e,s,n)}function ic(){return(Ht&6)===0?(rl(0),!1):!0}function td(){if(Nt!==null){if(Qt===0)var e=Nt.return;else e=Nt,Bi=xr=null,pf(e),Aa=null,Bo=0,e=Nt;for(;e!==null;)oy(e.alternate,e),e=e.return;Nt=null}}function xa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,rA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ji=0,td(),te=e,Nt=s=zi(e.current,null),Ot=n,Qt=0,An=null,Vs=!1,Na=Qn(e,n),Kf=!1,Da=bn=Xf=Br=Ms=fe=0,fn=il=null,$f=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ge(o),f=1<<h;n|=e[h],o&=~f}return Zi=n,Su(),s}function Oy(e,n){wt=null,F.H=Xo,n===Ta||n===xu?(n=Yg(),Qt=3):n===sf?(n=Yg(),Qt=4):Qt=n===xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Nt===null&&(fe=1,Qu(e,Vn(n,e.current)))}function xy(){var e=En.current;return e===null?!0:(Ot&4194048)===Ot?Ln===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Ln:!1}function Vy(){var e=F.H;return F.H=Xo,e===null?Xo:e}function My(){var e=F.A;return F.A=L1,e}function sc(){fe=4,Vs||(Ot&4194048)!==Ot&&En.current!==null||(Na=!0),(Ms&134217727)===0&&(Br&134217727)===0||te===null||Ls(te,Ot,bn,!1)}function ed(e,n,s){var o=Ht;Ht|=2;var h=Vy(),f=My();(te!==e||Ot!==n)&&(nc=null,xa(e,n)),n=!1;var g=fe;t:do try{if(Qt!==0&&Nt!==null){var E=Nt,C=An;switch(Qt){case 8:td(),g=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var z=Qt;if(Qt=0,An=null,Va(e,E,C,z),s&&Na){g=0;break t}break;default:z=Qt,Qt=0,An=null,Va(e,E,C,z)}}j1(),g=fe;break}catch(G){Oy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Bi=xr=null,Ht=o,F.H=h,F.A=f,Nt===null&&(te=null,Ot=0,Su()),g}function j1(){for(;Nt!==null;)Uy(Nt)}function B1(e,n){var s=Ht;Ht|=2;var o=Vy(),h=My();te!==e||Ot!==n?(nc=null,ec=nn()+500,xa(e,n)):Na=Qn(e,n);t:do try{if(Qt!==0&&Nt!==null){n=Nt;var f=An;e:switch(Qt){case 1:Qt=0,An=null,Va(e,n,f,1);break;case 2:case 9:if(Gg(f)){Qt=0,An=null,ky(n);break}n=function(){Qt!==2&&Qt!==9||te!==e||(Qt=7),wi(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Gg(f)?(Qt=0,An=null,ky(n)):(Qt=0,An=null,Va(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var E=Nt;if(g?T_(g):E.stateNode.complete){Qt=0,An=null;var C=E.sibling;if(C!==null)Nt=C;else{var z=E.return;z!==null?(Nt=z,rc(z)):Nt=null}break e}}Qt=0,An=null,Va(e,n,f,5);break;case 6:Qt=0,An=null,Va(e,n,f,6);break;case 8:td(),fe=6;break t;default:throw Error(a(462))}}q1();break}catch(G){Oy(e,G)}while(!0);return Bi=xr=null,F.H=o,F.A=h,Ht=s,Nt!==null?0:(te=null,Ot=0,Su(),fe)}function q1(){for(;Nt!==null&&!Dh();)Uy(Nt)}function Uy(e){var n=ry(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,n===null?rc(e):Nt=n}function ky(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Wp(s,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Wp(s,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:pf(n);default:oy(s,n),n=Nt=Mg(n,Zi),n=ry(s,n,Zi)}e.memoizedProps=e.pendingProps,n===null?rc(e):Nt=n}function Va(e,n,s,o){Bi=xr=null,pf(n),Aa=null,Bo=0;var h=n.return;try{if(D1(e,h,n,s,Ot)){fe=1,Qu(e,Vn(s,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;fe=1,Qu(e,Vn(s,e.current)),Nt=null;return}n.flags&32768?(Lt||o===1?e=!0:Na||(Ot&536870912)!==0?e=!1:(Vs=e=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ly(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Ly(n,Vs);return}e=n.return;var s=V1(n.alternate,n,Zi);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);fe===0&&(fe=5)}function Ly(e,n){do{var s=M1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);fe=6,Nt=null}function Py(e,n,s,o,h,f,g,E,C){e.cancelPendingCommit=null;do ac();while(Me!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Vh(e,s,f,g,E,C),e===te&&(Nt=te=null,Ot=0),Oa=n,ks=e,Ji=s,Zf=f,Jf=h,Cy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Q1(ds,function(){return Hy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,g=Ht,Ht|=4;try{U1(e,n,s)}finally{Ht=g,nt.p=h,F.T=o}}Me=1,zy(),jy(),By()}}function zy(){if(Me===1){Me=0;var e=ks,n=Oa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Ht;Ht|=4;try{vy(n,e);var f=dd,g=wg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Sg(E.ownerDocument.documentElement,E)){if(C!==null&&Lh(E)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var H=j.getSelection(),ut=E.textContent.length,pt=Math.min(C.start,ut),Zt=C.end===void 0?pt:Math.min(C.end,ut);!H.extend&&pt>Zt&&(g=Zt,Zt=pt,pt=g);var M=bg(E,pt),D=bg(E,Zt);if(M&&D&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=X.createRange();P.setStart(M.node,M.offset),H.removeAllRanges(),pt>Zt?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}_c=!!fd,dd=fd=null}finally{Ht=h,nt.p=o,F.T=s}}e.current=n,Me=2}}function jy(){if(Me===2){Me=0;var e=ks,n=Oa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Ht;Ht|=4;try{my(e,n.alternate,n)}finally{Ht=h,nt.p=o,F.T=s}}Me=3}}function By(){if(Me===4||Me===3){Me=0,$l();var e=ks,n=Oa,s=Ji,o=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,Oa=ks=null,qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Us=null),Ui(s),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,nt.p=h}}(Ji&3)!==0&&ac(),wi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Wf?sl++:(sl=0,Wf=e):sl=0,rl(0)}}function qy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function ac(){return zy(),jy(),By(),Hy()}function Hy(){if(Me!==5)return!1;var e=ks,n=Zf;Zf=0;var s=Ui(Ji),o=F.T,h=nt.p;try{nt.p=32>s?32:s,F.T=null,s=Jf,Jf=null;var f=ks,g=Ji;if(Me=0,Oa=ks=null,Ji=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Sy(f.current),Ty(f,f.current,g,s),Ht=E,rl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Gn,f)}catch{}return!0}finally{nt.p=h,F.T=o,qy(e,n)}}function Fy(e,n,s){n=Vn(s,n),n=Of(e.stateNode,n,2),e=Ns(e,n,2),e!==null&&(gr(e,2),wi(e))}function Yt(e,n,s){if(e.tag===3)Fy(e,e,s);else for(;n!==null;){if(n.tag===3){Fy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Us===null||!Us.has(o))){e=Vn(s,e),s=Gp(2),o=Ns(n,s,2),o!==null&&(Qp(s,o,n,e),gr(o,2),wi(o));break}}n=n.return}}function nd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new P1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Kf=!0,h.add(s),e=H1.bind(null,e,n,s),n.then(e,e))}function H1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Ot&s)===s&&(fe===4||fe===3&&(Ot&62914560)===Ot&&300>nn()-tc?(Ht&2)===0&&xa(e,0):Xf|=s,Da===Ot&&(Da=0)),wi(e)}function Gy(e,n){n===0&&(n=nu()),e=Nr(e,n),e!==null&&(gr(e,n),wi(e))}function F1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Gy(e,s)}function G1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Gy(e,s)}function Q1(e,n){return Ve(e,n)}var oc=null,Ma=null,id=!1,lc=!1,sd=!1,Ps=0;function wi(e){e!==Ma&&e.next===null&&(Ma===null?oc=Ma=e:Ma=Ma.next=e),lc=!0,id||(id=!0,K1())}function rl(e,n){if(!sd&&lc){sd=!0;do for(var s=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ge(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Xy(o,f))}else f=Ot,f=oi(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Qn(o,f)||(s=!0,Xy(o,f));o=o.next}while(s);sd=!1}}function Y1(){Qy()}function Qy(){lc=id=!1;var e=0;Ps!==0&&sA()&&(e=Ps);for(var n=nn(),s=null,o=oc;o!==null;){var h=o.next,f=Yy(o,n);f===0?(o.next=null,s===null?oc=h:s.next=h,h===null&&(Ma=s)):(s=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}Me!==0&&Me!==5||rl(e),Ps!==0&&(Ps=0)}function Yy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ge(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=xh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=Ot,s=oi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&fs(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Qn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&fs(o),Ui(s)){case 2:case 8:s=go;break;case 32:s=ds;break;case 268435456:s=Zl;break;default:s=ds}return o=Ky.bind(null,e),s=Ve(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&fs(o),e.callbackPriority=2,e.callbackNode=null,2}function Ky(e,n){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ac()&&e.callbackNode!==s)return null;var o=Ot;return o=oi(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ny(e,o,n),Yy(e,nn()),e.callbackNode!=null&&e.callbackNode===s?Ky.bind(null,e):null)}function Xy(e,n){if(ac())return null;Ny(e,n,!0)}function K1(){aA(function(){(Ht&6)!==0?Ve(mo,Y1):Qy()})}function rd(){if(Ps===0){var e=va;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Ps=e}return Ps}function $y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function Zy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function X1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=$y((h[ke]||null).action),g=o.submitter;g&&(n=(n=g[ke]||null)?$y(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new _i("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ps!==0){var C=g?Zy(h,g):new FormData(h);wf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Zy(h,g):new FormData(h),wf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var od=Bh[ad],$1=od.toLowerCase(),Z1=od[0].toUpperCase()+od.slice(1);ti($1,"on"+Z1)}ti(Ig,"onAnimationEnd"),ti(Ng,"onAnimationIteration"),ti(Dg,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(d1,"onTransitionRun"),ti(m1,"onTransitionStart"),ti(g1,"onTransitionCancel"),ti(Og,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Jy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){bu(G)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){bu(G)}h.currentTarget=null,f=C}}}}function Dt(e,n){var s=n[Wr];s===void 0&&(s=n[Wr]=new Set);var o=e+"__bubble";s.has(o)||(Wy(n,e,2,!1),s.add(o))}function ld(e,n,s){var o=0;n&&(o|=4),Wy(s,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function ud(e){if(!e[uc]){e[uc]=!0,_o.forEach(function(s){s!=="selectionchange"&&(J1.has(s)||ld(s,!1,e),ld(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,ld("selectionchange",!1,n))}}function Wy(e,n,s,o){switch(I_(n)){case 2:var h=RA;break;case 8:h=CA;break;default:h=Sd}s=h.bind(null,n,s,e),h=void 0,!Tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function cd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=hi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}vs(function(){var z=f,G=Nn(s),X=[];t:{var j=xg.get(e);if(j!==void 0){var H=_i,ut=e;switch(e){case"keypress":if(br(s)===0)break t;case"keydown":case"keyup":H=Eu;break;case"focusin":ut="focus",H=wr;break;case"focusout":ut="blur",H=wr;break;case"beforeblur":case"afterblur":H=wr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ig:case Ng:case Dg:H=du;break;case Og:H=T;break;case"scroll":case"scrollend":H=Do;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Pi;break;case"toggle":case"beforetoggle":H=St}var pt=(n&4)!==0,Zt=!pt&&(e==="scroll"||e==="scrollend"),M=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=z,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||M===null||(Y=$n(D,M),Y!=null&&pt.push(ol(D,Y,P))),Zt)break;D=D.return}0<pt.length&&(j=new H(j,ut,null,s,G),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==Co&&(ut=s.relatedTarget||s.fromElement)&&(hi(ut)||ut[ui]))break t;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ut=s.relatedTarget||s.toElement,H=z,ut=ut?hi(ut):null,ut!==null&&(Zt=c(ut),pt=ut.tag,ut!==Zt||pt!==5&&pt!==27&&pt!==6)&&(ut=null)):(H=null,ut=z),H!==ut)){if(pt=Oo,Y="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Pi,Y="onPointerLeave",M="onPointerEnter",D="pointer"),Zt=H==null?j:pn(H),P=ut==null?j:pn(ut),j=new pt(Y,D+"leave",H,s,G),j.target=Zt,j.relatedTarget=P,Y=null,hi(G)===z&&(pt=new pt(M,D+"enter",ut,s,G),pt.target=P,pt.relatedTarget=Zt,Y=pt),Zt=Y,H&&ut)e:{for(pt=W1,M=H,D=ut,P=0,Y=M;Y;Y=pt(Y))P++;Y=0;for(var ft=D;ft;ft=pt(ft))Y++;for(;0<P-Y;)M=pt(M),P--;for(;0<Y-P;)D=pt(D),Y--;for(;P--;){if(M===D||D!==null&&M===D.alternate){pt=M;break e}M=pt(M),D=pt(D)}pt=null}else pt=null;H!==null&&t_(X,j,H,pt,!1),ut!==null&&Zt!==null&&t_(X,Zt,ut,pt,!0)}}t:{if(j=z?pn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var zt=yg;else if(gg(j))if(_g)zt=c1;else{zt=l1;var ct=o1}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ia(z.elementType)&&(zt=yg):zt=u1;if(zt&&(zt=zt(e,z))){pg(X,zt,s,G);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&So(j,"number",j.value)}switch(ct=z?pn(z):window,e){case"focusin":(gg(ct)||ct.contentEditable==="true")&&(ha=ct,Ph=z,ko=null);break;case"focusout":ko=Ph=ha=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Rg(X,s,G);break;case"selectionchange":if(f1)break;case"keydown":case"keyup":Rg(X,s,G)}var Rt;if(qt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else ca?Rr(e,s)&&(xt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(xt="onCompositionStart");xt&&(Ti&&s.locale!=="ko"&&(ca||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ca&&(Rt=No()):(yi=G,Io="value"in yi?yi.value:yi.textContent,ca=!0)),ct=cc(z,xt),0<ct.length&&(xt=new Ei(xt,e,null,s,G),X.push({event:xt,listeners:ct}),Rt?xt.data=Rt:(Rt=ua(s),Rt!==null&&(xt.data=Rt)))),(Rt=On?i1(e,s):s1(e,s))&&(xt=cc(z,"onBeforeInput"),0<xt.length&&(ct=new Ei("onBeforeInput","beforeinput",null,s,G),X.push({event:ct,listeners:xt}),ct.data=Rt)),X1(X,e,z,s,G)}Jy(X,n)})}function ol(e,n,s){return{instance:e,listener:n,currentTarget:s}}function cc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$n(e,s),h!=null&&o.unshift(ol(e,h,f)),h=$n(e,n),h!=null&&o.push(ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function W1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function t_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=$n(s,f),z!=null&&g.unshift(ol(s,z,C))):h||(z=$n(s,f),z!=null&&g.push(ol(s,z,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var tA=/\r\n?/g,eA=/\u0000|\uFFFD/g;function e_(e){return(typeof e=="string"?e:""+e).replace(tA,`
`).replace(eA,"")}function n_(e,n){return n=e_(n),e_(e)===n}function $t(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ln(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ln(e,""+o);break;case"className":yn(e,"class",o);break;case"tabIndex":yn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,s,o);break;case"style":Ro(e,o,f);break;case"data":if(n!=="object"){yn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=sa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=sa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Xn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=sa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),ea(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ea(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cu.get(s)||s,ea(e,s,o))}}function hd(e,n,s,o,h,f){switch(s){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?ln(e,o):(typeof o=="number"||typeof o=="bigint")&&ln(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ea(e,s,o)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,g,s,null)}}h&&$t(e,n,"srcSet",s.srcSet,s,null),o&&$t(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var E=f=g=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:$t(e,n,o,G,s,null)}}ou(e,f,E,C,z,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:$t(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?gs(e,!!o,n,!1):s!=null&&gs(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,g,E,s,null)}ps(e,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,n,C,o,s,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Dt(al[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,z,o,s,null)}return;default:if(ia(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&hd(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&$t(e,n,E,o,s,null))}function nA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,G=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||$t(e,n,H,null,o,X)}}for(var j in o){var H=o[j];if(X=s[j],o.hasOwnProperty(j)&&(H!=null||X!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&$t(e,n,j,H,o,X)}}na(e,g,E,C,z,G,f,h);return;case"select":H=g=E=j=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&$t(e,n,h,f,o,C)}n=E,s=g,o=H,j!=null?gs(e,!!s,j,!1):!!o!=!!s&&(n!=null?gs(e,!!s,n,!0):gs(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,g,h,o,f)}lu(e,j,H);return;case"option":for(var ut in s)j=s[ut],s.hasOwnProperty(ut)&&j!=null&&!o.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:$t(e,n,ut,null,o,j));for(C in o)j=o[C],H=s[C],o.hasOwnProperty(C)&&j!==H&&(j!=null||H!=null)&&(C==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":$t(e,n,C,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)j=s[pt],s.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&$t(e,n,pt,null,o,j);for(z in o)if(j=o[z],H=s[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:$t(e,n,z,j,o,H)}return;default:if(ia(n)){for(var Zt in s)j=s[Zt],s.hasOwnProperty(Zt)&&j!==void 0&&!o.hasOwnProperty(Zt)&&hd(e,n,Zt,void 0,o,j);for(G in o)j=o[G],H=s[G],!o.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||hd(e,n,G,j,o,H);return}}for(var M in s)j=s[M],s.hasOwnProperty(M)&&j!=null&&!o.hasOwnProperty(M)&&$t(e,n,M,null,o,j);for(X in o)j=o[X],H=s[X],!o.hasOwnProperty(X)||j===H||j==null&&H==null||$t(e,n,X,j,o,H)}function i_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&i_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>E)break;var G=C.transferSize,X=C.initiatorType;G&&i_(X)&&(C=C.responseEnd,g+=G*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fd=null,dd=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function s_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function md(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function sA(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,rA=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,aA=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(e){return o_.resolve(null).then(e).catch(oA)}:a_;function oA(e){setTimeout(function(){throw e})}function zs(e){return e==="head"}function l_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Pa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ll(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ll(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ll(e.ownerDocument.body);s=h}while(s);Pa(n)}function u_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function pd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pd(s),ta(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function lA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function uA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Pn(e.nextSibling),e===null))return null;return e}function c_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$?"||e.data==="$~"}function _d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function cA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var vd=null;function h_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Pn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function f_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function d_(e,n,s){switch(n=hc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ta(e)}var zn=new Map,m_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=nt.d;nt.d={f:hA,r:fA,D:dA,C:mA,L:gA,m:pA,X:_A,S:yA,M:vA};function hA(){var e=Wi.f(),n=ic();return e||n}function fA(e){var n=In(e);n!==null&&n.tag===5&&n.type==="form"?Op(n):Wi.r(e)}var Ua=typeof document>"u"?null:document;function g_(e,n,s){var o=Ua;if(o&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),m_.has(h)||(m_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),be(n),o.head.appendChild(n)))}}function dA(e){Wi.D(e),g_("dns-prefetch",e,null)}function mA(e,n){Wi.C(e,n),g_("preconnect",e,n)}function gA(e,n,s){Wi.L(e,n,s);var o=Ua;if(o&&e&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+on(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+on(s.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=La(e)}zn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),zn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),Ge(n,"link",e),be(n),o.head.appendChild(n)))}}function pA(e,n){Wi.m(e,n);var s=Ua;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(e)}if(!zn.has(f)&&(e=b({rel:"modulepreload",href:e},n),zn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cl(f)))return}o=s.createElement("link"),Ge(o,"link",e),be(o),s.head.appendChild(o)}}}function yA(e,n,s){Wi.S(e,n,s);var o=Ua;if(o&&e){var h=fi(o).hoistableStyles,f=ka(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ul(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=zn.get(f))&&Ed(e,s);var C=g=o.createElement("link");be(C),Ge(C,"link",e),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function _A(e,n){Wi.X(e,n);var s=Ua;if(s&&e){var o=fi(s).hoistableScripts,h=La(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=b({src:e,async:!0},n),(n=zn.get(h))&&Td(e,n),f=s.createElement("script"),be(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function vA(e,n){Wi.M(e,n);var s=Ua;if(s&&e){var o=fi(s).hoistableScripts,h=La(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=zn.get(h))&&Td(e,n),f=s.createElement("script"),be(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function p_(e,n,s,o){var h=(h=st.current)?fc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ka(s.href),s=fi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ka(s.href);var f=fi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ul(e)))&&!f._p&&(g.instance=f,g.state.loading=5),zn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(e,s),f||EA(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(s),s=fi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ka(e){return'href="'+on(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function EA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",s),be(n),e.head.appendChild(n))}function La(e){return'[src="'+on(e)+'"]'}function cl(e){return"script[async]"+e}function __(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+on(s.href)+'"]');if(o)return n.instance=o,be(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),be(o),Ge(o,"style",h),dc(o,s.precedence,e),n.instance=o;case"stylesheet":h=ka(s.href);var f=e.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,be(f),f;o=y_(s),(h=zn.get(h))&&Ed(o,h),f=(e.ownerDocument||e).createElement("link"),be(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ge(f,"link",o),n.state.loading|=4,dc(f,s.precedence,e),n.instance=f;case"script":return f=La(s.src),(h=e.querySelector(cl(f)))?(n.instance=h,be(h),h):(o=s,(h=zn.get(f))&&(o=b({},s),Td(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),be(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,s.precedence,e));return n.instance}function dc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function v_(e,n,s){if(mc===null){var o=new Map,h=mc=new Map;h.set(s,o)}else h=mc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ci]||f[Ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function E_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function TA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function AA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ka(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,be(f);return}f=n.ownerDocument||n,o=y_(o),(h=zn.get(h))&&Ed(o,h),f=f.createElement("link"),be(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ge(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=gc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function bA(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*iA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(SA,e),pc=null,gc.call(e))}function SA(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var o=s.get(null);else{s=new Map,pc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var hl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function wA(e,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function A_(e,n,s,o,h,f,g,E,C,z,G,X){return e=new wA(e,n,s,g,C,z,G,X,E),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),e.current=f,f.stateNode=e,n=tf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},rf(f),e}function b_(e){return e?(e=ma,e):ma}function S_(e,n,s,o,h,f){h=b_(h),o.context===null?o.context=h:o.pendingContext=h,o=Is(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ns(e,o,n),s!==null&&(dn(s,e,n),Ho(s,e,n))}function w_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function bd(e,n){w_(e,n),(e=e.alternate)&&w_(e,n)}function R_(e){if(e.tag===13||e.tag===31){var n=Nr(e,67108864);n!==null&&dn(n,e,67108864),bd(e,67108864)}}function C_(e){if(e.tag===13||e.tag===31){var n=Sn();n=yr(n);var s=Nr(e,n);s!==null&&dn(s,e,n),bd(e,n)}}var _c=!0;function RA(e,n,s,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,Sd(e,n,s,o)}finally{nt.p=f,F.T=h}}function CA(e,n,s,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,Sd(e,n,s,o)}finally{nt.p=f,F.T=h}}function Sd(e,n,s,o){if(_c){var h=wd(o);if(h===null)cd(e,n,o,vc,s),N_(e,o);else if(NA(h,e,n,s,o))o.stopPropagation();else if(N_(e,o),n&4&&-1<IA.indexOf(e)){for(;h!==null;){var f=In(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ai(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-ge(g);E.entanglements[1]|=C,g&=~C}wi(f),(Ht&6)===0&&(ec=nn()+500,rl(0))}}break;case 31:case 13:E=Nr(f,2),E!==null&&dn(E,f,2),ic(),bd(f,2)}if(f=wd(o),f===null&&cd(e,n,o,vc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else cd(e,n,o,null,s)}}function wd(e){return e=Nn(e),Rd(e)}var vc=null;function Rd(e){if(vc=null,e=hi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function I_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case mo:return 2;case go:return 8;case ds:case Oh:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var Cd=!1,js=null,Bs=null,qs=null,fl=new Map,dl=new Map,Hs=[],IA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(e,n){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=In(n),n!==null&&R_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function NA(e,n,s,o,h){switch(n){case"focusin":return js=ml(js,e,n,s,o,h),!0;case"dragenter":return Bs=ml(Bs,e,n,s,o,h),!0;case"mouseover":return qs=ml(qs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,n,s,o,h)),!0}return!1}function D_(e){var n=hi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){C_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){C_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=wd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Co=o,s.target.dispatchEvent(o),Co=null}else return n=In(s),n!==null&&R_(n),e.blockedOn=s,!1;n.shift()}return!0}function O_(e,n,s){Ec(e)&&s.delete(n)}function DA(){Cd=!1,js!==null&&Ec(js)&&(js=null),Bs!==null&&Ec(Bs)&&(Bs=null),qs!==null&&Ec(qs)&&(qs=null),fl.forEach(O_),dl.forEach(O_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,DA)))}var Ac=null;function x_(e){Ac!==e&&(Ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Rd(o||s)===null)continue;break}var f=In(s);f!==null&&(e.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Pa(e){function n(C){return Tc(C,e)}js!==null&&Tc(js,e),Bs!==null&&Tc(Bs,e),qs!==null&&Tc(qs,e),fl.forEach(n),dl.forEach(n);for(var s=0;s<Hs.length;s++){var o=Hs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Hs.length&&(s=Hs[0],s.blockedOn===null);)D_(s),s.blockedOn===null&&Hs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[ke]||null;if(typeof f=="function")g||x_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ke]||null)E=g.formAction;else if(Rd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),x_(s)}}}function V_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(e){this._internalRoot=e}bc.prototype.render=Id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Sn();S_(s,o,e,n,null,null)},bc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;S_(e.current,2,null,e,null,null),ic(),n[ui]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Hs.length&&n!==0&&n<Hs[s].priority;s++);Hs.splice(s,0,e),s===0&&D_(e)}};var M_=t.version;if(M_!=="19.2.3")throw Error(a(527,M_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var OA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Gn=Sc.inject(OA),je=Sc}catch{}}return pl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Bp,f=qp,g=Hp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=A_(e,1,!1,null,null,s,o,null,h,f,g,V_),e[ui]=n.current,ud(e),new Id(n)},pl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Bp,g=qp,E=Hp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=A_(e,1,!0,n,s??null,o,h,C,f,g,E,V_),n.context=b_(null),s=n.current,o=Sn(),o=yr(o),h=Is(o),h.callback=null,Ns(s,h,o),s=o,n.current.lanes=s,gr(n,s),wi(n),e[ui]=n.current,ud(e),new bc(n)},pl.version="19.2.3",pl}var F_;function BA(){if(F_)return Od.exports;F_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=jA(),Od.exports}var qA=BA();const HA=()=>{};var G_={};const D0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},FA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},O0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let x=(p&15)<<2|_>>6,Q=_&63;y||(Q=64,d||(x=64)),a.push(i[A],i[b],i[x],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(D0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):FA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||b==null)throw new GA;const x=c<<2|p>>4;if(a.push(x),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),b!==64){const J=_<<6&192|b;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class GA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QA=function(r){const t=D0(r);return O0.encodeByteArray(t,!0)},Hc=function(r){return QA(r).replace(/\./g,"")},x0=function(r){try{return O0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function YA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const KA=()=>YA().__FIREBASE_DEFAULTS__,XA=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$A=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&x0(r[1]);return t&&JSON.parse(t)},lh=()=>{try{return HA()||KA()||XA()||$A()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},V0=r=>lh()?.emulatorHosts?.[r],ZA=r=>{const t=V0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},M0=()=>lh()?.config,U0=r=>lh()?.[`_${r}`];class JA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function io(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k0(r){return(await fetch(r,{credentials:"include"})).ok}function WA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Tl={};function tb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?r.emulator.push(t):r.prod.push(t);return r}function eb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let Q_=!1;function L0(r,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Tl[r]===t||Tl[r]||Q_)return;Tl[r]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=tb().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,Q){x.setAttribute("width","24"),x.setAttribute("id",Q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Q_=!0,d()},x}function A(x,Q){x.setAttribute("id",Q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=eb(a),Q=i("text"),J=document.getElementById(Q)||document.createElement("span"),it=i("learnmore"),W=document.getElementById(it)||document.createElement("a"),mt=i("preprendIcon"),Tt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const gt=x.element;p(gt),A(W,it);const It=_();y(Tt,mt),gt.append(Tt,J,W,It),document.body.appendChild(gt)}c?(J.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function ib(){const r=lh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ab(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ob(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lb(){return!ib()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ub(){try{return typeof indexedDB=="object"}catch{return!1}}function cb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const hb="FirebaseError";class hs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=hb,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?fb(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new hs(l,p,a)}}function fb(r,t){return r.replace(db,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const db=/\{\$([^}]+)}/g;function mb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Gr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(Y_(c)&&Y_(d)){if(!Gr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Y_(r){return r!==null&&typeof r=="object"}function Ll(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function gb(r,t){const i=new pb(r,t);return i.subscribe.bind(i)}class pb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");yb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function Ke(r){return r&&r._delegate?r._delegate:r}class Qr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class _b{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new JA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Eb(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vb(r){return r===qr?void 0:r}function Eb(r){return r.instantiationMode==="EAGER"}class Tb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new _b(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const Ab={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},bb=Vt.INFO,Sb={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},wb=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=Sb[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=bb,this._logHandler=wb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ab[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const Rb=(r,t)=>t.some(i=>r instanceof i);let K_,X_;function Cb(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ib(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P0=new WeakMap,Zd=new WeakMap,z0=new WeakMap,kd=new WeakMap,Rm=new WeakMap;function Nb(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Zs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&P0.set(i,r)}).catch(()=>{}),Rm.set(t,r),t}function Db(r){if(Zd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Zd.set(r,t)}let Jd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Zd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||z0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Ob(r){Jd=r(Jd)}function xb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ld(this),t,...i);return z0.set(a,t.sort?t.sort():[t]),Zs(a)}:Ib().includes(r)?function(...t){return r.apply(Ld(this),t),Zs(P0.get(this))}:function(...t){return Zs(r.apply(Ld(this),t))}}function Vb(r){return typeof r=="function"?xb(r):(r instanceof IDBTransaction&&Db(r),Rb(r,Cb())?new Proxy(r,Jd):r)}function Zs(r){if(r instanceof IDBRequest)return Nb(r);if(kd.has(r))return kd.get(r);const t=Vb(r);return t!==r&&(kd.set(r,t),Rm.set(t,r)),t}const Ld=r=>Rm.get(r);function Mb(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Zs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Zs(d.result),y.oldVersion,y.newVersion,Zs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Ub=["get","getKey","getAll","getAllKeys","count"],kb=["put","add","delete","clear"],Pd=new Map;function $_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=kb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Ub.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Pd.set(t,c),c}Ob(r=>({...r,get:(t,i,a)=>$_(t,i)||r.get(t,i,a),has:(t,i)=>!!$_(t,i)||r.has(t,i)}));class Lb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Pb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Pb(r){return r.getComponent()?.type==="VERSION"}const Wd="@firebase/app",Z_="0.14.6";const rs=new wm("@firebase/app"),zb="@firebase/app-compat",jb="@firebase/analytics-compat",Bb="@firebase/analytics",qb="@firebase/app-check-compat",Hb="@firebase/app-check",Fb="@firebase/auth",Gb="@firebase/auth-compat",Qb="@firebase/database",Yb="@firebase/data-connect",Kb="@firebase/database-compat",Xb="@firebase/functions",$b="@firebase/functions-compat",Zb="@firebase/installations",Jb="@firebase/installations-compat",Wb="@firebase/messaging",tS="@firebase/messaging-compat",eS="@firebase/performance",nS="@firebase/performance-compat",iS="@firebase/remote-config",sS="@firebase/remote-config-compat",rS="@firebase/storage",aS="@firebase/storage-compat",oS="@firebase/firestore",lS="@firebase/ai",uS="@firebase/firestore-compat",cS="firebase",hS="12.6.0";const tm="[DEFAULT]",fS={[Wd]:"fire-core",[zb]:"fire-core-compat",[Bb]:"fire-analytics",[jb]:"fire-analytics-compat",[Hb]:"fire-app-check",[qb]:"fire-app-check-compat",[Fb]:"fire-auth",[Gb]:"fire-auth-compat",[Qb]:"fire-rtdb",[Yb]:"fire-data-connect",[Kb]:"fire-rtdb-compat",[Xb]:"fire-fn",[$b]:"fire-fn-compat",[Zb]:"fire-iid",[Jb]:"fire-iid-compat",[Wb]:"fire-fcm",[tS]:"fire-fcm-compat",[eS]:"fire-perf",[nS]:"fire-perf-compat",[iS]:"fire-rc",[sS]:"fire-rc-compat",[rS]:"fire-gcs",[aS]:"fire-gcs-compat",[oS]:"fire-fst",[uS]:"fire-fst-compat",[lS]:"fire-vertex","fire-js":"fire-js",[cS]:"fire-js-all"};const Fc=new Map,dS=new Map,em=new Map;function J_(r,t){try{r.container.addComponent(t)}catch(i){rs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function $a(r){const t=r.name;if(em.has(t))return rs.debug(`There were multiple attempts to register component ${t}.`),!1;em.set(t,r);for(const i of Fc.values())J_(i,r);for(const i of dS.values())J_(i,r);return!0}function Cm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function jn(r){return r==null?!1:r.settings!==void 0}const mS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new kl("app","Firebase",mS);class gS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}const so=hS;function j0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:tm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Js.create("bad-app-name",{appName:String(l)});if(i||(i=M0()),!i)throw Js.create("no-options");const c=Fc.get(l);if(c){if(Gr(i,c.options)&&Gr(a,c.config))return c;throw Js.create("duplicate-app",{appName:l})}const d=new Tb(l);for(const y of em.values())d.addComponent(y);const p=new gS(i,a,d);return Fc.set(l,p),p}function B0(r=tm){const t=Fc.get(r);if(!t&&r===tm&&M0())return j0();if(!t)throw Js.create("no-app",{appName:r});return t}function Ws(r,t,i){let a=fS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rs.warn(d.join(" "));return}$a(new Qr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const pS="firebase-heartbeat-database",yS=1,Cl="firebase-heartbeat-store";let zd=null;function q0(){return zd||(zd=Mb(pS,yS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Js.create("idb-open",{originalErrorMessage:r.message})})),zd}async function _S(r){try{const i=(await q0()).transaction(Cl),a=await i.objectStore(Cl).get(H0(r));return await i.done,a}catch(t){if(t instanceof hs)rs.warn(t.message);else{const i=Js.create("idb-get",{originalErrorMessage:t?.message});rs.warn(i.message)}}}async function W_(r,t){try{const a=(await q0()).transaction(Cl,"readwrite");await a.objectStore(Cl).put(t,H0(r)),await a.done}catch(i){if(i instanceof hs)rs.warn(i.message);else{const a=Js.create("idb-set",{originalErrorMessage:i?.message});rs.warn(a.message)}}}function H0(r){return`${r.name}!${r.options.appId}`}const vS=1024,ES=30;class TS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new bS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ES){const l=SS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tv(),{heartbeatsToSend:i,unsentEntries:a}=AS(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return rs.warn(t),""}}}function tv(){return new Date().toISOString().substring(0,10)}function AS(r,t=vS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),ev(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),ev(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class bS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ub()?cb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _S(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function ev(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function SS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function wS(r){$a(new Qr("platform-logger",t=>new Lb(t),"PRIVATE")),$a(new Qr("heartbeat",t=>new TS(t),"PRIVATE")),Ws(Wd,Z_,r),Ws(Wd,Z_,"esm2020"),Ws("fire-js","")}wS("");var RS="firebase",CS="12.7.0";Ws(RS,CS,"app");function F0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IS=F0,G0=new kl("auth","Firebase",F0());const Gc=new wm("@firebase/auth");function NS(r,...t){Gc.logLevel<=Vt.WARN&&Gc.warn(`Auth (${so}): ${r}`,...t)}function Vc(r,...t){Gc.logLevel<=Vt.ERROR&&Gc.error(`Auth (${so}): ${r}`,...t)}function as(r,...t){throw Im(r,...t)}function Ci(r,...t){return Im(r,...t)}function Q0(r,t,i){const a={...IS(),[t]:i};return new kl("auth","Firebase",a).create(t,{appName:r.name})}function ss(r){return Q0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return G0.create(r,...t)}function vt(r,t,...i){if(!r)throw Im(t,...i)}function ns(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Vc(t),new Error(t)}function os(r,t){r||ns(t)}function nm(){return typeof self<"u"&&self.location?.href||""}function DS(){return nv()==="http:"||nv()==="https:"}function nv(){return typeof self<"u"&&self.location?.protocol||null}function OS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DS()||rb()||"connection"in navigator)?navigator.onLine:!0}function xS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Pl{constructor(t,i){this.shortDelay=t,this.longDelay=i,os(i>t,"Short delay should be less than long delay!"),this.isMobile=nb()||ab()}get(){return OS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nm(r,t){os(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Y0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const MS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],US=new Pl(3e4,6e4);function zl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ro(r,t,i,a,l={}){return K0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ll({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return sb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&io(r.emulatorConfig.host)&&(_.credentials="include"),Y0.fetch()(await X0(r,r.config.apiHost,i,p),_)})}async function K0(r,t,i){r._canInitEmulator=!1;const a={...VS,...t};try{const l=new kS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw wc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw wc(r,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Q0(r,A,_);as(r,A)}}catch(l){if(l instanceof hs)throw l;as(r,"network-request-failed",{message:String(l)})}}async function Dm(r,t,i,a,l={}){const c=await ro(r,t,i,a,l);return"mfaPendingCredential"in c&&as(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function X0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Nm(r.config,l):`${r.config.apiScheme}://${l}`;return MS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class kS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ci(this.auth,"network-request-failed")),US.get())})}}function wc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ci(r,t,a);return l.customData._tokenResponse=i,l}async function LS(r,t){return ro(r,"POST","/v1/accounts:delete",t)}async function Qc(r,t){return ro(r,"POST","/v1/accounts:lookup",t)}function Al(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PS(r,t=!1){const i=Ke(r),a=await i.getIdToken(t),l=Om(a);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Al(jd(l.auth_time)),issuedAtTime:Al(jd(l.iat)),expirationTime:Al(jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jd(r){return Number(r)*1e3}function Om(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=x0(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function iv(r){const t=Om(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Il(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof hs&&zS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function zS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class jS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class im{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(r){const t=r.auth,i=await r.getIdToken(),a=await Il(r,Qc(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?$0(l.providerUserInfo):[],d=qS(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function BS(r){const t=Ke(r);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function qS(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function $0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function HS(r,t){const i=await K0(r,{},async()=>{const a=Ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await X0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&io(r.emulatorConfig.host)&&(y.credentials="include"),Y0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function FS(r,t){return ro(r,"POST","/v2/accounts:revokeToken",zl(r,t))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):iv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=iv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await HS(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ga;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return ns("not implemented")}}function Gs(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ii{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new jS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new im(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Il(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return PS(this,t)}reload(){return BS(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ii({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(ss(this.auth));const t=await this.getIdToken();return await Il(this,LS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:Q,providerData:J,stsTokenManager:it}=i;vt(b&&it,t,"internal-error");const W=Ga.fromJSON(this.name,it);vt(typeof b=="string",t,"internal-error"),Gs(a,t.name),Gs(l,t.name),vt(typeof x=="boolean",t,"internal-error"),vt(typeof Q=="boolean",t,"internal-error"),Gs(c,t.name),Gs(d,t.name),Gs(p,t.name),Gs(y,t.name),Gs(_,t.name),Gs(A,t.name);const mt=new ii({uid:b,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:A});return J&&Array.isArray(J)&&(mt.providerData=J.map(Tt=>({...Tt}))),y&&(mt._redirectEventId=y),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ga;l.updateFromServerResponse(i);const c=new ii({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Yc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?$0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ga;p.updateFromIdToken(a);const y=new ii({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const sv=new Map;function is(r){os(r instanceof Function,"Expected a class definition");let t=sv.get(r);return t?(os(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,sv.set(r,t),t)}class Z0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Z0.type="NONE";const rv=Z0;function Mc(r,t,i){return`firebase:${r}:${t}:${i}`}class Qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?ii._fromGetAccountInfoResponse(this.auth,i,t):null}return ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Qa(is(rv),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||is(rv);const d=Mc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const x=await Qc(t,{idToken:A}).catch(()=>{});if(!x)break;b=await ii._fromGetAccountInfoResponse(t,x,A)}else b=ii._fromJSON(t,A);_!==c&&(p=b),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Qa(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Qa(c,t,a))}}function av(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(J0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(iE(t))return"Blackberry";if(sE(t))return"Webos";if(W0(t))return"Safari";if((t.includes("chrome/")||tE(t))&&!t.includes("edge/"))return"Chrome";if(nE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function J0(r=en()){return/firefox\//i.test(r)}function W0(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tE(r=en()){return/crios\//i.test(r)}function eE(r=en()){return/iemobile/i.test(r)}function nE(r=en()){return/android/i.test(r)}function iE(r=en()){return/blackberry/i.test(r)}function sE(r=en()){return/webos/i.test(r)}function xm(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function GS(r=en()){return xm(r)&&!!window.navigator?.standalone}function QS(){return ob()&&document.documentMode===10}function rE(r=en()){return xm(r)||nE(r)||sE(r)||iE(r)||/windows phone/i.test(r)||eE(r)}function aE(r,t=[]){let i;switch(r){case"Browser":i=av(en());break;case"Worker":i=`${av(en())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${so}/${a}`}class YS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function KS(r,t={}){return ro(r,"GET","/v2/passwordPolicy",zl(r,t))}const XS=6;class $S{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??XS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class ZS{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ov(this),this.idTokenSubscription=new ov(this),this.beforeStateQueue=new YS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=is(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),a=await ii._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(jn(this.app))return Promise.reject(ss(this));const i=t?Ke(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return jn(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await KS(this),i=new $S(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new kl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await FS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&is(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&NS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function jl(r){return Ke(r)}class ov{constructor(t){this.auth=t,this.observer=null,this.addObserver=gb(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JS(r){Vm=r}function WS(r){return Vm.loadJS(r)}function tw(){return Vm.gapiScript}function ew(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function nw(r,t){const i=Cm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Gr(c,t??{}))return l;as(l,"already-initialized")}return i.initialize({options:t})}function iw(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(is);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function sw(r,t,i){const a=jl(r);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=oE(t),{host:d,port:p}=rw(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(Gr(_,a.config.emulator)&&Gr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,io(d)?(k0(`${c}//${d}${y}`),L0("Auth",!0)):aw()}function oE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function rw(r){const t=oE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:lv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:lv(d)}}}function lv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function aw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class lE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ns("not implemented")}_getIdTokenResponse(t){return ns("not implemented")}_linkToIdToken(t,i){return ns("not implemented")}_getReauthenticationResolver(t){return ns("not implemented")}}async function Ya(r,t){return Dm(r,"POST","/v1/accounts:signInWithIdp",zl(r,t))}const ow="http://localhost";class Yr extends lE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Yr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):as("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Yr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ya(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:ow,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ll(i)}return t}}class uE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Bl extends uE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qs extends Bl{constructor(){super("facebook.com")}static credential(t){return Yr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class Ys extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Yr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ys.credential(i,a)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";class Ks extends Bl{constructor(){super("github.com")}static credential(t){return Yr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";class Xs extends Bl{constructor(){super("twitter.com")}static credential(t,i){return Yr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Xs.credential(i,a)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";async function lw(r,t){return Dm(r,"POST","/v1/accounts:signUp",zl(r,t))}class ls{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ii._fromIdTokenResponse(t,a,l),d=uv(a);return new ls({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=uv(a);return new ls({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function uv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function uw(r){if(jn(r.app))return Promise.reject(ss(r));const t=jl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ls({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await lw(t,{returnSecureToken:!0}),a=await ls._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Kc extends hs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Kc(t,i,a,l)}}function cE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,t,a):c})}async function cw(r,t,i=!1){const a=await Il(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ls._forOperation(r,"link",a)}async function hw(r,t,i=!1){const{auth:a}=r;if(jn(a.app))return Promise.reject(ss(a));const l="reauthenticate";try{const c=await Il(r,cE(a,l,t,r),i);vt(c.idToken,a,"internal-error");const d=Om(c.idToken);vt(d,a,"internal-error");const{sub:p}=d;return vt(r.uid===p,a,"user-mismatch"),ls._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&as(a,"user-mismatch"),c}}async function fw(r,t,i=!1){if(jn(r.app))return Promise.reject(ss(r));const a="signIn",l=await cE(r,a,t),c=await ls._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function dw(r,t){return Dm(r,"POST","/v1/accounts:signInWithCustomToken",zl(r,t))}async function mw(r,t){if(jn(r.app))return Promise.reject(ss(r));const i=jl(r),a=await dw(i,{token:t,returnSecureToken:!0}),l=await ls._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function gw(r,t,i,a){return Ke(r).onIdTokenChanged(t,i,a)}function pw(r,t,i){return Ke(r).beforeAuthStateChanged(t,i)}function yw(r,t,i,a){return Ke(r).onAuthStateChanged(t,i,a)}const Xc="__sak";class hE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const _w=1e3,vw=10;class fE extends hE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);QS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,vw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},_w)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}fE.type="LOCAL";const Ew=fE;class dE extends hE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}dE.type="SESSION";const mE=dE;function Tw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class uh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new uh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await Tw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];function Mm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class Aw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Mm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ii(){return window}function bw(r){Ii().location.href=r}function gE(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function Sw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ww(){return navigator?.serviceWorker?.controller||null}function Rw(){return gE()?self:null}const pE="firebaseLocalStorageDb",Cw=1,$c="firebaseLocalStorage",yE="fbase_key";class ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ch(r,t){return r.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function Iw(){const r=indexedDB.deleteDatabase(pE);return new ql(r).toPromise()}function sm(){const r=indexedDB.open(pE,Cw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($c,{keyPath:yE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($c)?t(a):(a.close(),await Iw(),t(await sm()))})})}async function cv(r,t,i){const a=ch(r,!0).put({[yE]:t,value:i});return new ql(a).toPromise()}async function Nw(r,t){const i=ch(r,!1).get(t),a=await new ql(i).toPromise();return a===void 0?null:a.value}function hv(r,t){const i=ch(r,!0).delete(t);return new ql(i).toPromise()}const Dw=800,Ow=3;class _E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Ow)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(Rw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Sw(),!this.activeServiceWorker)return;this.sender=new Aw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ww()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sm();return await cv(t,Xc,"1"),await hv(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>cv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Nw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>hv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ch(l,!1).getAll();return new ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_E.type="LOCAL";const xw=_E;new Pl(3e4,6e4);function Vw(r,t){return t?is(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Um extends lE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Mw(r){return fw(r.auth,new Um(r),r.bypassAuthState)}function Uw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),hw(i,new Um(r),r.bypassAuthState)}async function kw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),cw(i,new Um(r),r.bypassAuthState)}class vE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Mw;case"linkViaPopup":case"linkViaRedirect":return kw;case"reauthViaPopup":case"reauthViaRedirect":return Uw;default:as(this.auth,"internal-error")}}resolve(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Lw=new Pl(2e3,1e4);class Fa extends vE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const t=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Lw.get())};t()}}Fa.currentPopupAction=null;const Pw="pendingRedirect",Uc=new Map;class zw extends vE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const a=await jw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jw(r,t){const i=Hw(t),a=qw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Bw(r,t){Uc.set(r._key(),t)}function qw(r){return is(r._redirectPersistence)}function Hw(r){return Mc(Pw,r.config.apiKey,r.name)}async function Fw(r,t,i=!1){if(jn(r.app))return Promise.reject(ss(r));const a=jl(r),l=Vw(a,t),d=await new zw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Gw=600*1e3;class Qw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Yw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!EE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ci(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Gw&&this.cachedEventUids.clear(),this.cachedEventUids.has(fv(t))}saveEventToCache(t){this.cachedEventUids.add(fv(t)),this.lastProcessedEventTime=Date.now()}}function fv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function EE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Yw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EE(r);default:return!1}}async function Kw(r,t={}){return ro(r,"GET","/v1/projects",t)}const Xw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$w=/^https?/;async function Zw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Kw(r);for(const i of t)try{if(Jw(i))return}catch{}as(r,"unauthorized-domain")}function Jw(r){const t=nm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!$w.test(i))return!1;if(Xw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Ww=new Pl(3e4,6e4);function dv(){const r=Ii().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function t2(r){return new Promise((t,i)=>{function a(){dv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dv(),i(Ci(r,"network-request-failed"))},timeout:Ww.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)a();else{const l=ew("iframefcb");return Ii()[l]=()=>{gapi.load?a():i(Ci(r,"network-request-failed"))},WS(`${tw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function e2(r){return kc=kc||t2(r),kc}const n2=new Pl(5e3,15e3),i2="__/auth/iframe",s2="emulator/auth/iframe",r2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o2(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Nm(t,s2):`https://${r.config.authDomain}/${i2}`,a={apiKey:t.apiKey,appName:r.name,v:so},l=a2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ll(a).slice(1)}`}async function l2(r){const t=await e2(r),i=Ii().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:o2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ci(r,"network-request-failed"),p=Ii().setTimeout(()=>{c(d)},n2.get());function y(){Ii().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const u2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c2=500,h2=600,f2="_blank",d2="http://localhost";class mv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m2(r,t,i,a=c2,l=h2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...u2,width:a.toString(),height:l.toString(),top:c,left:d},_=en().toLowerCase();i&&(p=tE(_)?f2:i),J0(_)&&(t=t||d2,y.scrollbars="yes");const A=Object.entries(y).reduce((x,[Q,J])=>`${x}${Q}=${J},`,"");if(GS(_)&&p!=="_self")return g2(t||"",p),new mv(null);const b=window.open(t||"",p,A);vt(b,r,"popup-blocked");try{b.focus()}catch{}return new mv(b)}function g2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const p2="__/auth/handler",y2="emulator/auth/handler",_2=encodeURIComponent("fac");async function gv(r,t,i,a,l,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:so,eventId:l};if(t instanceof uE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",mb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Bl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),_=y?`#${_2}=${encodeURIComponent(y)}`:"";return`${v2(r)}?${Ll(p).slice(1)}${_}`}function v2({config:r}){return r.emulator?Nm(r,y2):`https://${r.authDomain}/${p2}`}const Bd="webStorageSupport";class E2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mE,this._completeRedirectFn=Fw,this._overrideRedirectResult=Bw}async _openPopup(t,i,a,l){os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await gv(t,i,a,nm(),l);return m2(t,c,Mm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await gv(t,i,a,nm(),l);return bw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(os(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await l2(t),a=new Qw(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),as(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Zw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return rE()||W0()||xm()}}const T2=E2;var pv="@firebase/auth",yv="1.12.0";class A2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function b2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S2(r){$a(new Qr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aE(r)},_=new ZS(a,l,c,y);return iw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),$a(new Qr("auth-internal",t=>{const i=jl(t.getProvider("auth").getImmediate());return(a=>new A2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(pv,yv,b2(r)),Ws(pv,yv,"esm2020")}const w2=300,R2=U0("authIdTokenMaxAge")||w2;let _v=null;const C2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>R2)return;const l=i?.token;_v!==l&&(_v=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function I2(r=B0()){const t=Cm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=nw(r,{popupRedirectResolver:T2,persistence:[xw,Ew,mE]}),a=U0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=C2(c.toString());pw(i,d,()=>d(i.currentUser)),gw(i,p=>d(p))}}const l=V0("auth");return l&&sw(i,`http://${l}`),i}function N2(){return document.getElementsByTagName("head")?.[0]??document}JS({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ci("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",N2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S2("Browser");var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tr,TE;(function(){var r;function t(I,S){function R(){}R.prototype=S.prototype,I.F=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(V,N,U){for(var w=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)w[ee-2]=arguments[ee];return S.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,R){R||(R=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],N=I.g[2];let U=I.g[3],w;w=S+(U^R&(N^U))+V[0]+3614090360&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+V[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+V[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+V[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(U^R&(N^U))+V[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+V[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+V[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+V[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(U^R&(N^U))+V[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+V[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+V[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+V[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(U^R&(N^U))+V[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+V[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+V[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+V[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(N^U&(R^N))+V[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+V[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+V[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+V[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(R^N))+V[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+V[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+V[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+V[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(R^N))+V[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+V[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+V[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+V[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(R^N))+V[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+V[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+V[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+V[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(R^N^U)+V[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+V[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+V[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+V[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^U)+V[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+V[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+V[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+V[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^U)+V[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+V[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+V[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+V[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^U)+V[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+V[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+V[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+V[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(N^(R|~U))+V[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+V[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+V[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+V[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~U))+V[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+V[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+V[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+V[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~U))+V[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+V[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+V[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+V[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~U))+V[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+V[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+V[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const R=S-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<S;){if(N==0)for(;U<=R;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(V[N++]=I.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<S;)if(V[N++]=I[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)I[S++]=this.g[R]>>>V&255;return I};function c(I,S){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function d(I,S){this.h=S;const R=[];let V=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;V&&U==S||(R[N]=U,V=!1)}this.g=R}var p={};function y(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return W(_(-I));const S=[];let R=1;for(let V=0;I>=R;V++)S[V]=I/R|0,R*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return W(A(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let V=b;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const w=parseInt(I.substring(U,U+N),S);N<8?(N=_(Math.pow(S,N)),V=V.j(N).add(_(w))):(V=V.j(R),V=V.add(_(w)))}return V}var b=y(0),x=y(1),Q=y(16777216);r=d.prototype,r.m=function(){if(it(this))return-W(this).m();let I=0,S=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(it(this))return"-"+W(this).toString(I);const S=_(Math.pow(I,6));var R=this;let V="";for(;;){const N=It(R,S).g;R=mt(R,N.j(S));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=N,J(R))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function it(I){return I.h==-1}r.l=function(I){return I=mt(this,I),it(I)?-1:J(I)?0:1};function W(I){const S=I.g.length,R=[];for(let V=0;V<S;V++)R[V]=~I.g[V];return new d(R,~I.h).add(x)}r.abs=function(){return it(this)?W(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),R=[];let V=0;for(let N=0;N<=S;N++){let U=V+(this.i(N)&65535)+(I.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=w>>>16,U&=65535,w&=65535,R[N]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function mt(I,S){return I.add(W(S))}r.j=function(I){if(J(this)||J(I))return b;if(it(this))return it(I)?W(this).j(W(I)):W(W(this).j(I));if(it(I))return W(this.j(W(I)));if(this.l(Q)<0&&I.l(Q)<0)return _(this.m()*I.m());const S=this.g.length+I.g.length,R=[];for(var V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const U=this.i(V)>>>16,w=this.i(V)&65535,ee=I.i(N)>>>16,me=I.i(N)&65535;R[2*V+2*N]+=w*me,Tt(R,2*V+2*N),R[2*V+2*N+1]+=U*me,Tt(R,2*V+2*N+1),R[2*V+2*N+1]+=w*ee,Tt(R,2*V+2*N+1),R[2*V+2*N+2]+=U*ee,Tt(R,2*V+2*N+2)}for(I=0;I<S;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=S;I<2*S;I++)R[I]=0;return new d(R,0)};function Tt(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function gt(I,S){this.g=I,this.h=S}function It(I,S){if(J(S))throw Error("division by zero");if(J(I))return new gt(b,b);if(it(I))return S=It(W(I),S),new gt(W(S.g),W(S.h));if(it(S))return S=It(I,W(S)),new gt(W(S.g),S.h);if(I.g.length>30){if(it(I)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,V=S;V.l(I)<=0;)R=Wt(R),V=Wt(V);var N=yt(R,1),U=yt(V,1);for(V=yt(V,2),R=yt(R,2);!J(V);){var w=U.add(V);w.l(I)<=0&&(N=N.add(R),U=w),V=yt(V,1),R=yt(R,1)}return S=mt(I,N.j(S)),new gt(N,S)}for(N=b;I.l(S)>=0;){for(R=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(R),w=U.j(S);it(w)||w.l(I)>0;)R-=V,U=_(R),w=U.j(S);J(U)&&(U=x),N=N.add(U),I=mt(I,w)}return new gt(N,I)}r.B=function(I){return It(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)&I.i(V);return new d(R,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)|I.i(V);return new d(R,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)^I.i(V);return new d(R,this.h^I.h)};function Wt(I){const S=I.g.length+1,R=[];for(let V=0;V<S;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(R,I.h)}function yt(I,S){const R=S>>5;S%=32;const V=I.g.length-R,N=[];for(let U=0;U<V;U++)N[U]=S>0?I.i(U+R)>>>S|I.i(U+R+1)<<32-S:I.i(U+R);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,TE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,tr=d}).apply(typeof vv<"u"?vv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AE,yl,bE,Lc,rm,SE,wE,RE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),St=2;St<arguments.length;St++)tt[St-2]=arguments[St];return m.prototype[L].apply(T,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new it(()=>new It,u=>u.reset());class It{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,yt=!1,I=new Tt,S=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(R)}};function R(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){W(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}yt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ee,N),ee.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Bt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=st(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function q(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function st(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var rt="closure_lm_"+(Math.random()*1e6|0),ne={};function Ct(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Ct(u,m[B],v,T,L);return null}return v=fo(v),u&&u[me]?u.J(m,v,p(T)?!!T.capture:!1,L):xe(u,m,v,!1,T,L)}function xe(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let St=fr(u);if(St||(u[rt]=St=new at(u)),v=St.add(m,v,T,tt,B),v.proxy)return v;if(T=ue(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(an(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ue(){function u(v){return m.call(u.src,u.listener,v)}const m=Fn;return u}function Rn(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Rn(u,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=fo(v),u&&u[me]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=st(m,v,T,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=fr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=st(m,v,T,L)),(v=u>-1?m[u]:null)&&Mi(v))}function Mi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[me])q(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(an(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=fr(m))?(q(v,u),v.h==0&&(v.src=null,m[rt]=null)):ht(u)}}}function an(u){return u in ne?ne[u]:ne[u]="on"+u}function Fn(u,m){if(u.da)u=!0;else{m=new ee(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Mi(u),u=v.call(T,m)}return u}function fr(u){return u=u[rt],u instanceof at?u:null}var ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function fo(u){return typeof u=="function"?u:(u[ho]||(u[ho]=function(m){return u.handleEvent(m)}),u[ho])}function Ee(){V.call(this),this.i=new at(this),this.M=this,this.G=null}b(Ee,V),Ee.prototype[me]=!0,Ee.prototype.removeEventListener=function(u,m,v,T){Rn(this,u,m,v,T)};function Ve(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),et(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=fs(B,T,!0,m)&&L;if(B=m.g=u,L=fs(B,T,!0,m)&&L,L=fs(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=fs(B,T,!1,m)&&L}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ht(v[T]);delete u.g[m],u.h--}}this.G=null},Ee.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Ee.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function fs(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const St=tt.listener,pe=tt.ha||tt.src;tt.fa&&q(u.i,tt),L=St.call(pe,T)!==!1&&L}}return L&&!T.defaultPrevented}function Dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function $l(u){u.g=Dh(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class nn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(u){V.call(this),this.h=u,this.g={}}b(dr,V);var mo=[];function go(u){kt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Mi(m)},u),u.g={}}dr.prototype.N=function(){dr.Z.N.call(this),go(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=d.JSON.stringify,Oh=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jl(){}function Wl(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){N.call(this,"d")}b(je,N);function Cn(){N.call(this,"c")}b(Cn,N);var ge={},tu=null;function Jr(){return tu=tu||new Ee}ge.Ia="serverreachability";function eu(u){N.call(this,ge.Ia,u)}b(eu,N);function ri(u){const m=Jr();Ve(m,new eu(m))}ge.STAT_EVENT="statevent";function mr(u,m){N.call(this,ge.STAT_EVENT,u),this.stat=m}b(mr,N);function Te(u){const m=Jr();Ve(m,new mr(m,u))}ge.Ja="timingevent";function ai(u,m){N.call(this,ge.Ja,u),this.size=m}b(ai,N);function oi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function xh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",St=B.split("&");for(let qt=0;qt<St.length;qt++){var pe=St[qt].split("=");if(pe.length>1){const oe=pe[0];pe=pe[1];const On=oe.split("_");tt=On.length>=2&&On[1]=="type"?tt+(oe+"="+pe+"&"):tt+(oe+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function nu(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function li(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(T?" "+T:"")})}function gr(u,m){u.info(function(){return"TIMEOUT: "+m})}Qn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return ds(B)}catch{return m}}var pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function yr(){}b(yr,Jl),yr.prototype.g=function(){return new XMLHttpRequest},yo=new yr;function Ui(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Yn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Ae={},ke={};function ui(u,m,v){u.M=1,u.A=_r(Se(m)),u.u=v,u.R=!0,Wr(u,null)}function Wr(u,m){u.F=Date.now(),ci(u),u.B=Se(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ia(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Kn,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new nn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(mo[0]=L.toString()),L=mo);for(let B=0;B<L.length;B++){const tt=Ct(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ri(),xh(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Zn(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Zn(this.g),pe=this.g.ya(),qt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||St!=4||pe==7||(pe==8||qt<=0?ri(3):ri(2)),hi(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)li(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,u);else{this.o=!1,this.m=3,Te(12),pn(this),In(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=ru(this,v),oe==ke){St==4&&(this.m=4,Te(14),u=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ae){this.m=4,Te(15),li(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else li(this.i,this.l,oe,null),fi(this,oe);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)li(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),xo(tt),tt.P=!0,Te(11))}}else li(this.i,this.l,v,null),fi(this,v);St==4&&pn(this),this.o&&!this.K&&(St==4?mu(this.j,this):(this.o=!1,ci(this)))}else Li(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),pn(this),In(this)}}}catch{}};function Mh(u){if(!su(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const T=m.length,L=Zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),In(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ke:(v=Number(m.substring(v,T)),isNaN(v)?Ae:(T+=1,T+v>m.length?ke:(m=m.slice(T,T+v),u.C=T+v,m)))}Yn.prototype.cancel=function(){this.K=!0,pn(this)};function ci(u){u.T=Date.now()+u.H,ta(u,u.H)}function ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=oi(_(u.aa,u),m)}function hi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(gr(this.i,this.B),this.M!=2&&(ri(),Te(17)),pn(this),this.m=2,In(this)):ta(this,this.T-u)};function In(u){u.j.I==0||u.K||mu(u.j,u)}function pn(u){hi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,go(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function fi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||mi(v.h,u))){if(!u.L&&mi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)la(v),Ts(v);else break t;wr(v),Te(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(_(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((u.L||v.g==u)&&la(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const oe=qt[0];if(!(oe<=v.K))if(v.K=oe,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const On=qt[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const Ti=qt[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Jn=qt[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(T=1.5*Jn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Wn=u.g;if(Wn){const Rr=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var B=T.h;B.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Eo(B,B.h),B.h=null))}if(T.G){const ua=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(T.wa=ua,Gt(T.J,T.G,ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=yu(T,T.L?T.ba:null,T.W),tt.L){To(T.h,tt);var St=tt,pe=T.O;pe&&(St.H=pe),St.D&&(hi(St),ci(St)),T.g=tt}else fu(T);v.i.length>0&&vi(v)}else qt[0]!="stop"&&qt[0]!="close"||Ei(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Ei(v,7):Do(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ri(4)}catch{}}var be=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function di(u){return u.h?1:u.g?u.g.size:0}function mi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof yn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,ms(this,u.u),this.h=u.h,bo(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Le(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),ms(this,m[4]),this.h=gi(m[5]||"",!0),bo(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}yn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(vr(m,na,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vr(m,na,!0),"@"),u.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(vr(v,v.charAt(0)=="/"?So:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",vr(v,lu)),u.join("")},yn.prototype.resolve=function(u){const m=Se(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ms(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const St=L[tt++];St=="."?T&&tt==L.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(St),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?bo(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Se(u){return new yn(u)}function Le(u,m,v){u.j=v?gi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ms(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bo(u,m,v){m instanceof ps?(u.i=m,sa(u.i,u.l)):(v||(m=vr(m,gs)),u.i=new ps(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function _r(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,on),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function on(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var na=/[#\/\?@]/g,ou=/[#\?:]/g,So=/[#\?]/g,gs=/[#\?@]/g,lu=/#/g;function ps(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ps.prototype,r.add=function(u,m){ln(this),this.i=null,u=ys(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){ln(u),m=ys(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return ln(u),m=ys(u,m),u.g.has(m)}r.forEach=function(u,m){ln(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Ro(u,m){ln(u);let v=[];if(typeof m=="string")wo(u,m)&&(v=v.concat(u.g.get(ys(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return ln(this),this.i=null,u=ys(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function ia(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(ys(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Ui(v);v=Ro(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Ui(v[B])),u.push(tt)}}return this.i=u.join("&")};function cu(u){const m=new ps;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ys(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(uu(this,T),ia(this,L,v))},u)),u.j=m}function Xn(u,m){const v=new Qn;if(d.Image){const T=new Image;T.onload=A(Nn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Nn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Nn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Nn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Co(u,m){const v=new Qn,T=new AbortController,L=setTimeout(()=>{T.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Nn(v,"TestPingServer: error",!1,m)})}function Nn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function _s(){this.g=new Zl}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(pi,Jl),pi.prototype.g=function(){return new Er(this.i,this.h)};function Er(u,m){Ee.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Er,Ee),r=Er.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,$n(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?vs(this):$n(this),this.readyState==3&&ra(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,vs(this))},r.Na=function(u){this.g&&(this.response=u,vs(this))},r.ga=function(){this.g&&vs(this)};function vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dn(u){let m="";return kt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Tr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Dn(v),typeof u=="string"?v!=null&&Ui(v):Gt(u,m,v))}function Kt(u){Ee.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Kt,Ee);var yi=/^https?$/i,Io=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Ar(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Ar(this,B)}};function Ar(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),ki(u)}function No(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},r.Xa=function(){br(this)};function br(u){if(u.h&&typeof c<"u"){if(u.v&&Zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(au)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!yi.test(tt?tt.toLowerCase():"")}v=T}if(v)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var L=Zn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",No(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ve(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(u){const m={};u=(u.g&&Zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=iu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Bt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Es(u){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,u),this.Za=_i("retryDelaySeedMs",1e4,u),this.Ta=_i("forwardChannelMaxRetries",2,u),this.va=_i("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new _s,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Es.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Te(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=yu(this,null,this.W),vi(this)};function Do(u){if(aa(u),u.I==3){var m=u.V++,v=Se(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),Sr(u,v),m=new Yn(u,u.j,m),m.M=2,m.A=_r(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}pu(u)}function Ts(u){u.g&&(xo(u),u.g.cancel(),u.g=null)}function aa(u){Ts(u),u.v&&(d.clearTimeout(u.v),u.v=null),la(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function vi(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||S(),yt||(Wt(),yt=!0),I.add(m,u),u.D=0}}function oa(u,m){return di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=oi(_(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Yn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,L,m),v=Se(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),Sr(this,v),B&&(this.R?m="headers="+Ui(Dn(B))+"&"+m:this.u&&Tr(v,this.u,B)),Eo(this.h,L),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),L.U=!0,ui(L,v,null)):ui(L,v,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||vo(this.h)||Oo(this))};function Oo(u,m){var v;m?v=m.l:v=u.V++;const T=Se(u.J);Gt(T,"SID",u.M),Gt(T,"RID",v),Gt(T,"AID",u.K),Sr(u,T),u.u&&u.o&&Tr(T,u.u,u.o),v=new Yn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,v),ui(v,T,m)}function Sr(u,m){u.H&&kt(u.H,function(v,T){Gt(m,T,v)}),u.l&&kt({},function(v,T){Gt(m,T,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const pe=["count="+v];St==-1?v>0?(St=L[0].g,pe.push("ofs="+St)):St=0:pe.push("ofs="+St);let qt=!0;for(let oe=0;oe<v;oe++){var B=L[oe].g;const On=L[oe].map;if(B-=St,B<0)St=Math.max(0,L[oe].g-100),qt=!1;else try{B="req"+B+"_"||"";try{var tt=On instanceof Map?On:Object.entries(On);for(const[Ti,Jn]of tt){let Wn=Jn;p(Jn)&&(Wn=ds(Jn)),pe.push(B+Ti+"="+encodeURIComponent(Wn))}}catch(Ti){throw pe.push(B+"type="+encodeURIComponent("_badmap")),Ti}}catch{T&&T(On)}}if(qt){tt=pe.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||S(),yt||(Wt(),yt=!0),I.add(m,u),u.A=0}}function wr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=oi(_(u.Da,u),gu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=oi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),Ts(this),du(this))};function xo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),Sr(u,m),u.u&&u.o&&Tr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=_r(Se(m)),v.u=null,v.R=!0,Wr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ts(this),wr(this),Te(19))};function la(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){la(u),xo(u),u.g=null;var T=2}else if(mi(u.h,m))v=m.G,To(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Jr(),Ve(T,new ai(T,v)),vi(u)}else fu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&oa(u,m)||T==2&&wr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new yn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),_r(T),L?Xn(T.toString(),v):Co(T.toString(),v)}else Te(2);u.I=0,u.l&&u.l.pa(m),pu(u),aa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var T=v instanceof yn?Se(v):new yn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ms(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new yn(null);T&&Le(B,T),m&&(B.g=m),L&&ms(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Gt(T,v,m),Gt(T,"VER",u.ka),Sr(u,T),T}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new pi({ab:v})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function As(){}As.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){Ee.call(this),this.g=new Es(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pi(this)}b(sn,Ee),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Do(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ds(u),u=v);m.i.push(new be(m.Ya++,u)),m.I==3&&vi(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,sn.Z.N.call(this)};function Eu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Eu,je);function Tu(){Cn.call(this),this.status=1}b(Tu,Cn);function Pi(u){this.g=u}b(Pi,vu),Pi.prototype.ra=function(){Ve(this.g,"a")},Pi.prototype.qa=function(u){Ve(this.g,new Eu(u))},Pi.prototype.pa=function(u){Ve(this.g,new Tu)},Pi.prototype.oa=function(){Ve(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,RE=function(){return new As},wE=function(){return Jr()},SE=ge,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,Lc=pr,po.COMPLETE="complete",bE=po,Wl.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,yl=Wl,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,AE=Kt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const Ev="@firebase/firestore",Tv="4.9.3";class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");let ao="12.7.0";const Kr=new wm("@firebase/firestore");function za(){return Kr.logLevel}function lt(r,...t){if(Kr.logLevel<=Vt.DEBUG){const i=t.map(km);Kr.debug(`Firestore (${ao}): ${r}`,...i)}}function us(r,...t){if(Kr.logLevel<=Vt.ERROR){const i=t.map(km);Kr.error(`Firestore (${ao}): ${r}`,...i)}}function Za(r,...t){if(Kr.logLevel<=Vt.WARN){const i=t.map(km);Kr.warn(`Firestore (${ao}): ${r}`,...i)}}function km(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function _t(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,CE(r,a,i)}function CE(r,t,i){let a=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw us(a),new Error(a)}function Ft(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||CE(t,l,a)}function bt(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends hs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class er{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class IE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class D2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(We.UNAUTHENTICATED)))}shutdown(){}}class O2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class x2{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new er,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new er)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new IE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class V2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new V2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Av(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function k2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Lm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=k2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function am(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return qd(l)===qd(c)?Mt(l,c):qd(l)?1:-1}return Mt(r.length,t.length)}const L2=55296,P2=57343;function qd(r){const t=r.charCodeAt(0);return t>=L2&&t<=P2}function Ja(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const bv="__name__";class Ri{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ri.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ri.isNumericId(t),l=Ri.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ri.extractNumericId(t).compare(Ri.extractNumericId(i)):am(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return tr.fromString(t.substring(4,t.length-2))}}class ie extends Ri{construct(t,i,a){return new ie(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const z2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Ri{construct(t,i,a){return new Ye(t,i,a)}static isValidIdentifier(t){return z2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bv}static keyField(){return new Ye([bv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ie.fromString(t))}static fromName(t){return new dt(ie.fromString(t).popFirst(5))}static empty(){return new dt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ie(t.slice()))}}function NE(r,t,i){if(!i)throw new ot($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function j2(r,t,i,a){if(t===!0&&a===!0)throw new ot($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Sv(r){if(!dt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wv(r){if(dt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function DE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function hh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function qn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hh(r);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Oe(r,t){const i={typeString:r};return t&&(i.value=t),i}function Hl(r,t){if(!DE(r))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot($.INVALID_ARGUMENT,i);return!0}const Rv=-62135596800,Cv=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Cv);return new ae(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Rv)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Oe("string",ae._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ae(0,0))}static max(){return new Et(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;function B2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new ae(i+1,0):new ae(i,a));return new ir(l,dt.empty(),t)}function q2(r){return new ir(r.readTime,r.key,Nl)}class ir{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ir(Et.min(),dt.empty(),Nl)}static max(){return new ir(Et.max(),dt.empty(),Nl)}}function H2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const F2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function oo(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==F2)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Q2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function lo(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const Pm=-1;function dh(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function Y2(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const OE="";function K2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Iv(t)),t=X2(r.get(i),t);return Iv(t)}function X2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case OE:i+="";break;default:i+=c}}return i}function Iv(r){return r+OE+""}function Nv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function cr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function xE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Qe.RED,this.left=l??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Qe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(t){return new Dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ue(this.comparator);return i.data=t,i}}class Dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new wn([])}unionWith(t){let i=new Ue(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class VE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new VE("Invalid base64 string: "+c):c}})(t);return new Xe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Xe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const $2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const i=$2.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ve(r.seconds),nanos:ve(r.nanos)}}function ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rr(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}const ME="server_timestamp",UE="__type__",kE="__previous_value__",LE="__local_write_time__";function zm(r){return(r?.mapValue?.fields||{})[UE]?.stringValue===ME}function mh(r){const t=r.mapValue.fields[kE];return zm(t)?mh(t):t}function Dl(r){const t=sr(r.mapValue.fields[LE].timestampValue);return new ae(t.seconds,t.nanos)}class Z2{constructor(t,i,a,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Jc="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}const PE="__type__",J2="__max__",Ic={mapValue:{}},zE="__vector__",Wc="value";function ar(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zm(r)?4:tR(r)?9007199254740991:W2(r)?10:11:_t(28295,{value:r})}function Vi(r,t){if(r===t)return!0;const i=ar(r);if(i!==ar(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Dl(r).isEqual(Dl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=sr(l.timestampValue),p=sr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return rr(l.bytesValue).isEqual(rr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ve(l.geoPointValue.latitude)===ve(c.geoPointValue.latitude)&&ve(l.geoPointValue.longitude)===ve(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ve(l.integerValue)===ve(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ve(l.doubleValue),p=ve(c.doubleValue);return d===p?Zc(d)===Zc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Ja(r.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Nv(d)!==Nv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Vi(d[y],p[y])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function xl(r,t){return(r.values||[]).find((i=>Vi(i,t)))!==void 0}function Wa(r,t){if(r===t)return 0;const i=ar(r),a=ar(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ve(c.integerValue||c.doubleValue),y=ve(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return Ov(r.timestampValue,t.timestampValue);case 4:return Ov(Dl(r),Dl(t));case 5:return am(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=rr(c),y=rr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Mt(p[_],y[_]);if(A!==0)return A}return Mt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(ve(c.latitude),ve(d.latitude));return p!==0?p:Mt(ve(c.longitude),ve(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return xv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Wc]?.arrayValue,A=y[Wc]?.arrayValue,b=Mt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:xv(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const x=am(y[b],A[b]);if(x!==0)return x;const Q=Wa(p[y[b]],_[A[b]]);if(Q!==0)return Q}return Mt(y.length,A.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Ov(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=sr(r),a=sr(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function xv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Wa(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function to(r){return om(r)}function om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=sr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return rr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=om(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${om(i.fields[d])}`;return l+"}"})(r.mapValue):_t(61005,{value:r})}function Pc(r){switch(ar(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(r);return t?16+Pc(t):16;case 5:return 2*r.stringValue.length;case 6:return rr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return cr(a.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(r.mapValue);default:throw _t(13486,{value:r})}}function Vv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function lm(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function Mv(r){return!!r&&"nullValue"in r}function Uv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zc(r){return!!r&&"mapValue"in r}function W2(r){return(r?.mapValue?.fields||{})[PE]?.stringValue===zE}function bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return cr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=bl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(r.arrayValue.values[i]);return t}return{...r}}function tR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===J2}class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=Ye.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=bl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){cr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new gn(bl(this.value))}}function jE(r){const t=[];return cr(r.fields,((i,a)=>{const l=new Ye([i]);if(zc(a)){const c=jE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new wn(t)}class tn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new tn(t,0,Et.min(),Et.min(),Et.min(),gn.empty(),0)}static newFoundDocument(t,i,a,l){return new tn(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new tn(t,2,i,Et.min(),Et.min(),gn.empty(),0)}static newUnknownDocument(t,i){return new tn(t,3,i,Et.min(),Et.min(),gn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(t,i){this.position=t,this.inclusive=i}}function kv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Lv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Vi(r.position[i],t.position[i]))return!1;return!0}class eh{constructor(t,i="asc"){this.field=t,this.dir=i}}function eR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class BE{}class De extends BE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new iR(t,i,a):i==="array-contains"?new aR(t,a):i==="in"?new oR(t,a):i==="not-in"?new lR(t,a):i==="array-contains-any"?new uR(t,a):new De(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new sR(t,a):new rR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&ar(this.value)===ar(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends BE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new si(t,i)}matches(t){return qE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qE(r){return r.op==="and"}function HE(r){return nR(r)&&qE(r)}function nR(r){for(const t of r.filters)if(t instanceof si)return!1;return!0}function um(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+to(r.value);if(HE(r))return r.filters.map((t=>um(t))).join(",");{const t=r.filters.map((i=>um(i))).join(",");return`${r.op}(${t})`}}function FE(r,t){return r instanceof De?(function(a,l){return l instanceof De&&a.op===l.op&&a.field.isEqual(l.field)&&Vi(a.value,l.value)})(r,t):r instanceof si?(function(a,l){return l instanceof si&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&FE(d,l.filters[p])),!0):!1})(r,t):void _t(19439)}function GE(r){return r instanceof De?(function(i){return`${i.field.canonicalString()} ${i.op} ${to(i.value)}`})(r):r instanceof si?(function(i){return i.op.toString()+" {"+i.getFilters().map(GE).join(" ,")+"}"})(r):"Filter"}class iR extends De{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class sR extends De{constructor(t,i){super(t,"in",i),this.keys=QE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class rR extends De{constructor(t,i){super(t,"not-in",i),this.keys=QE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function QE(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class aR extends De{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return jm(i)&&xl(i.arrayValue,this.value)}}class oR extends De{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&xl(this.value.arrayValue,i)}}class lR extends De{constructor(t,i){super(t,"not-in",i)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xl(this.value.arrayValue,i)}}class uR extends De{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>xl(this.value.arrayValue,a)))}}class cR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Pv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new cR(r,t,i,a,l,c,d)}function Bm(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>um(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>to(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>to(a))).join(",")),t.Te=i}return t.Te}function qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!eR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!FE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Lv(r.startAt,t.startAt)&&Lv(r.endAt,t.endAt)}function cm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Fl{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hR(r,t,i,a,l,c,d,p){return new Fl(r,t,i,a,l,c,d,p)}function gh(r){return new Fl(r)}function zv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function YE(r){return r.collectionGroup!==null}function Sl(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ue(Ye.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eh(c,a))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new eh(Ye.keyField(),a))}return t.Ie}function Ni(r){const t=bt(r);return t.Ee||(t.Ee=fR(t,Sl(r))),t.Ee}function fR(r,t){if(r.limitType==="F")return Pv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eh(l.field,c)}));const i=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return Pv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function hm(r,t){const i=r.filters.concat([t]);return new Fl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function fm(r,t,i){return new Fl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ph(r,t){return qm(Ni(r),Ni(t))&&r.limitType===t.limitType}function KE(r){return`${Bm(Ni(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>GE(l))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>to(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>to(l))).join(",")),`Target(${a})`})(Ni(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Sl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=kv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Sl(a),l)||a.endAt&&!(function(d,p,y){const _=kv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Sl(a),l))})(r,t)}function dR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function XE(r){return(t,i)=>{let a=!1;for(const l of Sl(r)){const c=mR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function mR(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Wa(y,_):_t(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:r.dir})}}class $r{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){cr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return xE(this.inner)}size(){return this.innerSize}}const gR=new ce(dt.comparator);function cs(){return gR}const $E=new ce(dt.comparator);function _l(...r){let t=$E;for(const i of r)t=t.insert(i.key,i);return t}function ZE(r){let t=$E;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Hr(){return wl()}function JE(){return wl()}function wl(){return new $r((r=>r.toString()),((r,t)=>r.isEqual(t)))}const pR=new ce(dt.comparator),yR=new Ue(dt.comparator);function Ut(...r){let t=yR;for(const i of r)t=t.add(i);return t}const _R=new Ue(Mt);function vR(){return _R}function Hm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function WE(r){return{integerValue:""+r}}function ER(r,t){return Y2(t)?WE(t):Hm(r,t)}class _h{constructor(){this._=void 0}}function TR(r,t,i){return r instanceof Vl?(function(l,c){const d={fields:{[UE]:{stringValue:ME},[LE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zm(c)&&(c=mh(c)),c&&(d.fields[kE]=c),{mapValue:d}})(i,t):r instanceof Ml?eT(r,t):r instanceof Ul?nT(r,t):(function(l,c){const d=tT(l,c),p=jv(d)+jv(l.Ae);return lm(d)&&lm(l.Ae)?WE(p):Hm(l.serializer,p)})(r,t)}function AR(r,t,i){return r instanceof Ml?eT(r,t):r instanceof Ul?nT(r,t):i}function tT(r,t){return r instanceof nh?(function(a){return lm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Vl extends _h{}class Ml extends _h{constructor(t){super(),this.elements=t}}function eT(r,t){const i=iT(t);for(const a of r.elements)i.some((l=>Vi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends _h{constructor(t){super(),this.elements=t}}function nT(r,t){let i=iT(t);for(const a of r.elements)i=i.filter((l=>!Vi(l,a)));return{arrayValue:{values:i}}}class nh extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function jv(r){return ve(r.integerValue||r.doubleValue)}function iT(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class bR{constructor(t,i){this.field=t,this.transform=i}}function SR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Ml&&l instanceof Ml||a instanceof Ul&&l instanceof Ul?Ja(a.elements,l.elements,Vi):a instanceof nh&&l instanceof nh?Vi(a.Ae,l.Ae):a instanceof Vl&&l instanceof Vl})(r.transform,t.transform)}class wR{constructor(t,i){this.version=t,this.transformResults=i}}class Hn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Hn}static exists(t){return new Hn(void 0,t)}static updateTime(t){return new Hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function sT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Fm(r.key,Hn.none()):new Gl(r.key,r.data,Hn.none());{const i=r.data,a=gn.empty();let l=new Ue(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new hr(r.key,a,new wn(l.toArray()),Hn.none())}}function RR(r,t,i){r instanceof Gl?(function(l,c,d){const p=l.value.clone(),y=qv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof hr?(function(l,c,d){if(!jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=qv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(rT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Rl(r,t,i,a){return r instanceof Gl?(function(c,d,p,y){if(!jc(c.precondition,d))return p;const _=c.value.clone(),A=Hv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof hr?(function(c,d,p,y){if(!jc(c.precondition,d))return p;const _=Hv(c.fieldTransforms,y,d),A=d.data;return A.setAll(rT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function CR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=tT(a.transform,l||null);c!=null&&(i===null&&(i=gn.empty()),i.set(a.field,c))}return i||null}function Bv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ja(a,l,((c,d)=>SR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends vh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hr extends vh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function rT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function qv(r,t,i){const a=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,AR(d,p,i[l]))}return a}function Hv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,TR(c,d,t))}return a}class Fm extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IR extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&RR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=JE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=sT(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>Bv(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>Bv(i,a)))}}class Gm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return pR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Gm(t,i,a,l)}}class DR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class OR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ne,Pt;function xR(r){switch(r){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function aT(r){if(r===void 0)return us("GRPC error has no .code"),$.UNKNOWN;switch(r){case Ne.OK:return $.OK;case Ne.CANCELLED:return $.CANCELLED;case Ne.UNKNOWN:return $.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return $.INTERNAL;case Ne.UNAVAILABLE:return $.UNAVAILABLE;case Ne.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ne.NOT_FOUND:return $.NOT_FOUND;case Ne.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ne.ABORTED:return $.ABORTED;case Ne.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ne.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:r})}}(Pt=Ne||(Ne={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function VR(){return new TextEncoder}const MR=new tr([4294967295,4294967295],0);function Fv(r){const t=VR().encode(r),i=new TE;return i.update(t),new Uint8Array(i.digest())}function Gv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new tr([i,a],0),new tr([l,c],0)]}class Qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vl(`Invalid padding: ${i}`);if(a<0)throw new vl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new vl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=tr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(tr.fromNumber(a)));return l.compare(MR)===1&&(l=new tr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Fv(t),[a,l]=Gv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Qm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Fv(t),[a,l]=Gv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(Et.min(),l,new ce(Mt),cs(),Ut())}}class Ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,Ut(),Ut(),Ut())}}class Bc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class oT{constructor(t,i){this.targetId=t,this.Ce=i}}class lT{constructor(t,i,a=Xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Qv{constructor(){this.ve=0,this.Fe=Yv(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),a=Ut();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Yv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UR{constructor(t){this.Ge=t,this.ze=new Map,this.je=cs(),this.Je=Nc(),this.He=Nc(),this.Ye=new ce(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(cm(c))if(a===0){const d=new dt(c.path);this.et(i,d,tn.newNoDocument(d,Et.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=rr(a).toUint8Array()}catch(y){if(y instanceof VE)return Za("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Qm(d,l,c)}catch(y){return Za(y instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&cm(p.target)){const y=new dt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,tn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ut();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Eh(t,i,this.Ye,this.je,a);return this.je=cs(),this.Je=Nc(),this.He=Nc(),this.Ye=new ce(Mt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Qv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ue(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ue(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Qv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new ce(dt.comparator)}function Yv(){return new ce(dt.comparator)}const kR={asc:"ASCENDING",desc:"DESCENDING"},LR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PR={and:"AND",or:"OR"};class zR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function dm(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function jR(r,t){return ih(r,t.toTimestamp())}function Di(r){return Ft(!!r,49232),Et.fromTimestamp((function(i){const a=sr(i);return new ae(a.seconds,a.nanos)})(r))}function Ym(r,t){return mm(r,t).canonicalString()}function mm(r,t){const i=(function(l){return new ie(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function cT(r){const t=ie.fromString(r);return Ft(gT(t),10190,{key:t.toString()}),t}function gm(r,t){return Ym(r.databaseId,t.path)}function Hd(r,t){const i=cT(t);if(i.get(1)!==r.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(fT(i))}function hT(r,t){return Ym(r.databaseId,t)}function BR(r){const t=cT(r);return t.length===4?ie.emptyPath():fT(t)}function pm(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fT(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Kv(r,t,i){return{name:gm(r,t),fields:i.value.mapValue.fields}}function qR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Xe.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Xe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?$.UNKNOWN:aT(_.code);return new ot(A,_.message||"")})(d);i=new lT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Hd(r,a.document.name),c=Di(a.document.updateTime),d=a.document.createTime?Di(a.document.createTime):Et.min(),p=new gn({mapValue:{fields:a.document.fields}}),y=tn.newFoundDocument(l,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Bc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Hd(r,a.document),c=a.readTime?Di(a.readTime):Et.min(),d=tn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Bc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Hd(r,a.document),c=a.removedTargetIds||[];i=new Bc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new OR(l,c),p=a.targetId;i=new oT(p,d)}}return i}function HR(r,t){let i;if(t instanceof Gl)i={update:Kv(r,t.key,t.value)};else if(t instanceof Fm)i={delete:gm(r,t.key)};else if(t instanceof hr)i={update:Kv(r,t.key,t.data),updateMask:JR(t.fieldMask)};else{if(!(t instanceof IR))return _t(16599,{Vt:t.type});i={verify:gm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:jR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(r,t.precondition)),i}function FR(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Di(l.updateTime):Di(c);return d.isEqual(Et.min())&&(d=Di(c)),new wR(d,l.transformResults||[])})(i,t)))):[]}function GR(r,t){return{documents:[hT(r,t.path)]}}function QR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=hT(r,l);const c=(function(_){if(_.length!==0)return mT(si.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:Ba(x.field),direction:XR(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=dm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function YR(r){let t=BR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const x=dT(b);return x instanceof si&&HE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(J){return new eh(qa(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let x;return x=typeof b=="object"?b.value:b,dh(x)?null:x})(i.limit));let y=null;i.startAt&&(y=(function(b){const x=!!b.before,Q=b.values||[];return new th(Q,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const x=!b.before,Q=b.values||[];return new th(Q,x)})(i.endAt)),hR(t,l,d,c,p,"F",y,_)}function KR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function dT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qa(i.unaryFilter.field);return De.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=qa(i.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(i.unaryFilter.field);return De.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return De.create(qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return si.create(i.compositeFilter.filters.map((a=>dT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function XR(r){return kR[r]}function $R(r){return LR[r]}function ZR(r){return PR[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function qa(r){return Ye.fromServerFormat(r.fieldPath)}function mT(r){return r instanceof De?(function(i){if(i.op==="=="){if(Uv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NAN"}};if(Mv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NAN"}};if(Mv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(i.field),op:$R(i.op),value:i.value}}})(r):r instanceof si?(function(i){const a=i.getFilters().map((l=>mT(l)));return a.length===1?a[0]:{compositeFilter:{op:ZR(i.op),filters:a}}})(r):_t(54877,{filter:r})}function JR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function gT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class $s{constructor(t,i,a,l,c=Et.min(),d=Et.min(),p=Xe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new $s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class WR{constructor(t){this.yt=t}}function tC(r){const t=YR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fm(t,t.limit,"L"):t}class eC{constructor(){this.Cn=new nC}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(ir.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(ir.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class nC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ue(ie.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ue(ie.comparator)).toArray()}}const Xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pT=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(pT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class eo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}const $v="LruGarbageCollector",iC=1048576;function Zv([r,t],[i,a]){const l=Mt(r,i);return l===0?Mt(t,a):l}class sC{constructor(t){this.Ir=t,this.buffer=new Ue(Zv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Zv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class rC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt($v,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){lo(i)?lt($v,"Ignoring IndexedDB error during garbage collection: ",i):await oo(i)}await this.Vr(3e5)}))}}class aC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(fh.ce);const a=new sC(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Xv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(_=Date.now(),za()<=Vt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function oC(r,t){return new aC(r,t)}class lC{constructor(){this.changes=new $r((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class uC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class cC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Rl(a.mutation,l,wn.empty(),ae.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const l=Hr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=_l();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Hr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=cs();const d=wl(),p=(function(){return wl()})();return i.forEach(((y,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof hr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Rl(A.mutation,_,A.mutation.getFieldMask(),ae.now())):d.set(_.key,wn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new uC(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=wl();let l=new ce(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||wn.empty();A=p.applyToLocalView(_,A),a.set(y,A);const b=(l.get(p.batchId)||Ut()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,b=JE();A.forEach((x=>{if(!c.has(x)){const Q=sT(i.get(x),a.get(x));Q!==null&&b.set(x,Q),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):YE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(Hr());let p=Nl,y=c;return d.next((_=>Z.forEach(_,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{y=y.insert(A,x)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ut()))).next((A=>({batchId:p,changes:ZE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=_l();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=_l();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const _=(function(b,x){return new Fl(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,tn.newInvalidDocument(A)))}));let p=_l();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Rl(A.mutation,_,wn.empty(),ae.now()),yh(i,_)&&(p=p.insert(y,_))})),p}))}}class hC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Di(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:tC(l.bundledQuery),readTime:Di(l.readTime)}})(i)),Z.resolve()}}class fC{constructor(){this.overlays=new ce(dt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Hr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=Hr(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ce(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=Hr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Hr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new DR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ut(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class dC{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Km{constructor(){this.Qr=new Ue(ze.$r),this.Ur=new Ue(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new ze(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new ze(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new dt(new ie([])),a=new ze(i,t),l=new ze(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new ie([])),a=new ze(i,t),l=new ze(i,t+1);let c=Ut();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ze(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class ze{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class mC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(ze.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new NR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new ze(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Pm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new ze(i,0),l=new ze(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ue(Mt);return i.forEach((l=>{const c=new ze(l,0),d=new ze(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new ze(new dt(c),0);let p=new Ue(Mt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new ze(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new ze(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class gC{constructor(t){this.ri=t,this.docs=(function(){return new ce(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(t,i){let a=cs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():tn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=cs();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||H2(q2(A),a)<=0||(l.has(A.key)||yh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new pC(this)}getSize(t){return Z.resolve(this.size)}}class pC extends lC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class yC{constructor(t){this.persistence=t,this.si=new $r((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Km,this.targetCount=0,this.ai=eo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new eo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class yT{constructor(t,i){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new dC,this.referenceDelegate=t(this),this.Pi=new yC(this),this.indexManager=new eC,this.remoteDocumentCache=(function(l){return new gC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new WR(i),this.Ii=new hC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new fC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new mC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const l=new _C(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class _C extends G2{constructor(t){super(),this.currentSequenceNumber=t}}class Xm{constructor(t){this.persistence=t,this.Ri=new Km,this.Vi=null}static mi(t){return new Xm(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=dt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.pi=new $r((a=>K2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=oC(this,i)}static mi(t,i){return new sh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class $m{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new $m(t,i.fromCache,a,l)}}class vC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class EC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lb()?8:Q2(en())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new vC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(za()<=Vt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(za()<=Vt.DEBUG&&lt("QueryEngine","Query:",ja(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(za()<=Vt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(i))):Z.resolve())}ys(t,i){if(zv(i))return Z.resolve(null);let a=Ni(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=fm(i,null,"F"),a=Ni(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ut(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,fm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return zv(i)||l.isEqual(Et.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(za()<=Vt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ja(i)),this.vs(t,d,i,B2(l,Nl)).next((p=>p)))}))}Ds(t,i){let a=new Ue(XE(t));return i.forEach(((l,c)=>{yh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return za()<=Vt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",ja(i)),this.ps.getDocumentsMatchingQuery(t,i,ir.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",TC=3e8;class AC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(Mt),this.xs=new $r((c=>Bm(c)),qm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function bC(r,t,i,a){return new AC(r,t,i,a)}async function _T(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Ut();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function SC(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const b=_.batch,x=b.keys();let Q=Z.resolve();return x.forEach((J=>{Q=Q.next((()=>A.getEntry(y,J))).next((it=>{const W=_.docVersions.get(J);Ft(W!==null,48541),it.version.compareTo(W)<0&&(b.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),A.addEntry(it)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Ut();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function vT(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function wC(r,t){const i=bt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const x=l.get(b);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let Q=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?Q=Q.withResumeToken(Xe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),l=l.insert(b,Q),(function(it,W,mt){return it.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=TC?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(x,Q,A)&&p.push(i.Pi.updateTargetData(c,Q))}));let y=cs(),_=Ut();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(RC(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function RC(r,t,i){let a=Ut(),l=Ut();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=cs();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):lt(Zm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function CC(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function IC(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new $s(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function ym(r,t,i){const a=bt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!lo(d))throw d;lt(Zm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Jv(r,t,i){const a=bt(r);let l=Et.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const b=bt(y),x=b.xs.get(A);return x!==void 0?Z.resolve(b.Ms.get(x)):b.Pi.getTargetData(_,A)})(a,d,Ni(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:Ut()))).next((p=>(NC(a,dR(t),p),{documents:p,Qs:c})))))}function NC(r,t,i){let a=r.Os.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Wv{constructor(){this.activeTargetIds=vR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DC{constructor(){this.Mo=new Wv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Wv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class OC{Oo(t){}shutdown(){}}const t0="ConnectivityMonitor";class e0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(t0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(t0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function _m(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Fd="RestConnection",xC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=_m(),p=this.zo(t,i.toUriEncodedString());lt(Fd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=io(_);return this.Jo(t,p,y,a,A).then((b=>(lt(Fd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Za(Fd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=xC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class MC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Je="WebChannelConnection";class UC extends VC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=_m();return new Promise(((p,y)=>{const _=new AE;_.setWithCredentials(!0),_.listenOnce(bE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Lc.NO_ERROR:const b=_.getResponseJson();lt(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Lc.TIMEOUT:lt(Je,`RPC '${t}' ${d} timed out`),y(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const x=_.getStatus();if(lt(Je,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const J=Q?.error;if(J&&J.status&&J.message){const it=(function(mt){const Tt=mt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Tt)>=0?Tt:$.UNKNOWN})(J.status);y(new ot(it,J.message))}else y(new ot($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ot($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{lt(Je,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);lt(Je,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=_m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=RE(),p=wE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");lt(Je,`Creating RPC '${t}' stream ${l}: ${A}`,y);const b=d.createWebChannel(A,y);this.I_(b);let x=!1,Q=!1;const J=new MC({Yo:W=>{Q?lt(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(x||(lt(Je,`Opening RPC '${t}' stream ${l} transport.`),b.open(),x=!0),lt(Je,`RPC '${t}' stream ${l} sending:`,W),b.send(W))},Zo:()=>b.close()}),it=(W,mt,Tt)=>{W.listen(mt,(gt=>{try{Tt(gt)}catch(It){setTimeout((()=>{throw It}),0)}}))};return it(b,yl.EventType.OPEN,(()=>{Q||(lt(Je,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),it(b,yl.EventType.CLOSE,(()=>{Q||(Q=!0,lt(Je,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(b))})),it(b,yl.EventType.ERROR,(W=>{Q||(Q=!0,Za(Je,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new ot($.UNAVAILABLE,"The operation could not be completed")))})),it(b,yl.EventType.MESSAGE,(W=>{if(!Q){const mt=W.data[0];Ft(!!mt,16349);const Tt=mt,gt=Tt?.error||Tt[0]?.error;if(gt){lt(Je,`RPC '${t}' stream ${l} received error:`,gt);const It=gt.status;let Wt=(function(S){const R=Ne[S];if(R!==void 0)return aT(R)})(It),yt=gt.message;Wt===void 0&&(Wt=$.INTERNAL,yt="Unknown error status: "+It+" with message "+gt.message),Q=!0,J.a_(new ot(Wt,yt)),b.close()}else lt(Je,`RPC '${t}' stream ${l} received:`,mt),J.u_(mt)}})),it(p,SE.STAT_EVENT,(W=>{W.stat===rm.PROXY?lt(Je,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===rm.NOPROXY&&lt(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Gd(){return typeof document<"u"?document:null}function Th(r){return new zR(r,!0)}class ET{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const n0="PersistentStream";class TT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ET(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(us(i.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ot($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(n0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(n0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kC extends TT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=qR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Di(d.readTime):Et.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=cm(y)?{documents:GR(c,y)}:{query:QR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=uT(c,d.resumeToken);const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=ih(c,d.snapshotVersion.toTimestamp());const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=KR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.q_(i)}}class LC extends TT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=FR(t.writeResults,t.commitTime),a=Di(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=pm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>HR(this.serializer,a)))};this.q_(i)}}class PC{}class zC extends PC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,mm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,mm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class jC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xr="RemoteStore";class BC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Zr(this)&&(lt(Xr,"Restarting streams for network reachability change."),await(async function(y){const _=bt(y);_.Ea.add(4),await Yl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ah(_)})(this))}))})),this.Ra=new jC(a,l)}}async function Ah(r){if(Zr(r))for(const t of r.da)await t(!0)}async function Yl(r){for(const t of r.da)await t(!1)}function AT(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),eg(i)?tg(i):uo(i).O_()&&Wm(i,t))}function Jm(r,t){const i=bt(r),a=uo(i);i.Ia.delete(t),a.O_()&&bT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Zr(i)&&i.Ra.set("Unknown"))}function Wm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}uo(r).Y_(t)}function bT(r,t){r.Va.Ue(t),uo(r).Z_(t)}function tg(r){r.Va=new UR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),uo(r).start(),r.Ra.ua()}function eg(r){return Zr(r)&&!uo(r).x_()&&r.Ia.size>0}function Zr(r){return bt(r).Ea.size===0}function ST(r){r.Va=void 0}async function qC(r){r.Ra.set("Online")}async function HC(r){r.Ia.forEach(((t,i)=>{Wm(r,t)}))}async function FC(r,t){ST(r),eg(r)?(r.Ra.ha(t),tg(r)):r.Ra.set("Unknown")}async function GC(r,t,i){if(r.Ra.set("Online"),t instanceof lT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){lt(Xr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(r,a)}else if(t instanceof Bc?r.Va.Ze(t):t instanceof oT?r.Va.st(t):r.Va.tt(t),!i.isEqual(Et.min()))try{const a=await vT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Xe.EMPTY_BYTE_STRING,A.snapshotVersion)),bT(c,y);const b=new $s(A.target,y,_,A.sequenceNumber);Wm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){lt(Xr,"Failed to raise snapshot:",a),await rh(r,a)}}async function rh(r,t,i){if(!lo(t))throw t;r.Ea.add(1),await Yl(r),r.Ra.set("Offline"),i||(i=()=>vT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(Xr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ah(r)}))}function wT(r,t){return t().catch((i=>rh(r,i,t)))}async function bh(r){const t=bt(r),i=or(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pm;for(;QC(t);)try{const l=await CC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,YC(t,l)}catch(l){await rh(t,l)}RT(t)&&CT(t)}function QC(r){return Zr(r)&&r.Ta.length<10}function YC(r,t){r.Ta.push(t);const i=or(r);i.O_()&&i.X_&&i.ea(t.mutations)}function RT(r){return Zr(r)&&!or(r).x_()&&r.Ta.length>0}function CT(r){or(r).start()}async function KC(r){or(r).ra()}async function XC(r){const t=or(r);for(const i of r.Ta)t.ea(i.mutations)}async function $C(r,t,i){const a=r.Ta.shift(),l=Gm.from(a,t,i);await wT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await bh(r)}async function ZC(r,t){t&&or(r).X_&&await(async function(a,l){if((function(d){return xR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();or(a).B_(),await wT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(a)}})(r,t),RT(r)&&CT(r)}async function i0(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),lt(Xr,"RemoteStore received new credentials");const a=Zr(i);i.Ea.add(3),await Yl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function JC(r,t){const i=bt(r);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Yl(i),i.Ra.set("Unknown"))}function uo(r){return r.ma||(r.ma=(function(i,a,l){const c=bt(i);return c.sa(),new kC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:qC.bind(null,r),t_:HC.bind(null,r),r_:FC.bind(null,r),H_:GC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),eg(r)?tg(r):r.Ra.set("Unknown")):(await r.ma.stop(),ST(r))}))),r.ma}function or(r){return r.fa||(r.fa=(function(i,a,l){const c=bt(i);return c.sa(),new LC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:KC.bind(null,r),r_:ZC.bind(null,r),ta:XC.bind(null,r),na:$C.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await bh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(Xr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ng{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new ng(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(r,t){if(us("AsyncQueue",`${t}: ${r}`),lo(r))return new ot($.UNAVAILABLE,`${t}: ${r}`);throw r}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=_l(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class s0{constructor(){this.ga=new ce(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class no{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new no(t,i,Ka.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class WC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class tI{constructor(){this.queries=r0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=bt(i),c=l.queries;l.queries=r0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ot($.ABORTED,"Firestore shutting down"))}}function r0(){return new $r((r=>KE(r)),ph)}async function IT(r,t){const i=bt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new WC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ig(d,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&sg(i)}async function NT(r,t){const i=bt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function eI(r,t){const i=bt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&sg(i)}function nI(r,t,i){const a=bt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function sg(r){r.Ca.forEach((t=>{t.next()}))}var vm,a0;(a0=vm||(vm={})).Ma="default",a0.Cache="cache";class DT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new no(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vm.Cache}}class OT{constructor(t){this.key=t}}class xT{constructor(t){this.key=t}}class iI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=XE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new s0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const x=l.get(A),Q=yh(this.query,b)?b:null,J=!!x&&this.mutatedKeys.has(x.key),it=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let W=!1;x&&Q?x.data.isEqual(Q.data)?J!==it&&(a.track({type:3,doc:Q}),W=!0):this.su(x,Q)||(a.track({type:2,doc:Q}),W=!0,(y&&this.eu(Q,y)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!x&&Q?(a.track({type:0,doc:Q}),W=!0):x&&!Q&&(a.track({type:1,doc:x}),W=!0,(y||_)&&(p=!0)),W&&(Q?(d=d.add(Q),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(Q,J){const it=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:W})}};return it(Q)-it(J)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new no(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new s0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new xT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new OT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rg="SyncEngine";class sI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class rI{constructor(t){this.key=t,this.hu=!1}}class aI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $r((p=>KE(p)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new ce(dt.comparator),this.Au=new Map,this.Ru=new Km,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oI(r,t,i=!0){const a=PT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await VT(a,t,i,!0),l}async function lI(r,t){const i=PT(r);await VT(i,t,!0,!1)}async function VT(r,t,i,a){const l=await IC(r.localStore,Ni(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await uI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&AT(r.remoteStore,l),p}async function uI(r,t,i,a,l){r.pu=(b,x,Q)=>(async function(it,W,mt,Tt){let gt=W.view.ru(mt);gt.Cs&&(gt=await Jv(it.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,gt))));const It=Tt&&Tt.targetChanges.get(W.targetId),Wt=Tt&&Tt.targetMismatches.get(W.targetId)!=null,yt=W.view.applyChanges(gt,it.isPrimaryClient,It,Wt);return l0(it,W.targetId,yt.au),yt.snapshot})(r,b,x,Q);const c=await Jv(r.localStore,t,!0),d=new iI(t,c.Qs),p=d.ru(c.documents),y=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);l0(r,i,_.au);const A=new sI(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function cI(r,t,i){const a=bt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await ym(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Jm(a.remoteStore,l.targetId),Em(a,l.targetId)})).catch(oo)):(Em(a,l.targetId),await ym(a.localStore,l.targetId,!0))}async function hI(r,t){const i=bt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function fI(r,t,i){const a=vI(r);try{const l=await(function(d,p){const y=bt(d),_=ae.now(),A=p.reduce(((Q,J)=>Q.add(J.key)),Ut());let b,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let J=cs(),it=Ut();return y.Ns.getEntries(Q,A).next((W=>{J=W,J.forEach(((mt,Tt)=>{Tt.isValidDocument()||(it=it.add(mt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,J))).next((W=>{b=W;const mt=[];for(const Tt of p){const gt=CR(Tt,b.get(Tt.key).overlayedDocument);gt!=null&&mt.push(new hr(Tt.key,gt,jE(gt.value.mapValue),Hn.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,_,mt,p)})).next((W=>{x=W;const mt=W.applyToLocalDocumentSet(b,it);return y.documentOverlayCache.saveOverlays(Q,W.batchId,mt)}))})).then((()=>({batchId:x.batchId,changes:ZE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ce(Mt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Kl(a,l.changes),await bh(a.remoteStore)}catch(l){const c=ig(l,"Failed to persist write");i.reject(c)}}async function MT(r,t){const i=bt(r);try{const a=await wC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Kl(i,a,t)}catch(a){await oo(a)}}function o0(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=bt(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,b)=>{for(const x of b.Sa)x.va(p)&&(_=!0)})),_&&sg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function dI(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ce(dt.comparator);d=d.insert(c,tn.newNoDocument(c,Et.min()));const p=Ut().add(c),y=new Eh(Et.min(),new Map,new ce(Mt),d,p);await MT(a,y),a.du=a.du.remove(c),a.Au.delete(t),ag(a)}else await ym(a.localStore,t,!1).then((()=>Em(a,t,i))).catch(oo)}async function mI(r,t){const i=bt(r),a=t.batch.batchId;try{const l=await SC(i.localStore,t);kT(i,a,null),UT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Kl(i,l)}catch(l){await oo(l)}}async function gI(r,t,i){const a=bt(r);try{const l=await(function(d,p){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((b=>(Ft(b!==null,37113),A=b.keys(),y.mutationQueue.removeMutationBatch(_,b)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);kT(a,t,i),UT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Kl(a,l)}catch(l){await oo(l)}}function UT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function kT(r,t,i){const a=bt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Em(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||LT(r,a)}))}function LT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Jm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ag(r))}function l0(r,t,i){for(const a of i)a instanceof OT?(r.Ru.addReference(a.key,t),pI(r,a)):a instanceof xT?(lt(rg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||LT(r,a.key)):_t(19791,{wu:a})}function pI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(lt(rg,"New document in limbo: "+i),r.Eu.add(a),ag(r))}function ag(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(ie.fromString(t)),a=r.fu.next();r.Au.set(a,new rI(i)),r.du=r.du.insert(i,a),AT(r.remoteStore,new $s(Ni(gh(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Kl(r,t,i){const a=bt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=$m.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const A=bt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(_,(x=>Z.forEach(x.Es,(Q=>A.persistence.referenceDelegate.addReference(b,x.targetId,Q))).next((()=>Z.forEach(x.ds,(Q=>A.persistence.referenceDelegate.removeReference(b,x.targetId,Q)))))))))}catch(b){if(!lo(b))throw b;lt(Zm,"Failed to update sequence numbers: "+b)}for(const b of _){const x=b.targetId;if(!b.fromCache){const Q=A.Ms.get(x),J=Q.snapshotVersion,it=Q.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(x,it)}}})(a.localStore,c))}async function yI(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){lt(rg,"User change. New user:",t.toKey());const a=await _T(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ot($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Kl(i,a.Ls)}}function _I(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let l=Ut();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function PT(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=MT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_I.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dI.bind(null,t),t.Pu.H_=eI.bind(null,t.eventManager),t.Pu.yu=nI.bind(null,t.eventManager),t}function vI(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gI.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return bC(this.persistence,new EC,t.initialUser,this.serializer)}Cu(t){return new yT(Xm.mi,this.serializer)}Du(t){return new DC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class EI extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new rC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new yT((a=>sh.mi(a,i)),this.serializer)}}class Tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>o0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=yI.bind(null,this.syncEngine),await JC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new tI})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=(function(c){return new UC(c)})(t.databaseInfo);return(function(c,d,p,y){return new zC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new BC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>o0(this.syncEngine,i,0)),(function(){return e0.v()?new e0:new OC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const b=new aI(l,c,d,p,y,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);lt(Xr,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class zT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const lr="FirestoreClient";class TI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=We.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt(lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ig(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Qd(r,t){r.asyncQueue.verifyOperationInProgress(),lt(lr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await _T(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function u0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await AI(r);lt(lr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>i0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>i0(t.remoteStore,l))),r._onlineComponents=t}async function AI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(lr,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Qd(r,new ah)}}else lt(lr,"Using default OfflineComponentProvider"),await Qd(r,new EI(void 0));return r._offlineComponents}async function jT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(lr,"Using user provided OnlineComponentProvider"),await u0(r,r._uninitializedComponentsProvider._online)):(lt(lr,"Using default OnlineComponentProvider"),await u0(r,new Tm))),r._onlineComponents}function bI(r){return jT(r).then((t=>t.syncEngine))}async function Am(r){const t=await jT(r),i=t.eventManager;return i.onListen=oI.bind(null,t.syncEngine),i.onUnlisten=cI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=lI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=hI.bind(null,t.syncEngine),i}function SI(r,t,i={}){const a=new er;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new zT({next:x=>{A.Nu(),d.enqueueAndForget((()=>NT(c,b)));const Q=x.docs.has(p);!Q&&x.fromCache?_.reject(new ot($.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&x.fromCache&&y&&y.source==="server"?_.reject(new ot($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),b=new DT(gh(p.path),A,{includeMetadataChanges:!0,qa:!0});return IT(c,b)})(await Am(r),r.asyncQueue,t,i,a))),a.promise}function BT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const c0=new Map;const qT="firestore.googleapis.com",h0=!0;class f0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=h0}else this.host=t.host,this.ssl=t.ssl??h0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=pT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<iC)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}j2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new D2;switch(a.type){case"firstParty":return new M2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=c0.get(i);a&&(lt("ComponentProvider","Removing Datastore"),c0.delete(i),a.terminate())})(this),Promise.resolve()}}function wI(r,t,i,a={}){r=qn(r,Sh);const l=io(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(k0(`https://${p}`),L0("Firestore",!0)),c.host!==qT&&c.host!==p&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Gr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=We.MOCK_USER;else{_=WA(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new We(b)}r._authCredentials=new O2(new IE(_,A))}}class co{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new co(this.firestore,t,this._query)}}class de{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new de(this.firestore,t,this._key)}toJSON(){return{type:de._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Hl(i,de._jsonSchema))return new de(t,a||null,new dt(ie.fromString(i.referencePath)))}}de._jsonSchemaVersion="firestore/documentReference/1.0",de._jsonSchema={type:Oe("string",de._jsonSchemaVersion),referencePath:Oe("string")};class nr extends co{constructor(t,i,a){super(t,i,gh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new de(this.firestore,null,new dt(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function Oc(r,t,...i){if(r=Ke(r),NE("collection","path",t),r instanceof Sh){const a=ie.fromString(t,...i);return wv(a),new nr(r,null,a)}{if(!(r instanceof de||r instanceof nr))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ie.fromString(t,...i));return wv(a),new nr(r.firestore,null,a)}}function Ha(r,t,...i){if(r=Ke(r),arguments.length===1&&(t=Lm.newId()),NE("doc","path",t),r instanceof Sh){const a=ie.fromString(t,...i);return Sv(a),new de(r,null,new dt(a))}{if(!(r instanceof de||r instanceof nr))throw new ot($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ie.fromString(t,...i));return Sv(a),new de(r.firestore,r instanceof nr?r.converter:null,new dt(a))}}const d0="AsyncQueue";class m0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ET(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&lt(d0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!lo(t))throw t;lt(d0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",g0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ng.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:g0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function g0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function p0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ur extends Sh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new m0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new m0(t),this._firestoreClient=void 0,await t}}}function RI(r,t){const i=typeof r=="object"?r:B0(),a=typeof r=="string"?r:Jc,l=Cm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=ZA("firestore");c&&wI(l,...c)}return l}function og(r){if(r._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||CI(r),r._firestoreClient}function CI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new Z2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,BT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new TI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn(Xe.fromBase64String(t))}catch(i){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Bn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Oe("string",Bn._jsonSchemaVersion),bytes:Oe("string")};class wh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Rh{constructor(t){this._methodName=t}}class Oi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Oe("string",Oi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class xi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new xi(t.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Oe("string",xi._jsonSchemaVersion),vectorValues:Oe("object")};const II=/^__.*__$/;class NI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new hr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(t,this.data,i,this.fieldTransforms)}}class HT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new hr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function FT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class lg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new lg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(FT(this.Ac)&&II.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class DI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}Cc(t,i,a,l=!1){return new lg({Ac:t,methodName:i,Dc:a,path:Ye.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ch(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new DI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function GT(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);cg("Data must be an object, but it was:",d,a);const p=QT(a,d);let y,_;if(c.merge)y=new wn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const x=bm(t,b,i);if(!d.contains(x))throw new ot($.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);KT(A,x)||A.push(x)}y=new wn(A),_=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,_=d.fieldTransforms;return new NI(new gn(p),y,_)}class Ih extends Rh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ih}}class ug extends Rh{_toFieldTransform(t){return new bR(t.path,new Vl)}isEqual(t){return t instanceof ug}}function OI(r,t,i,a){const l=r.Cc(1,t,i);cg("Data must be an object, but it was:",l,a);const c=[],d=gn.empty();cr(a,((y,_)=>{const A=hg(t,y,i);_=Ke(_);const b=l.yc(A);if(_ instanceof Ih)c.push(A);else{const x=Xl(_,b);x!=null&&(c.push(A),d.set(A,x))}}));const p=new wn(c);return new HT(d,p,l.fieldTransforms)}function xI(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[bm(t,a,i)],y=[l];if(c.length%2!=0)throw new ot($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(bm(t,c[x])),y.push(c[x+1]);const _=[],A=gn.empty();for(let x=p.length-1;x>=0;--x)if(!KT(_,p[x])){const Q=p[x];let J=y[x];J=Ke(J);const it=d.yc(Q);if(J instanceof Ih)_.push(Q);else{const W=Xl(J,it);W!=null&&(_.push(Q),A.set(Q,W))}}const b=new wn(_);return new HT(A,b,d.fieldTransforms)}function VI(r,t,i,a=!1){return Xl(i,r.Cc(a?4:3,t))}function Xl(r,t){if(YT(r=Ke(r)))return cg("Unsupported field value:",t,r),QT(r,t);if(r instanceof Rh)return(function(a,l){if(!FT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Xl(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Ke(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ER(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ae.fromDate(a);return{timestampValue:ih(l.serializer,c)}}if(a instanceof ae){const c=new ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(a instanceof Oi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Bn)return{bytesValue:uT(l.serializer,a._byteString)};if(a instanceof de){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof xi)return(function(d,p){return{mapValue:{fields:{[PE]:{stringValue:zE},[Wc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Hm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${hh(a)}`)})(r,t)}function QT(r,t){const i={};return xE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cr(r,((a,l)=>{const c=Xl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function YT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof Oi||r instanceof Bn||r instanceof de||r instanceof Rh||r instanceof xi)}function cg(r,t,i){if(!YT(i)||!DE(i)){const a=hh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function bm(r,t,i){if((t=Ke(t))instanceof wh)return t._internalPath;if(typeof t=="string")return hg(r,t);throw oh("Field path arguments must be of type string or ",r,!1,void 0,i)}const MI=new RegExp("[~\\*/\\[\\]]");function hg(r,t,i){if(t.search(MI)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new wh(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function oh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ot($.INVALID_ARGUMENT,p+r+y)}function KT(r,t){return r.some((i=>i.isEqual(t)))}class XT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new de(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field($T("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UI extends XT{data(){return super.data()}}function $T(r,t){return typeof t=="string"?hg(r,t):t instanceof wh?t._internalPath:t._delegate._internalPath}function kI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class LI extends fg{}function y0(r,t,...i){let a=[];t instanceof fg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof mg)).length,p=c.filter((y=>y instanceof dg)).length;if(d>1||d>0&&p>0)throw new ot($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class dg extends LI{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new dg(t,i,a)}_apply(t){const i=this._parse(t);return ZT(t._query,i),new co(t.firestore,t.converter,hm(t._query,i))}_parse(t){const i=Ch(t.firestore);return(function(c,d,p,y,_,A,b){let x;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ot($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){v0(b,A);const J=[];for(const it of b)J.push(_0(y,c,it));x={arrayValue:{values:J}}}else x=_0(y,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||v0(b,A),x=VI(p,d,b,A==="in"||A==="not-in");return De.create(_,A,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class mg extends fg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new mg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:si.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)ZT(d,y),d=hm(d,y)})(t._query,i),new co(t.firestore,t.converter,hm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _0(r,t,i){if(typeof(i=Ke(i))=="string"){if(i==="")throw new ot($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YE(t)&&i.indexOf("/")!==-1)throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ie.fromString(i));if(!dt.isDocumentKey(a))throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Vv(r,new dt(a))}if(i instanceof de)return Vv(r,i._key);throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(i)}.`)}function v0(r,t){if(!Array.isArray(r)||r.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ZT(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class PI{convertValue(t,i="none"){switch(ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return cr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Wc].arrayValue?.values?.map((a=>ve(a.doubleValue)));return new xi(i)}convertGeoPoint(t){return new Oi(ve(t.latitude),ve(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=sr(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ie.fromString(t);Ft(gT(a),9688,{name:t});const l=new Ol(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||us(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function JT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class El{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fr extends XT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field($T("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Fr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Fr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fr._jsonSchema={type:Oe("string",Fr._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class qc extends Fr{data(t={}){return super.data(t)}}class Xa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new El(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new qc(this._firestore,this._userDataWriter,a.key,a,new El(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new El(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new El(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:zI(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}function E0(r){r=qn(r,de);const t=qn(r.firestore,ur);return SI(og(t),r._key).then((i=>t1(t,r,i)))}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Oe("string",Xa._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class WT extends PI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new de(this.firestore,null,i)}}function jI(r,t,i){r=qn(r,de);const a=qn(r.firestore,ur),l=JT(r.converter,t);return Nh(a,[GT(Ch(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Hn.none())])}function BI(r,t,i,...a){r=qn(r,de);const l=qn(r.firestore,ur),c=Ch(l);let d;return d=typeof(t=Ke(t))=="string"||t instanceof wh?xI(c,"updateDoc",r._key,t,i,a):OI(c,"updateDoc",r._key,t),Nh(l,[d.toMutation(r._key,Hn.exists(!0))])}function T0(r){return Nh(qn(r.firestore,ur),[new Fm(r._key,Hn.none())])}function A0(r,t){const i=qn(r.firestore,ur),a=Ha(r),l=JT(r.converter,t);return Nh(i,[GT(Ch(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Hn.exists(!1))]).then((()=>a))}function b0(r,...t){r=Ke(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||p0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(p0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof de)d=qn(r.firestore,ur),p=gh(r._key.path),c={next:y=>{t[a]&&t[a](t1(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=qn(r,co);d=qn(y.firestore,ur),p=y._query;const _=new WT(d);c={next:A=>{t[a]&&t[a](new Xa(d,_,y,A))},error:t[a+1],complete:t[a+2]},kI(r._query)}return(function(_,A,b,x){const Q=new zT(x),J=new DT(A,Q,b);return _.asyncQueue.enqueueAndForget((async()=>IT(await Am(_),J))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>NT(await Am(_),J)))}})(og(d),p,l,c)}function Nh(r,t){return(function(a,l){const c=new er;return a.asyncQueue.enqueueAndForget((async()=>fI(await bI(a),l,c))),c.promise})(og(r),t)}function t1(r,t,i){const a=i.docs.get(t._key),l=new WT(r);return new Fr(r,l,t._key,a,new El(i.hasPendingWrites,i.fromCache),t.converter)}function Yd(){return new ug("serverTimestamp")}(function(t,i=!0){(function(l){ao=l})(so),$a(new Qr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ur(new x2(a.getProvider("auth-internal")),new U2(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ws(Ev,Tv,t),Ws(Ev,Tv,"esm2020")})();const qI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),S0=r=>{const t=HI(r);return t.charAt(0).toUpperCase()+t.slice(1)},e1=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),FI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var GI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QI=Jt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Jt.createElement("svg",{ref:y,...GI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:e1("lucide",l),...!c&&!FI(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>Jt.createElement(_,A)),...Array.isArray(c)?c:[c]]));const $e=(r,t)=>{const i=Jt.forwardRef(({className:a,...l},c)=>Jt.createElement(QI,{ref:c,iconNode:t,className:e1(`lucide-${qI(S0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=S0(r),i};const YI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kd=$e("calendar",YI);const KI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],XI=$e("chevron-down",KI);const $I=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ZI=$e("chevron-right",$I);const JI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],WI=$e("circle-check",JI);const tN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eN=$e("circle",tN);const nN=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],w0=$e("folder-open",nN);const iN=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],R0=$e("folder-plus",iN);const sN=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],rN=$e("folder",sN);const aN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],oN=$e("funnel",aN);const lN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],C0=$e("image",lN);const uN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],I0=$e("list",uN);const cN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hN=$e("lock",cN);const fN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dN=$e("log-out",fN);const mN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xc=$e("plus",mN);const gN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pN=$e("search",gN);const yN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],N0=$e("trash-2",yN);const _N=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Xd=$e("video",_N),vN={apiKey:"AIzaSyDNS6_ckh2s0xcvohH0r76RH50-zFsB7sQ",authDomain:"my-lifelog-app.firebaseapp.com",projectId:"my-lifelog-app",storageBucket:"my-lifelog-app.firebasestorage.app",messagingSenderId:"15182730406",appId:"1:15182730406:web:cc3f5ca9caae618437d067",measurementId:"G-30SSP7BHLW"},ts="my-local-app",n1=j0(vN),$d=I2(n1),es=RI(n1),EN=({isSetup:r,onSubmit:t})=>{const[i,a]=Jt.useState(""),[l,c]=Jt.useState(""),[d,p]=Jt.useState(""),y=_=>{if(_.preventDefault(),p(""),i.length!==6||!/^\d+$/.test(i)){p(" 6 ");return}if(r&&i!==l){p("");return}t(i)};return k.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:k.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md text-center",children:[k.jsx("div",{className:"mb-6 flex justify-center",children:k.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:k.jsx(hN,{className:"w-8 h-8 text-blue-600"})})}),k.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:r?"":""}),k.jsx("p",{className:"text-slate-500 mb-6 text-sm",children:r?" 6 ":""}),k.jsxs("form",{onSubmit:y,className:"space-y-4",children:[k.jsx("input",{type:"password",maxLength:6,value:i,onChange:_=>a(_.target.value),className:"w-full text-center text-3xl tracking-widest py-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors",placeholder:""}),r&&k.jsx("input",{type:"password",maxLength:6,value:l,onChange:_=>c(_.target.value),className:"w-full text-center text-3xl tracking-widest py-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors mt-4",placeholder:""}),d&&k.jsx("p",{className:"text-red-500 text-sm font-medium",children:d}),k.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-all transform active:scale-95 shadow-lg mt-4",children:r?"":""})]})]})})};function TN(){const[r,t]=Jt.useState(null),[i,a]=Jt.useState("loading"),[l,c]=Jt.useState([]),[d,p]=Jt.useState([]),[y,_]=Jt.useState(null),[A,b]=Jt.useState(""),[x,Q]=Jt.useState("all"),[J,it]=Jt.useState("all"),[W,mt]=Jt.useState({}),[Tt,gt]=Jt.useState(!1),[It,Wt]=Jt.useState("text"),[yt,I]=Jt.useState({title:"",content:"",imageUrl:"",date:"",videoUrl:"",todoItems:[]}),[S,R]=Jt.useState(!1),[V,N]=Jt.useState(""),[U,w]=Jt.useState(null);Jt.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await mw($d,__initial_auth_token):await uw($d))();const st=yw($d,rt=>{t(rt),rt||a("loading")});return()=>st()},[]),Jt.useEffect(()=>{if(!r)return;(async()=>{try{const st=Ha(es,"artifacts",ts,"users",r.uid,"settings","security");(await E0(st)).exists()?a("lock"):a("setup")}catch(st){console.error("Error checking PIN settings:",st)}})()},[r]),Jt.useEffect(()=>{if(!r||i!=="authenticated")return;const q=y0(Oc(es,"artifacts",ts,"users",r.uid,"categories")),st=b0(q,Ct=>{const xe=Ct.docs.map(ue=>({id:ue.id,...ue.data()}));xe.sort((ue,Rn)=>ue.name.localeCompare(Rn.name)),c(xe)},Ct=>console.error("Cat sync error",Ct)),rt=y0(Oc(es,"artifacts",ts,"users",r.uid,"cards")),ne=b0(rt,Ct=>{const xe=Ct.docs.map(ue=>({id:ue.id,...ue.data()}));p(xe)},Ct=>console.error("Card sync error",Ct));return()=>{st(),ne()}},[r,i]);const ee=async q=>{if(!r)return;const st=Ha(es,"artifacts",ts,"users",r.uid,"settings","security");if(i==="setup")await jI(st,{pin:q,createdAt:Yd()}),a("authenticated");else if(i==="lock"){const rt=await E0(st);rt.exists()&&rt.data().pin===q?a("authenticated"):alert("")}},me=async q=>{q.preventDefault(),V.trim()&&(await A0(Oc(es,"artifacts",ts,"users",r.uid,"categories"),{name:V,parentId:U||null,createdAt:Yd()}),U&&mt(st=>({...st,[U]:!0})),N(""),R(!1),w(null))},F=async(q,st)=>{st.stopPropagation(),confirm("()")&&await T0(Ha(es,"artifacts",ts,"users",r.uid,"categories",q))},nt=async q=>{q.preventDefault();const st={type:It,categoryId:y,title:yt.title,isCompleted:!1,createdAt:Yd(),...yt};It!=="text"&&delete st.imageUrl,It!=="schedule"&&delete st.date,It!=="video"&&delete st.videoUrl,It!=="todo"&&delete st.todoItems,await A0(Oc(es,"artifacts",ts,"users",r.uid,"cards"),st),gt(!1),Bt()},ht=async q=>{await BI(Ha(es,"artifacts",ts,"users",r.uid,"cards",q.id),{isCompleted:!q.isCompleted})},kt=async q=>{confirm("")&&await T0(Ha(es,"artifacts",ts,"users",r.uid,"cards",q))},Bt=()=>{I({title:"",content:"",imageUrl:"",date:"",videoUrl:"",todoItems:[]})},O=(q,st)=>{q.stopPropagation(),mt(rt=>({...rt,[st]:!rt[st]}))},K=(q=null)=>{const st=l.filter(rt=>rt.parentId===q);return st.length===0?null:k.jsx("ul",{className:"space-y-0.5",children:st.map(rt=>{const ne=l.some(ue=>ue.parentId===rt.id),Ct=W[rt.id],xe=y===rt.id;return k.jsxs("li",{className:"select-none",children:[k.jsxs("div",{className:`group flex items-center justify-between p-1.5 rounded-md cursor-pointer transition-colors border border-transparent ${xe?"bg-blue-100 text-blue-700 border-blue-200":"hover:bg-slate-100 text-slate-700"}`,onClick:()=>_(rt.id),children:[k.jsxs("div",{className:"flex items-center gap-1 overflow-hidden flex-1 min-w-0",children:[k.jsx("button",{onClick:ue=>O(ue,rt.id),className:`p-0.5 rounded hover:bg-black/5 text-slate-400 flex-shrink-0 transition-transform ${ne?"":"invisible"}`,children:Ct?k.jsx(XI,{className:"w-4 h-4"}):k.jsx(ZI,{className:"w-4 h-4"})}),Ct?k.jsx(w0,{className:`w-4 h-4 flex-shrink-0 ${xe?"fill-blue-300 text-blue-600":"text-yellow-500 fill-yellow-100"}`}):k.jsx(rN,{className:`w-4 h-4 flex-shrink-0 ${xe?"fill-blue-300 text-blue-600":"text-yellow-500 fill-yellow-100"}`}),k.jsx("span",{className:"truncate text-sm font-medium ml-1",children:rt.name})]}),k.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[k.jsx("button",{onClick:ue=>{ue.stopPropagation(),w(rt.id),R(!0),mt(Rn=>({...Rn,[rt.id]:!0}))},className:"p-1 hover:bg-blue-200 text-blue-600 rounded mr-1",title:"",children:k.jsx(xc,{className:"w-3 h-3"})}),k.jsx("button",{onClick:ue=>F(rt.id,ue),className:"p-1 hover:bg-red-100 text-red-500 rounded",title:"",children:k.jsx(N0,{className:"w-3 h-3"})})]})]}),ne&&Ct&&k.jsx("div",{className:"ml-[1.1rem] border-l border-slate-200 pl-1 mt-0.5 mb-1",children:K(rt.id)})]},rt.id)})})},et=Jt.useMemo(()=>d.filter(q=>{const st=q.title.toLowerCase().includes(A.toLowerCase())||q.content&&q.content.toLowerCase().includes(A.toLowerCase());let rt=!0;if(y){const xe=Rn=>{const Mi=l.filter(Fn=>Fn.parentId===Rn);let an=Mi.map(Fn=>Fn.id);return Mi.forEach(Fn=>{an=[...an,...xe(Fn.id)]}),an};rt=[y,...xe(y)].includes(q.categoryId)}const ne=x==="all"?!0:q.type===x;let Ct=!0;return J==="completed"&&(Ct=q.isCompleted),J==="pending"&&(Ct=!q.isCompleted),st&&rt&&ne&&Ct}),[d,A,y,x,J,l]),at=q=>{if(!q)return"";const st=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,rt=q.match(st);return rt&&rt[2].length===11?`https://www.youtube.com/embed/${rt[2]}`:null};return i==="loading"?k.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-50 text-slate-500",children:"..."}):i==="setup"||i==="lock"?k.jsx(EN,{isSetup:i==="setup",onSubmit:ee}):k.jsxs("div",{className:"flex h-screen w-full bg-slate-50 overflow-hidden text-slate-900 font-sans",children:[k.jsxs("aside",{className:"w-72 bg-white border-r border-slate-200 flex flex-col flex-shrink-0 shadow-[2px_0_10px_rgba(0,0,0,0.02)]",children:[k.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-slate-50/50",children:[k.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"My LifeLog"}),k.jsx("button",{onClick:()=>{a("lock")},title:"",className:"hover:bg-slate-200 p-1.5 rounded-full transition-colors",children:k.jsx(dN,{className:"w-4 h-4 text-slate-500"})})]}),k.jsxs("div",{className:"flex-1 overflow-y-auto p-3 custom-scrollbar",children:[k.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer mb-3 font-semibold transition-colors ${y?"text-slate-600 hover:bg-slate-100":"bg-blue-50 text-blue-700 ring-1 ring-blue-200"}`,onClick:()=>_(null),children:[k.jsx(R0,{className:"w-5 h-5"}),k.jsx("span",{children:""})]}),k.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-2",children:""}),K(),l.length===0&&k.jsxs("div",{className:"text-center text-slate-400 text-sm mt-8",children:["",k.jsx("br",{}),""]})]}),k.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50/30",children:k.jsxs("button",{onClick:()=>{w(null),R(!0)},className:"w-full flex items-center justify-center gap-2 bg-white border border-slate-200 hover:border-blue-300 hover:text-blue-600 text-slate-600 py-2.5 rounded-lg transition-all text-sm font-medium shadow-sm hover:shadow",children:[k.jsx(xc,{className:"w-4 h-4"})," "]})})]}),k.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-slate-50/50",children:[k.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center px-6 justify-between gap-4 sticky top-0 z-10",children:[k.jsxs("div",{className:"flex items-center gap-3 flex-1 max-w-2xl bg-slate-100 px-4 py-2 rounded-full focus-within:ring-2 ring-blue-500/20 transition-all focus-within:bg-white border border-transparent focus-within:border-blue-200",children:[k.jsx(pN,{className:"w-5 h-5 text-slate-400"}),k.jsx("input",{type:"text",placeholder:"...",className:"bg-transparent border-none outline-none w-full text-slate-700 placeholder-slate-400",value:A,onChange:q=>b(q.target.value)})]}),k.jsxs("button",{onClick:()=>gt(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-full font-medium shadow-lg shadow-blue-200 transition-all active:scale-95 hover:-translate-y-0.5",children:[k.jsx(xc,{className:"w-5 h-5"}),k.jsx("span",{className:"hidden sm:inline",children:""})]})]}),k.jsxs("div",{className:"px-8 py-6 flex flex-wrap items-center gap-3",children:[k.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1.5 rounded-lg border border-slate-200 shadow-sm text-sm hover:border-blue-300 transition-colors",children:[k.jsx(oN,{className:"w-4 h-4 text-slate-500"}),k.jsx("span",{className:"text-slate-500",children:":"}),k.jsxs("select",{value:J,onChange:q=>it(q.target.value),className:"bg-transparent outline-none text-slate-700 font-medium cursor-pointer",children:[k.jsx("option",{value:"all",children:""}),k.jsx("option",{value:"completed",children:""}),k.jsx("option",{value:"pending",children:""})]})]}),k.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1.5 rounded-lg border border-slate-200 shadow-sm text-sm hover:border-blue-300 transition-colors",children:[k.jsx("span",{className:"text-slate-500",children:":"}),k.jsxs("select",{value:x,onChange:q=>Q(q.target.value),className:"bg-transparent outline-none text-slate-700 font-medium cursor-pointer",children:[k.jsx("option",{value:"all",children:""}),k.jsx("option",{value:"text",children:""}),k.jsx("option",{value:"schedule",children:""}),k.jsx("option",{value:"video",children:""}),k.jsx("option",{value:"todo",children:""})]})]})]}),k.jsx("div",{className:"flex-1 overflow-y-auto px-8 pb-8 custom-scrollbar",children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[et.map(q=>k.jsxs("div",{className:`group bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden flex flex-col transition-all hover:shadow-lg hover:border-blue-200 ${q.isCompleted?"opacity-60 grayscale-[0.5]":""}`,children:[k.jsxs("div",{className:"p-3 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[k.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500",children:[q.type==="text"&&k.jsxs(k.Fragment,{children:[k.jsx(C0,{className:"w-3.5 h-3.5 text-blue-500"})," "]}),q.type==="schedule"&&k.jsxs(k.Fragment,{children:[k.jsx(Kd,{className:"w-3.5 h-3.5 text-orange-500"})," "]}),q.type==="video"&&k.jsxs(k.Fragment,{children:[k.jsx(Xd,{className:"w-3.5 h-3.5 text-red-500"})," "]}),q.type==="todo"&&k.jsxs(k.Fragment,{children:[k.jsx(I0,{className:"w-3.5 h-3.5 text-green-500"})," "]})]}),k.jsxs("div",{className:"flex items-center gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[k.jsx("button",{onClick:()=>ht(q),className:`p-1.5 rounded-md transition-colors ${q.isCompleted?"text-green-600 bg-green-100":"text-slate-400 hover:text-green-600 hover:bg-green-50"}`,title:q.isCompleted?"":"",children:q.isCompleted?k.jsx(WI,{className:"w-4 h-4"}):k.jsx(eN,{className:"w-4 h-4"})}),k.jsx("button",{onClick:()=>kt(q.id),className:"text-slate-400 hover:text-red-500 hover:bg-red-50 p-1.5 rounded-md transition-colors",children:k.jsx(N0,{className:"w-4 h-4"})})]})]}),k.jsxs("div",{className:"p-5 flex-1 flex flex-col gap-3",children:[k.jsx("h3",{className:`font-bold text-lg leading-snug ${q.isCompleted?"line-through text-slate-500":"text-slate-800"}`,children:q.title}),q.type==="text"&&k.jsxs(k.Fragment,{children:[q.imageUrl&&k.jsx("img",{src:q.imageUrl,alt:"card attachment",className:"w-full h-36 object-cover rounded-lg mb-2 bg-slate-100 border border-slate-100"}),k.jsx("p",{className:"text-sm text-slate-600 whitespace-pre-wrap leading-relaxed",children:q.content})]}),q.type==="schedule"&&k.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-100 mt-1",children:[k.jsxs("div",{className:"flex items-center gap-2 text-orange-700 font-bold text-sm mb-1.5",children:[k.jsx(Kd,{className:"w-4 h-4"}),q.date?new Date(q.date).toLocaleString("zh-TW",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]}),k.jsx("p",{className:"text-sm text-slate-600",children:q.content})]}),q.type==="video"&&k.jsx("div",{className:"rounded-lg overflow-hidden bg-black aspect-video relative shadow-inner",children:at(q.videoUrl)?k.jsx("iframe",{src:at(q.videoUrl),className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):k.jsxs("div",{className:"w-full h-full flex flex-col gap-2 items-center justify-center text-white text-xs p-4 text-center",children:[k.jsx(Xd,{className:"w-8 h-8 opacity-50"}),k.jsx("a",{href:q.videoUrl,target:"_blank",className:"underline hover:text-blue-300",children:""})]})}),q.type==="todo"&&k.jsx("ul",{className:"space-y-2 mt-1",children:q.todoItems&&q.todoItems.map((st,rt)=>k.jsxs("li",{className:"flex items-start gap-2.5 text-sm text-slate-700",children:[k.jsx("div",{className:"mt-1 w-3.5 h-3.5 rounded border border-slate-400 flex-shrink-0"}),k.jsx("span",{className:"leading-relaxed",children:st.text})]},rt))})]})]},q.id)),et.length===0&&k.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-slate-400",children:[k.jsx("div",{className:"bg-slate-100 p-6 rounded-full mb-4",children:k.jsx(w0,{className:"w-10 h-10 text-slate-300"})}),k.jsx("p",{className:"text-lg font-medium",children:""}),k.jsx("p",{className:"text-sm mt-2",children:""})]})]})})]}),S&&k.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200",children:k.jsxs("div",{className:"bg-white rounded-xl p-6 w-96 shadow-2xl scale-100 transform transition-all",children:[k.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 flex items-center gap-2",children:[k.jsx(R0,{className:"w-5 h-5 text-blue-600"}),U?"":""]}),k.jsxs("form",{onSubmit:me,children:[k.jsx("input",{autoFocus:!0,type:"text",value:V,onChange:q=>N(q.target.value),placeholder:"...",className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 mb-4 focus:ring-2 ring-blue-500 focus:border-blue-500 outline-none transition-all"}),k.jsxs("div",{className:"flex justify-end gap-2",children:[k.jsx("button",{type:"button",onClick:()=>R(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg transition-colors",children:""}),k.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-md shadow-blue-200 transition-all",children:""})]})]})]})}),Tt&&k.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:k.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",children:[k.jsxs("h3",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center gap-2",children:[k.jsx(xc,{className:"w-6 h-6 text-blue-600 bg-blue-50 rounded-full p-1"}),""]}),k.jsxs("form",{onSubmit:nt,className:"space-y-5",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:""}),k.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{id:"text",label:"",icon:C0,color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-200"},{id:"schedule",label:"",icon:Kd,color:"text-orange-600",bg:"bg-orange-50",border:"border-orange-200"},{id:"video",label:"",icon:Xd,color:"text-red-600",bg:"bg-red-50",border:"border-red-200"},{id:"todo",label:"",icon:I0,color:"text-green-600",bg:"bg-green-50",border:"border-green-200"}].map(q=>k.jsxs("button",{type:"button",onClick:()=>Wt(q.id),className:`flex flex-col items-center justify-center gap-1 py-3 px-1 rounded-xl border transition-all duration-200 ${It===q.id?`${q.border} ${q.bg} ${q.color} ring-1 ring-offset-1 ring-${q.color.split("-")[1]}-400 font-bold shadow-sm`:"border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:[k.jsx(q.icon,{className:"w-5 h-5"}),k.jsx("span",{className:"text-xs",children:q.label})]},q.id))})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:""}),k.jsx("input",{required:!0,type:"text",value:yt.title,onChange:q=>I({...yt,title:q.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 focus:ring-2 ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"..."})]}),It==="text"&&k.jsxs(k.Fragment,{children:[k.jsxs("div",{children:[k.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:[" ",k.jsx("span",{className:"text-slate-400 font-normal text-xs",children:"()"})]}),k.jsx("input",{type:"url",value:yt.imageUrl,onChange:q=>I({...yt,imageUrl:q.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 focus:ring-2 ring-blue-500 outline-none transition-all",placeholder:"https://..."})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:""}),k.jsx("textarea",{value:yt.content,onChange:q=>I({...yt,content:q.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 h-32 focus:ring-2 ring-blue-500 outline-none transition-all resize-none",placeholder:"..."})]})]}),It==="schedule"&&k.jsxs(k.Fragment,{children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:""}),k.jsx("input",{required:!0,type:"datetime-local",value:yt.date,onChange:q=>I({...yt,date:q.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 focus:ring-2 ring-blue-500 outline-none transition-all"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:""}),k.jsx("textarea",{value:yt.content,onChange:q=>I({...yt,content:q.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 h-24 focus:ring-2 ring-blue-500 outline-none transition-all",placeholder:"..."})]})]}),It==="video"&&k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:" (YouTube)"}),k.jsx("input",{required:!0,type:"url",value:yt.videoUrl,onChange:q=>I({...yt,videoUrl:q.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 focus:ring-2 ring-blue-500 outline-none transition-all",placeholder:"https://www.youtube.com/watch?v=..."}),k.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" YouTube "})]}),It==="todo"&&k.jsxs("div",{children:[k.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:[" ",k.jsx("span",{className:"text-slate-400 font-normal text-xs",children:"()"})]}),k.jsx("textarea",{value:yt.content,onChange:q=>{const st=q.target.value.split(`
`).filter(rt=>rt.trim()).map(rt=>({text:rt,done:!1}));I({...yt,content:q.target.value,todoItems:st})},className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 h-40 focus:ring-2 ring-blue-500 outline-none transition-all font-mono text-sm",placeholder:`

`})]}),k.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-100",children:[k.jsx("button",{type:"button",onClick:()=>gt(!1),className:"px-5 py-2.5 text-slate-500 hover:bg-slate-100 rounded-lg transition-colors font-medium",children:""}),k.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold shadow-lg shadow-blue-200 transition-all active:scale-95",children:""})]})]})]})})]})}qA.createRoot(document.getElementById("root")).render(k.jsx(Jt.StrictMode,{children:k.jsx(TN,{})}));
