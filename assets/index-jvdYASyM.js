(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var xd={exports:{}},vl={};var P_;function Lb(){if(P_)return vl;P_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=i,vl.jsxs=i,vl}var z_;function Pb(){return z_||(z_=1,xd.exports=Lb()),xd.exports}var V=Pb(),Od={exports:{}},At={};var j_;function zb(){if(j_)return At;j_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.iterator;function Q(x){return x===null||typeof x!="object"?null:(x=O&&x[O]||x["@@iterator"],typeof x=="function"?x:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,W={};function mt(x,Y,nt){this.props=x,this.context=Y,this.refs=W,this.updater=nt||J}mt.prototype.isReactComponent={},mt.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},mt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Et(){}Et.prototype=mt.prototype;function gt(x,Y,nt){this.props=x,this.context=Y,this.refs=W,this.updater=nt||J}var Yt=gt.prototype=new Et;Yt.constructor=gt,it(Yt,mt.prototype),Yt.isPureReactComponent=!0;var Jt=Array.isArray;function Nt(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(x,Y,nt){var rt=nt.ref;return{$$typeof:r,type:x,key:Y,ref:rt!==void 0?rt:null,props:nt}}function M(x,Y){return R(x.type,Y,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function k(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(nt){return Y[nt]})}var w=/\/+/g;function wt(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):Y.toString(36)}function Xt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Nt,Nt):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function F(x,Y,nt,rt,_t){var Tt=typeof x;(Tt==="undefined"||Tt==="boolean")&&(x=null);var Mt=!1;if(x===null)Mt=!0;else switch(Tt){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(x.$$typeof){case r:case t:Mt=!0;break;case b:return Mt=x._init,F(Mt(x._payload),Y,nt,rt,_t)}}if(Mt)return _t=_t(x),Mt=rt===""?"."+wt(x,0):rt,Jt(_t)?(nt="",Mt!=null&&(nt=Mt.replace(w,"$&/")+"/"),F(_t,Y,nt,"",function(Bi){return Bi})):_t!=null&&(N(_t)&&(_t=M(_t,nt+(_t.key==null||x&&x.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+Mt)),Y.push(_t)),1;Mt=0;var Ee=rt===""?".":rt+":";if(Jt(x))for(var oe=0;oe<x.length;oe++)rt=x[oe],Tt=Ee+wt(rt,oe),Mt+=F(rt,Y,nt,Tt,_t);else if(oe=Q(x),typeof oe=="function")for(x=oe.call(x),oe=0;!(rt=x.next()).done;)rt=rt.value,Tt=Ee+wt(rt,oe++),Mt+=F(rt,Y,nt,Tt,_t);else if(Tt==="object"){if(typeof x.then=="function")return F(Xt(x),Y,nt,rt,_t);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function et(x,Y,nt){if(x==null)return x;var rt=[],_t=0;return F(x,rt,"","",function(Tt){return Y.call(nt,Tt,_t++)}),rt}function ht(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(nt){(x._status===0||x._status===-1)&&(x._status=1,x._result=nt)},function(nt){(x._status===0||x._status===-1)&&(x._status=2,x._result=nt)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var Ot=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},jt={map:et,forEach:function(x,Y,nt){et(x,function(){Y.apply(this,arguments)},nt)},count:function(x){var Y=0;return et(x,function(){Y++}),Y},toArray:function(x){return et(x,function(Y){return Y})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return At.Activity=A,At.Children=jt,At.Component=mt,At.Fragment=i,At.Profiler=l,At.PureComponent=gt,At.StrictMode=a,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,At.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},At.cache=function(x){return function(){return x.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(x,Y,nt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var rt=it({},x.props),_t=x.key;if(Y!=null)for(Tt in Y.key!==void 0&&(_t=""+Y.key),Y)!S.call(Y,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&Y.ref===void 0||(rt[Tt]=Y[Tt]);var Tt=arguments.length-2;if(Tt===1)rt.children=nt;else if(1<Tt){for(var Mt=Array(Tt),Ee=0;Ee<Tt;Ee++)Mt[Ee]=arguments[Ee+2];rt.children=Mt}return R(x.type,_t,rt)},At.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},At.createElement=function(x,Y,nt){var rt,_t={},Tt=null;if(Y!=null)for(rt in Y.key!==void 0&&(Tt=""+Y.key),Y)S.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=Y[rt]);var Mt=arguments.length-2;if(Mt===1)_t.children=nt;else if(1<Mt){for(var Ee=Array(Mt),oe=0;oe<Mt;oe++)Ee[oe]=arguments[oe+2];_t.children=Ee}if(x&&x.defaultProps)for(rt in Mt=x.defaultProps,Mt)_t[rt]===void 0&&(_t[rt]=Mt[rt]);return R(x,Tt,_t)},At.createRef=function(){return{current:null}},At.forwardRef=function(x){return{$$typeof:p,render:x}},At.isValidElement=N,At.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:ht}},At.memo=function(x,Y){return{$$typeof:_,type:x,compare:Y===void 0?null:Y}},At.startTransition=function(x){var Y=I.T,nt={};I.T=nt;try{var rt=x(),_t=I.S;_t!==null&&_t(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Nt,Ot)}catch(Tt){Ot(Tt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),I.T=Y}},At.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},At.use=function(x){return I.H.use(x)},At.useActionState=function(x,Y,nt){return I.H.useActionState(x,Y,nt)},At.useCallback=function(x,Y){return I.H.useCallback(x,Y)},At.useContext=function(x){return I.H.useContext(x)},At.useDebugValue=function(){},At.useDeferredValue=function(x,Y){return I.H.useDeferredValue(x,Y)},At.useEffect=function(x,Y){return I.H.useEffect(x,Y)},At.useEffectEvent=function(x){return I.H.useEffectEvent(x)},At.useId=function(){return I.H.useId()},At.useImperativeHandle=function(x,Y,nt){return I.H.useImperativeHandle(x,Y,nt)},At.useInsertionEffect=function(x,Y){return I.H.useInsertionEffect(x,Y)},At.useLayoutEffect=function(x,Y){return I.H.useLayoutEffect(x,Y)},At.useMemo=function(x,Y){return I.H.useMemo(x,Y)},At.useOptimistic=function(x,Y){return I.H.useOptimistic(x,Y)},At.useReducer=function(x,Y,nt){return I.H.useReducer(x,Y,nt)},At.useRef=function(x){return I.H.useRef(x)},At.useState=function(x){return I.H.useState(x)},At.useSyncExternalStore=function(x,Y,nt){return I.H.useSyncExternalStore(x,Y,nt)},At.useTransition=function(){return I.H.useTransition()},At.version="19.2.3",At}var B_;function Cm(){return B_||(B_=1,Od.exports=zb()),Od.exports}var Ft=Cm(),Md={exports:{}},El={},Vd={exports:{}},kd={};var q_;function jb(){return q_||(q_=1,(function(r){function t(F,et){var ht=F.length;F.push(et);t:for(;0<ht;){var Ot=ht-1>>>1,jt=F[Ot];if(0<l(jt,et))F[Ot]=et,F[ht]=jt,ht=Ot;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var et=F[0],ht=F.pop();if(ht!==et){F[0]=ht;t:for(var Ot=0,jt=F.length,x=jt>>>1;Ot<x;){var Y=2*(Ot+1)-1,nt=F[Y],rt=Y+1,_t=F[rt];if(0>l(nt,ht))rt<jt&&0>l(_t,nt)?(F[Ot]=_t,F[rt]=ht,Ot=rt):(F[Ot]=nt,F[Y]=ht,Ot=Y);else if(rt<jt&&0>l(_t,ht))F[Ot]=_t,F[rt]=ht,Ot=rt;else break t}}return et}function l(F,et){var ht=F.sortIndex-et.sortIndex;return ht!==0?ht:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,A=null,O=3,Q=!1,J=!1,it=!1,W=!1,mt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Yt(F){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=F)a(_),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(_)}}function Jt(F){if(it=!1,Yt(F),!J)if(i(y)!==null)J=!0,Nt||(Nt=!0,k());else{var et=i(_);et!==null&&Xt(Jt,et.startTime-F)}}var Nt=!1,I=-1,S=5,R=-1;function M(){return W?!0:!(r.unstable_now()-R<S)}function N(){if(W=!1,Nt){var F=r.unstable_now();R=F;var et=!0;try{t:{J=!1,it&&(it=!1,Et(I),I=-1),Q=!0;var ht=O;try{e:{for(Yt(F),A=i(y);A!==null&&!(A.expirationTime>F&&M());){var Ot=A.callback;if(typeof Ot=="function"){A.callback=null,O=A.priorityLevel;var jt=Ot(A.expirationTime<=F);if(F=r.unstable_now(),typeof jt=="function"){A.callback=jt,Yt(F),et=!0;break e}A===i(y)&&a(y),Yt(F)}else a(y);A=i(y)}if(A!==null)et=!0;else{var x=i(_);x!==null&&Xt(Jt,x.startTime-F),et=!1}}break t}finally{A=null,O=ht,Q=!1}et=void 0}}finally{et?k():Nt=!1}}}var k;if(typeof gt=="function")k=function(){gt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,wt=w.port2;w.port1.onmessage=N,k=function(){wt.postMessage(null)}}else k=function(){mt(N,0)};function Xt(F,et){I=mt(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(F){switch(O){case 1:case 2:case 3:var et=3;break;default:et=O}var ht=O;O=et;try{return F()}finally{O=ht}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=O;O=F;try{return et()}finally{O=ht}},r.unstable_scheduleCallback=function(F,et,ht){var Ot=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ot+ht:Ot):ht=Ot,F){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ht+jt,F={id:b++,callback:et,priorityLevel:F,startTime:ht,expirationTime:jt,sortIndex:-1},ht>Ot?(F.sortIndex=ht,t(_,F),i(y)===null&&F===i(_)&&(it?(Et(I),I=-1):it=!0,Xt(Jt,ht-Ot))):(F.sortIndex=jt,t(y,F),J||Q||(J=!0,Nt||(Nt=!0,k()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var et=O;return function(){var ht=O;O=et;try{return F.apply(this,arguments)}finally{O=ht}}}})(kd)),kd}var H_;function Bb(){return H_||(H_=1,Vd.exports=jb()),Vd.exports}var Ud={exports:{}},tn={};var F_;function qb(){if(F_)return tn;F_=1;var r=Cm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,b)},tn.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},tn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},tn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},tn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:Q}):b==="script"&&a.d.X(y,{crossOrigin:A,integrity:O,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},tn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},tn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},tn.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},tn.requestFormReset=function(y){a.d.r(y)},tn.unstable_batchedUpdates=function(y,_){return y(_)},tn.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.3",tn}var G_;function Hb(){if(G_)return Ud.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ud.exports=qb(),Ud.exports}var Q_;function Fb(){if(Q_)return El;Q_=1;var r=Bb(),t=Cm(),i=Hb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Yt=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case mt:return"Profiler";case W:return"StrictMode";case Jt:return"Suspense";case Nt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case gt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Yt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:wt(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return wt(e(n))}catch{}}return null}var Xt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ot=[],jt=-1;function x(e){return{current:e}}function Y(e){0>jt||(e.current=Ot[jt],Ot[jt]=null,jt--)}function nt(e,n){jt++,Ot[jt]=e.current,e.current=n}var rt=x(null),_t=x(null),Tt=x(null),Mt=x(null);function Ee(e,n){switch(nt(Tt,n),nt(_t,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?o_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=o_(n),e=l_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),nt(rt,e)}function oe(){Y(rt),Y(_t),Y(Tt)}function Bi(e){e.memoizedState!==null&&nt(Mt,e);var n=rt.current,s=l_(n,e.type);n!==s&&(nt(_t,e),nt(rt,s))}function vs(e){_t.current===e&&(Y(rt),Y(_t)),Mt.current===e&&(Y(Mt),gl._currentValue=ht)}var Es,Ts;function yn(e){if(Es===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Es=n&&n[1]||"",Ts=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+e+Ts}var br=!1;function ci(e,n){if(!e||br)return"";br=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var j=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){j=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){j=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var G=`
`+C[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{br=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?yn(s):""}function bs(e,n){switch(e.tag){case 26:case 27:case 5:return yn(e.type);case 16:return yn("Lazy");case 13:return e.child!==n&&n!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return ci(e.type,!1);case 11:return ci(e.type.render,!1);case 1:return ci(e.type,!0);case 31:return yn("Activity");default:return""}}function As(e){try{var n="",s=null;do n+=bs(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var q=Object.prototype.hasOwnProperty,at=r.unstable_scheduleCallback,ct=r.unstable_cancelCallback,In=r.unstable_shouldYield,ue=r.unstable_requestPaint,Gt=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,$t=r.unstable_ImmediatePriority,hi=r.unstable_UserBlockingPriority,Nn=r.unstable_NormalPriority,qi=r.unstable_LowPriority,tu=r.unstable_IdlePriority,eu=r.log,nu=r.unstable_setDisableYieldValue,$n=null,Fe=null;function Dn(e){if(typeof eu=="function"&&nu(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode($n,e)}catch{}}var Te=Math.clz32?Math.clz32:su,iu=Math.log,oa=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(iu(e)/oa|0)|0}var fi=256,Ar=262144,Ce=4194304;function di(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=di(o):(g&=E,g!==0?h=di(g):s||(s=E&~e,s!==0&&(h=di(s))))):(E=o&~f,E!==0?h=di(E):g!==0?h=di(g):s||(s=o&~e,s!==0&&(h=di(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),e}function gi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-Te(s),X=1<<G;E[G]=0,C[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}s&=~X}o!==0&&wr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function wr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Te(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Eo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Te(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function To(e,n){var s=n&-n;return s=(s&42)!==0?1:Rr(s),(s&(e.suspendedLanes|n))!==0?0:s}function Rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:x_(e.type))}function Jn(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var Wn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Wn,je="__reactProps$"+Wn,pi="__reactContainer$"+Wn,la="__reactEvents$"+Wn,Uh="__reactListeners$"+Wn,ou="__reactHandles$"+Wn,lu="__reactResources$"+Wn,yi="__reactMarker$"+Wn;function ua(e){delete e[Ie],delete e[je],delete e[la],delete e[Uh],delete e[ou]}function _i(e){var n=e[Ie];if(n)return n;for(var s=e.parentNode;s;){if(n=s[pi]||s[Ie]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=g_(e);e!==null;){if(s=e[Ie])return s;e=g_(e)}return n}e=s,s=e.parentNode}return null}function xn(e){if(e=e[Ie]||e[pi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _n(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function vi(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(e){e[yi]=!0}var bo=new Set,Ao={};function Ei(e,n){Ti(e,n),Ti(e+"Capture",n)}function Ti(e,n){for(Ao[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function uu(e){return q.call(Ro,e)?!0:q.call(wo,e)?!1:So.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function ca(e,n,s){if(uu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function vn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function De(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wt(e){if(!e._valueTracker){var n=Ss(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function Cr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Ss(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ir=/[\n"\\]/g;function ln(e){return e.replace(Ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ha(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Io(e,g,Be(n)):s!=null?Io(e,g,Be(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Be(E):e.removeAttribute("name")}function cu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Wt(e);return}s=s!=null?""+Be(s):"",n=n!=null?""+Be(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Wt(e)}function Io(e,n,s){n==="number"&&bi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ws(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Be(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,s){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Be(s):""}function Rs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Xt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Be(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Wt(e)}function un(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||fu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Do(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&No(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(e,f,n[f])}function fa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(e){return Cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var xo=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Is=null,Ai=null;function Nr(e){var n=xn(e);if(n&&(e=n.stateNode)){var s=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(ha(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(a(90));ha(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Cr(o)}break t;case"textarea":hu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ws(e,!!s.multiple,n,!1)}}}var ma=!1;function Ns(e,n,s){if(ma)return e(n,s);ma=!0;try{var o=e(n);return o}finally{if(ma=!1,(Is!==null||Ai!==null)&&(ac(),Is&&(n=Is,e=Ai,Ai=Is=null,Nr(n),e)))for(n=0;n<e.length;n++)Nr(e[n])}}function ei(e,n){var s=e.stateNode;if(s===null)return null;var o=s[je]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Mn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Dr=!1}var Si=null,Oo=null,xr=null;function Mo(){if(xr)return xr;var e,n=Oo,s=n.length,o,h="value"in Si?Si.value:Si.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return xr=h.slice(e,1<o?1-o:void 0)}function Or(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function ni(){return!1}function Ge(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fi:ni,this.isPropagationStopped=ni,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Ge(Gi),Ds=A({},Gi,{view:0,detail:0}),Vo=Ge(Ds),xs,ga,Ri,pa=A({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(xs=e.screenX-Ri.screenX,ga=e.screenY-Ri.screenY):ga=xs=0,Ri=e),xs)},movementY:function(e){return"movementY"in e?e.movementY:ga}}),ko=Ge(pa),Mr=A({},pa,{dataTransfer:0}),mu=Ge(Mr),gu=A({},Ds,{relatedTarget:0}),Vr=Ge(gu),Uo=A({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Ge(Uo),ya=A({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=Ge(ya),_u=A({},Gi,{data:0}),Ci=Ge(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function Os(){return bu}var an=A({},Ds,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=Ge(an),Su=A({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Ge(Su),u=A({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=Ge(u),v=A({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ge(v),L=A({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ge(L),tt=A({},Gi,{newState:0,oldState:0}),Rt=Ge(tt),be=[9,13,27,32],Qt=Mn&&"CompositionEvent"in window,me=null;Mn&&"documentMode"in document&&(me=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!me,Ii=Mn&&(!Qt||me&&8<me&&11>=me),ii=" ",si=!1;function kr(e,n){switch(e){case"keyup":return be.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function o1(e,n){switch(e){case"compositionend":return _a(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return e=n.data,e===ii&&si?null:e;default:return null}}function l1(e,n){if(va)return e==="compositionend"||!Qt&&kr(e,n)?(e=Mo(),xr=Oo=Si=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ii&&n.locale!=="ko"?null:n.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!u1[e.type]:n==="textarea"}function vg(e,n,s,o){Is?Ai?Ai.push(o):Ai=[o]:Is=o,n=dc(n,"onChange"),0<n.length&&(s=new wi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Lo=null,Po=null;function c1(e){e_(e,0)}function wu(e){var n=_n(e);if(Cr(n))return e}function Eg(e,n){if(e==="change")return n}var Tg=!1;if(Mn){var Lh;if(Mn){var Ph="oninput"in document;if(!Ph){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),Ph=typeof bg.oninput=="function"}Lh=Ph}else Lh=!1;Tg=Lh&&(!document.documentMode||9<document.documentMode)}function Ag(){Lo&&(Lo.detachEvent("onpropertychange",Sg),Po=Lo=null)}function Sg(e){if(e.propertyName==="value"&&wu(Po)){var n=[];vg(n,Po,e,On(e)),Ns(c1,n)}}function h1(e,n,s){e==="focusin"?(Ag(),Lo=n,Po=s,Lo.attachEvent("onpropertychange",Sg)):e==="focusout"&&Ag()}function f1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Po)}function d1(e,n){if(e==="click")return wu(n)}function m1(e,n){if(e==="input"||e==="change")return wu(n)}function g1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var En=typeof Object.is=="function"?Object.is:g1;function zo(e,n){if(En(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!q.call(n,h)||!En(e[h],n[h]))return!1}return!0}function wg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rg(e,n){var s=wg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=wg(s)}}function Cg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Cg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=bi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=bi(e.document)}return n}function zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var p1=Mn&&"documentMode"in document&&11>=document.documentMode,Ea=null,jh=null,jo=null,Bh=!1;function Ng(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Bh||Ea==null||Ea!==bi(o)||(o=Ea,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&zo(jo,o)||(jo=o,o=dc(jh,"onSelect"),0<o.length&&(n=new wi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=Ea)))}function Ur(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ta={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},qh={},Dg={};Mn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Lr(e){if(qh[e])return qh[e];if(!Ta[e])return e;var n=Ta[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Dg)return qh[e]=n[s];return e}var xg=Lr("animationend"),Og=Lr("animationiteration"),Mg=Lr("animationstart"),y1=Lr("transitionrun"),_1=Lr("transitionstart"),v1=Lr("transitioncancel"),Vg=Lr("transitionend"),kg=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function ri(e,n){kg.set(e,n),Ei(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],ba=0,Fh=0;function Cu(){for(var e=ba,n=Fh=ba=0;n<e;){var s=kn[n];kn[n++]=null;var o=kn[n];kn[n++]=null;var h=kn[n];kn[n++]=null;var f=kn[n];if(kn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Ug(s,h,f)}}function Iu(e,n,s,o){kn[ba++]=e,kn[ba++]=n,kn[ba++]=s,kn[ba++]=o,Fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,s,o){return Iu(e,n,s,o),Nu(e)}function Pr(e,n){return Iu(e,null,null,n),Nu(e)}function Ug(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Te(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Nu(e){if(50<ll)throw ll=0,ed=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Aa={};function E1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,n,s,o){return new E1(e,n,s,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,n){var s=e.alternate;return s===null?(s=Tn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Lg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Qh(e)&&(g=1);else if(typeof e=="string")g=wb(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Tn(31,s,n,h),e.elementType=R,e.lanes=f,e;case it:return zr(s.children,h,f,n);case W:g=8,h|=24;break;case mt:return e=Tn(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case Jt:return e=Tn(13,s,n,h),e.elementType=Jt,e.lanes=f,e;case Nt:return e=Tn(19,s,n,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:g=10;break t;case Et:g=9;break t;case Yt:g=11;break t;case I:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Tn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function zr(e,n,s,o){return e=Tn(7,e,o,n),e.lanes=s,e}function Kh(e,n,s){return e=Tn(6,e,null,n),e.lanes=s,e}function Pg(e){var n=Tn(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,s){return n=Tn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zg=new WeakMap;function Un(e,n){if(typeof e=="object"&&e!==null){var s=zg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:As(n)},zg.set(e,n),n)}return{value:e,source:n,stack:As(n)}}var Sa=[],wa=0,xu=null,Bo=0,Ln=[],Pn=0,Ms=null,Ni=1,Di="";function Yi(e,n){Sa[wa++]=Bo,Sa[wa++]=xu,xu=e,Bo=n}function jg(e,n,s){Ln[Pn++]=Ni,Ln[Pn++]=Di,Ln[Pn++]=Ms,Ms=e;var o=Ni;e=Di;var h=32-Te(o)-1;o&=~(1<<h),s+=1;var f=32-Te(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ni=1<<32-Te(n)+h|s<<h|o,Di=f+e}else Ni=1<<f|s<<h|o,Di=e}function Xh(e){e.return!==null&&(Yi(e,1),jg(e,1,0))}function $h(e){for(;e===xu;)xu=Sa[--wa],Sa[wa]=null,Bo=Sa[--wa],Sa[wa]=null;for(;e===Ms;)Ms=Ln[--Pn],Ln[Pn]=null,Di=Ln[--Pn],Ln[Pn]=null,Ni=Ln[--Pn],Ln[Pn]=null}function Bg(e,n){Ln[Pn++]=Ni,Ln[Pn++]=Di,Ln[Pn++]=Ms,Ni=n.id,Di=n.overflow,Ms=e}var Qe=null,he=null,zt=!1,Vs=null,zn=!1,Zh=Error(a(519));function ks(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(Un(n,e)),Zh}function qg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ie]=e,n[je]=o,s){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(s=0;s<cl.length;s++)xt(cl[s],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),Rs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||r_(n.textContent,s)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||ks(e,!0)}function Hg(e){for(Qe=e.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Qe=Qe.return}}function Ra(e){if(e!==Qe)return!1;if(!zt)return Hg(e),zt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||pd(e.type,e.memoizedProps)),s=!s),s&&he&&ks(e),Hg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));he=m_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));he=m_(e)}else n===27?(n=he,Xs(e.type)?(e=Td,Td=null,he=e):he=n):he=Qe?Bn(e.stateNode.nextSibling):null;return!0}function jr(){he=Qe=null,zt=!1}function Jh(){var e=Vs;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Vs=null),e}function qo(e){Vs===null?Vs=[e]:Vs.push(e)}var Wh=x(null),Br=null,Xi=null;function Us(e,n,s){nt(Wh,n._currentValue),n._currentValue=s}function $i(e){e._currentValue=Wh.current,Y(Wh)}function tf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function ef(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),tf(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),tf(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ca(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;En(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&ef(n,e,s,o),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){Br=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Fg(Br,e)}function Mu(e,n){return Br===null&&qr(e),Fg(e,n)}function Fg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Xi===null){if(e===null)throw Error(a(308));Xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Xi=Xi.next=n;return s}var T1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},b1=r.unstable_scheduleCallback,A1=r.unstable_NormalPriority,xe={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new T1,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&b1(A1,function(){e.controller.abort()})}var Fo=null,sf=0,Ia=0,Na=null;function S1(e,n){if(Fo===null){var s=Fo=[];sf=0,Ia=od(),Na={status:"pending",value:void 0,then:function(o){s.push(o)}}}return sf++,n.then(Gg,Gg),n}function Gg(){if(--sf===0&&Fo!==null){Na!==null&&(Na.status="fulfilled");var e=Fo;Fo=null,Ia=0,Na=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function w1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Qg=F.S;F.S=function(e,n){Ny=Gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&S1(e,n),Qg!==null&&Qg(e,n)};var Hr=x(null);function rf(){var e=Hr.current;return e!==null?e:ae.pooledCache}function Vu(e,n){n===null?nt(Hr,Hr.current):nt(Hr,n.pool)}function Kg(){var e=rf();return e===null?null:{parent:xe._currentValue,pool:e}}var Da=Error(a(460)),af=Error(a(474)),ku=Error(a(542)),Uu={then:function(){}};function Yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ti,ti),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zg(e),e;default:if(typeof n.status=="string")n.then(ti,ti);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zg(e),e}throw Gr=n,Da}}function Fr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Gr=s,Da):s}}var Gr=null;function $g(){if(Gr===null)throw Error(a(459));var e=Gr;return Gr=null,e}function Zg(e){if(e===Da||e===ku)throw Error(a(483))}var xa=null,Go=0;function Lu(e){var n=Go;return Go+=1,xa===null&&(xa=[]),Xg(xa,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jg(e){function n(U,D){if(e){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function s(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Ki(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,P,K){return D===null||D.tag!==6?(D=Kh(P,U.mode,K),D.return=U,D):(D=h(D,P),D.return=U,D)}function C(U,D,P,K){var ft=P.type;return ft===it?G(U,D,P.props.children,K,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Fr(ft)===D.type)?(D=h(D,P.props),Qo(D,P),D.return=U,D):(D=Du(P.type,P.key,P.props,null,U.mode,K),Qo(D,P),D.return=U,D)}function z(U,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Yh(P,U.mode,K),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function G(U,D,P,K,ft){return D===null||D.tag!==7?(D=zr(P,U.mode,K,ft),D.return=U,D):(D=h(D,P),D.return=U,D)}function X(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Kh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return P=Du(D.type,D.key,D.props,null,U.mode,P),Qo(P,D),P.return=U,P;case J:return D=Yh(D,U.mode,P),D.return=U,D;case S:return D=Fr(D),X(U,D,P)}if(Xt(D)||k(D))return D=zr(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return X(U,Lu(D),P);if(D.$$typeof===gt)return X(U,Mu(U,D),P);Pu(U,D)}return null}function j(U,D,P,K){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(U,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ft?C(U,D,P,K):null;case J:return P.key===ft?z(U,D,P,K):null;case S:return P=Fr(P),j(U,D,P,K)}if(Xt(P)||k(P))return ft!==null?null:G(U,D,P,K,null);if(typeof P.then=="function")return j(U,D,Lu(P),K);if(P.$$typeof===gt)return j(U,D,Mu(U,P),K);Pu(U,P)}return null}function H(U,D,P,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(P)||null,E(D,U,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return U=U.get(K.key===null?P:K.key)||null,C(D,U,K,ft);case J:return U=U.get(K.key===null?P:K.key)||null,z(D,U,K,ft);case S:return K=Fr(K),H(U,D,P,K,ft)}if(Xt(K)||k(K))return U=U.get(P)||null,G(D,U,K,ft,null);if(typeof K.then=="function")return H(U,D,P,Lu(K),ft);if(K.$$typeof===gt)return H(U,D,P,Mu(D,K),ft);Pu(D,K)}return null}function lt(U,D,P,K){for(var ft=null,qt=null,ut=D,It=D=0,kt=null;ut!==null&&It<P.length;It++){ut.index>It?(kt=ut,ut=null):kt=ut.sibling;var Ht=j(U,ut,P[It],K);if(Ht===null){ut===null&&(ut=kt);break}e&&ut&&Ht.alternate===null&&n(U,ut),D=f(Ht,D,It),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht,ut=kt}if(It===P.length)return s(U,ut),zt&&Yi(U,It),ft;if(ut===null){for(;It<P.length;It++)ut=X(U,P[It],K),ut!==null&&(D=f(ut,D,It),qt===null?ft=ut:qt.sibling=ut,qt=ut);return zt&&Yi(U,It),ft}for(ut=o(ut);It<P.length;It++)kt=H(ut,U,It,P[It],K),kt!==null&&(e&&kt.alternate!==null&&ut.delete(kt.key===null?It:kt.key),D=f(kt,D,It),qt===null?ft=kt:qt.sibling=kt,qt=kt);return e&&ut.forEach(function(tr){return n(U,tr)}),zt&&Yi(U,It),ft}function pt(U,D,P,K){if(P==null)throw Error(a(151));for(var ft=null,qt=null,ut=D,It=D=0,kt=null,Ht=P.next();ut!==null&&!Ht.done;It++,Ht=P.next()){ut.index>It?(kt=ut,ut=null):kt=ut.sibling;var tr=j(U,ut,Ht.value,K);if(tr===null){ut===null&&(ut=kt);break}e&&ut&&tr.alternate===null&&n(U,ut),D=f(tr,D,It),qt===null?ft=tr:qt.sibling=tr,qt=tr,ut=kt}if(Ht.done)return s(U,ut),zt&&Yi(U,It),ft;if(ut===null){for(;!Ht.done;It++,Ht=P.next())Ht=X(U,Ht.value,K),Ht!==null&&(D=f(Ht,D,It),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return zt&&Yi(U,It),ft}for(ut=o(ut);!Ht.done;It++,Ht=P.next())Ht=H(ut,U,It,Ht.value,K),Ht!==null&&(e&&Ht.alternate!==null&&ut.delete(Ht.key===null?It:Ht.key),D=f(Ht,D,It),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return e&&ut.forEach(function(Ub){return n(U,Ub)}),zt&&Yi(U,It),ft}function re(U,D,P,K){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===it){if(D.tag===7){s(U,D.sibling),K=h(D,P.props.children),K.return=U,U=K;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Fr(ft)===D.type){s(U,D.sibling),K=h(D,P.props),Qo(K,P),K.return=U,U=K;break t}s(U,D);break}else n(U,D);D=D.sibling}P.type===it?(K=zr(P.props.children,U.mode,K,P.key),K.return=U,U=K):(K=Du(P.type,P.key,P.props,null,U.mode,K),Qo(K,P),K.return=U,U=K)}return g(U);case J:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(U,D.sibling),K=h(D,P.children||[]),K.return=U,U=K;break t}else{s(U,D);break}else n(U,D);D=D.sibling}K=Yh(P,U.mode,K),K.return=U,U=K}return g(U);case S:return P=Fr(P),re(U,D,P,K)}if(Xt(P))return lt(U,D,P,K);if(k(P)){if(ft=k(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),pt(U,D,P,K)}if(typeof P.then=="function")return re(U,D,Lu(P),K);if(P.$$typeof===gt)return re(U,D,Mu(U,P),K);Pu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(U,D.sibling),K=h(D,P),K.return=U,U=K):(s(U,D),K=Kh(P,U.mode,K),K.return=U,U=K),g(U)):s(U,D)}return function(U,D,P,K){try{Go=0;var ft=re(U,D,P,K);return xa=null,ft}catch(ut){if(ut===Da||ut===ku)throw ut;var qt=Tn(29,ut,null,U.mode);return qt.lanes=K,qt.return=U,qt}}}var Qr=Jg(!0),Wg=Jg(!1),Ls=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ps(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(e),Ug(e,null,s),n}return Iu(e,o,n,s),Nu(e)}function Ko(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Eo(e,s)}}function uf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var cf=!1;function Yo(){if(cf){var e=Na;if(e!==null)throw e}}function Xo(e,n,s,o){cf=!1;var h=e.updateQueue;Ls=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,G=z=C=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Vt&j)===j:(o&j)===j){j!==0&&j===Ia&&(cf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,pt=E;j=n;var re=s;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){X=lt.call(re,X,j);break t}X=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,j=typeof lt=="function"?lt.call(re,X,j):lt,j==null)break t;X=A({},X,j);break t;case 2:Ls=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,C=X):G=G.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Fs|=g,e.lanes=g,e.memoizedState=X}}function tp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ep(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)tp(s[e],n)}var Oa=x(null),zu=x(0);function np(e,n){e=rs,nt(zu,e),nt(Oa,n),rs=e|n.baseLanes}function hf(){nt(zu,rs),nt(Oa,Oa.current)}function ff(){rs=zu.current,Y(Oa),Y(zu)}var bn=x(null),jn=null;function js(e){var n=e.alternate;nt(Ae,Ae.current&1),nt(bn,e),jn===null&&(n===null||Oa.current!==null||n.memoizedState!==null)&&(jn=e)}function df(e){nt(Ae,Ae.current),nt(bn,e),jn===null&&(jn=e)}function ip(e){e.tag===22?(nt(Ae,Ae.current),nt(bn,e),jn===null&&(jn=e)):Bs()}function Bs(){nt(Ae,Ae.current),nt(bn,bn.current)}function An(e){Y(bn),jn===e&&(jn=null),Y(Ae)}var Ae=x(0);function ju(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||vd(s)||Ed(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,Ct=null,ie=null,Oe=null,Bu=!1,Ma=!1,Kr=!1,qu=0,$o=0,Va=null,R1=0;function ye(){throw Error(a(321))}function mf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!En(e[s],n[s]))return!1;return!0}function gf(e,n,s,o,h,f){return Zi=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?jp:Df,Kr=!1,f=s(o,h),Kr=!1,Ma&&(f=rp(n,s,o,h)),sp(e),f}function sp(e){F.H=Wo;var n=ie!==null&&ie.next!==null;if(Zi=0,Oe=ie=Ct=null,Bu=!1,$o=0,Va=null,n)throw Error(a(300));e===null||Me||(e=e.dependencies,e!==null&&Ou(e)&&(Me=!0))}function rp(e,n,s,o){Ct=e;var h=0;do{if(Ma&&(Va=null),$o=0,Ma=!1,25<=h)throw Error(a(301));if(h+=1,Oe=ie=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Bp,f=n(s,o)}while(Ma);return f}function C1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Zo(n):n,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Ct.flags|=1024),n}function pf(){var e=qu!==0;return qu=0,e}function yf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function _f(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}Zi=0,Oe=ie=Ct=null,Ma=!1,$o=qu=0,Va=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Ct.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Se(){if(ie===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var n=Oe===null?Ct.memoizedState:Oe.next;if(n!==null)Oe=n,ie=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Oe===null?Ct.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var n=$o;return $o+=1,Va===null&&(Va=[]),e=Xg(Va,e,n),n=Ct,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?jp:Df),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===gt)return Ke(e)}throw Error(a(438,String(e)))}function vf(e){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Hu(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function Ji(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=Se();return Ef(n,ie,e)}function Ef(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Vt&X)===X:(Zi&X)===X){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ia&&(G=!0);else if((Zi&j)===j){z=z.next,j===Ia&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=X,g=f):C=C.next=X,Ct.lanes|=j,Fs|=j;X=z.action,Kr&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,g=f):C=C.next=j,Ct.lanes|=X,Fs|=X;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!En(f,e.memoizedState)&&(Me=!0,G&&(s=Na,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Tf(e){var n=Se(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);En(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ap(e,n,s){var o=Ct,h=Se(),f=zt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!En((ie||h).memoizedState,s);if(g&&(h.memoizedState=s,Me=!0),h=h.queue,Sf(up.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Oe!==null&&Oe.memoizedState.tag&1){if(o.flags|=2048,ka(9,{destroy:void 0},lp.bind(null,o,h,s,n),null),ae===null)throw Error(a(349));f||(Zi&127)!==0||op(o,n,s)}return s}function op(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=Hu(),Ct.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function lp(e,n,s,o){n.value=s,n.getSnapshot=o,cp(n)&&hp(e)}function up(e,n,s){return s(function(){cp(n)&&hp(e)})}function cp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!En(e,s)}catch{return!0}}function hp(e){var n=Pr(e,2);n!==null&&mn(n,e,2)}function bf(e){var n=on();if(typeof e=="function"){var s=e;if(e=s(),Kr){Dn(!0);try{s()}finally{Dn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function fp(e,n,s,o){return e.baseState=s,Ef(e,ie,typeof o=="function"?o:Ji)}function I1(e,n,s,o,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,dp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function dp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(h,o),C=F.S;C!==null&&C(g,E),mp(e,n,E)}catch(z){Af(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),mp(e,n,f)}catch(z){Af(e,n,z)}}function mp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){gp(e,n,o)},function(o){return Af(e,n,o)}):gp(e,n,s)}function gp(e,n,s){n.status="fulfilled",n.value=s,pp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,dp(e,s)))}function Af(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,pp(n),n=n.next;while(n!==o)}e.action=null}function pp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function yp(e,n){return n}function _p(e,n){if(zt){var s=ae.formState;if(s!==null){t:{var o=Ct;if(zt){if(he){e:{for(var h=he,f=zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){he=Bn(h.nextSibling),o=h.data==="F!";break t}}ks(o)}o=!1}o&&(n=s[0])}}return s=on(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:n},s.queue=o,s=Lp.bind(null,Ct,o),o.dispatch=s,o=bf(!1),f=Nf.bind(null,Ct,!1,o.queue),o=on(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=I1.bind(null,Ct,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function vp(e){var n=Se();return Ep(n,ie,e)}function Ep(e,n,s){if(n=Ef(e,n,yp)[0],e=Gu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Zo(n)}catch(g){throw g===Da?ku:g}else o=n;n=Se();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,ka(9,{destroy:void 0},N1.bind(null,h,s),null)),[o,f,e]}function N1(e,n){e.action=n}function Tp(e){var n=Se(),s=ie;if(s!==null)return Ep(n,s,e);Se(),n=n.memoizedState,s=Se();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function ka(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Hu(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function bp(){return Se().memoizedState}function Qu(e,n,s,o){var h=on();Ct.flags|=e,h.memoizedState=ka(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ku(e,n,s,o){var h=Se();o=o===void 0?null:o;var f=h.memoizedState.inst;ie!==null&&o!==null&&mf(o,ie.memoizedState.deps)?h.memoizedState=ka(n,f,s,o):(Ct.flags|=e,h.memoizedState=ka(1|n,f,s,o))}function Ap(e,n){Qu(8390656,8,e,n)}function Sf(e,n){Ku(2048,8,e,n)}function D1(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Hu(),Ct.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Sp(e){var n=Se().memoizedState;return D1({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function wp(e,n){return Ku(4,2,e,n)}function Rp(e,n){return Ku(4,4,e,n)}function Cp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ip(e,n,s){s=s!=null?s.concat([e]):null,Ku(4,4,Cp.bind(null,n,e),s)}function wf(){}function Np(e,n){var s=Se();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&mf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Dp(e,n){var s=Se();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&mf(n,o[1]))return o[0];if(o=e(),Kr){Dn(!0);try{e()}finally{Dn(!1)}}return s.memoizedState=[o,n],o}function Rf(e,n,s){return s===void 0||(Zi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=xy(),Ct.lanes|=e,Fs|=e,s)}function xp(e,n,s,o){return En(s,n)?s:Oa.current!==null?(e=Rf(e,s,o),En(e,n)||(Me=!0),e):(Zi&42)===0||(Zi&1073741824)!==0&&(Vt&261930)===0?(Me=!0,e.memoizedState=s):(e=xy(),Ct.lanes|=e,Fs|=e,n)}function Op(e,n,s,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Nf(e,!1,n,s);try{var C=h(),z=F.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=w1(C,o);Jo(e,n,G,Rn(e))}else Jo(e,n,o,Rn(e))}catch(X){Jo(e,n,{then:function(){},status:"rejected",reason:X},Rn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function x1(){}function Cf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Mp(e).queue;Op(e,h,n,ht,s===null?x1:function(){return Vp(e),s(o)})}function Mp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Vp(e){var n=Mp(e);n.next===null&&(n=e.alternate.memoizedState),Jo(e,n.next.queue,{},Rn())}function If(){return Ke(gl)}function kp(){return Se().memoizedState}function Up(){return Se().memoizedState}function O1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Rn();e=Ps(s);var o=zs(n,e,s);o!==null&&(mn(o,n,s),Ko(o,n,s)),n={cache:nf()},e.payload=n;return}n=n.return}}function M1(e,n,s){var o=Rn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Pp(n,s):(s=Gh(e,n,s,o),s!==null&&(mn(s,e,o),zp(s,n,o)))}function Lp(e,n,s){var o=Rn();Jo(e,n,s,o)}function Jo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Pp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,En(E,g))return Iu(e,n,h,0),ae===null&&Cu(),!1}catch{}if(s=Gh(e,n,h,o),s!==null)return mn(s,e,o),zp(s,n,o),!0}return!1}function Nf(e,n,s,o){if(o={lane:2,revertLane:od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=Gh(e,s,o,2),n!==null&&mn(n,e,2)}function Yu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Pp(e,n){Ma=Bu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function zp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Eo(e,s)}}var Wo={readContext:Ke,use:Fu,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};Wo.useEffectEvent=ye;var jp={readContext:Ke,use:Fu,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:Ap,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Qu(4194308,4,Cp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var s=on();n=n===void 0?null:n;var o=e();if(Kr){Dn(!0);try{e()}finally{Dn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=on();if(s!==void 0){var h=s(n);if(Kr){Dn(!0);try{s(n)}finally{Dn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=M1.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=bf(e);var n=e.queue,s=Lp.bind(null,Ct,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:wf,useDeferredValue:function(e,n){var s=on();return Rf(s,e,n)},useTransition:function(){var e=bf(!1);return e=Op.bind(null,Ct,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Ct,h=on();if(zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ae===null)throw Error(a(349));(Vt&127)!==0||op(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Ap(up.bind(null,o,f,e),[e]),o.flags|=2048,ka(9,{destroy:void 0},lp.bind(null,o,f,s,n),null),s},useId:function(){var e=on(),n=ae.identifierPrefix;if(zt){var s=Di,o=Ni;s=(o&~(1<<32-Te(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=R1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:If,useFormState:_p,useActionState:_p,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Nf.bind(null,Ct,!0,s),s.dispatch=n,[e,n]},useMemoCache:vf,useCacheRefresh:function(){return on().memoizedState=O1.bind(null,Ct)},useEffectEvent:function(e){var n=on(),s={impl:e};return n.memoizedState=s,function(){if((Kt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Df={readContext:Ke,use:Fu,useCallback:Np,useContext:Ke,useEffect:Sf,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:Rp,useMemo:Dp,useReducer:Gu,useRef:bp,useState:function(){return Gu(Ji)},useDebugValue:wf,useDeferredValue:function(e,n){var s=Se();return xp(s,ie.memoizedState,e,n)},useTransition:function(){var e=Gu(Ji)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:ap,useId:kp,useHostTransitionStatus:If,useFormState:vp,useActionState:vp,useOptimistic:function(e,n){var s=Se();return fp(s,ie,e,n)},useMemoCache:vf,useCacheRefresh:Up};Df.useEffectEvent=Sp;var Bp={readContext:Ke,use:Fu,useCallback:Np,useContext:Ke,useEffect:Sf,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:Rp,useMemo:Dp,useReducer:Tf,useRef:bp,useState:function(){return Tf(Ji)},useDebugValue:wf,useDeferredValue:function(e,n){var s=Se();return ie===null?Rf(s,e,n):xp(s,ie.memoizedState,e,n)},useTransition:function(){var e=Tf(Ji)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:ap,useId:kp,useHostTransitionStatus:If,useFormState:Tp,useActionState:Tp,useOptimistic:function(e,n){var s=Se();return ie!==null?fp(s,ie,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Up};Bp.useEffectEvent=Sp;function xf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Of={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Rn(),h=Ps(o);h.payload=n,s!=null&&(h.callback=s),n=zs(e,h,o),n!==null&&(mn(n,e,o),Ko(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Rn(),h=Ps(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=zs(e,h,o),n!==null&&(mn(n,e,o),Ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Rn(),o=Ps(s);o.tag=2,n!=null&&(o.callback=n),n=zs(e,o,s),n!==null&&(mn(n,e,s),Ko(n,e,s))}};function qp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!zo(s,o)||!zo(h,f):!0}function Hp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Of.enqueueReplaceState(n,n.state,null)}function Yr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Fp(e){Ru(e)}function Gp(e){console.error(e)}function Qp(e){Ru(e)}function Xu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Kp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,s){return s=Ps(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(e,n)},s}function Yp(e){return e=Ps(e),e.tag=3,e}function Xp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Kp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Kp(n,s,o),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function V1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ca(n,s,h,!0),s=bn.current,s!==null){switch(s.tag){case 31:case 13:return jn===null?oc():s.alternate===null&&_e===0&&(_e=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),sd(e,o,h)),!1;case 22:return s.flags|=65536,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),sd(e,o,h)),!1}throw Error(a(435,s.tag))}return sd(e,o,h),oc(),!1}if(zt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Zh&&(e=Error(a(422),{cause:o}),qo(Un(e,s)))):(o!==Zh&&(n=Error(a(423),{cause:o}),qo(Un(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Un(o,s),h=Mf(e.stateNode,o,h),uf(e,h),_e!==4&&(_e=2)),!1;var f=Error(a(520),{cause:o});if(f=Un(f,s),ol===null?ol=[f]:ol.push(f),_e!==4&&(_e=2),n===null)return!0;o=Un(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Mf(s.stateNode,o,e),uf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gs===null||!Gs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Yp(h),Xp(h,e,s,o),uf(s,h),!1}s=s.return}while(s!==null);return!1}var Vf=Error(a(461)),Me=!1;function Ye(e,n,s,o){n.child=e===null?Wg(n,null,s,o):Qr(n,e.child,s,o)}function $p(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return qr(n),o=gf(e,n,s,g,f,h),E=pf(),e!==null&&!Me?(yf(e,n,h),Wi(e,n,h)):(zt&&E&&Xh(n),n.flags|=1,Ye(e,n,o,h),n.child)}function Zp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Jp(e,n,f,o,h)):(e=Du(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!qf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:zo,s(g,o)&&e.ref===n.ref)return Wi(e,n,h)}return n.flags|=1,e=Ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function Jp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(zo(f,o)&&e.ref===n.ref)if(Me=!1,n.pendingProps=o=f,qf(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,Wi(e,n,h)}return kf(e,n,s,o,h)}function Wp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ty(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?np(n,f):hf(),ip(n);else return o=n.lanes=536870912,ty(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Vu(n,f.cachePool),np(n,f),Bs(),n.memoizedState=null):(e!==null&&Vu(n,null),hf(),Bs());return Ye(e,n,h,s),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ty(e,n,s,o,h){var f=rf();return f=f===null?null:{parent:xe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Vu(n,null),hf(),ip(n),e!==null&&Ca(e,n,o,!0),n.childLanes=h,null}function $u(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ey(e,n,s){return Qr(n,e.child,null,s),e=$u(n,n.pendingProps),e.flags|=2,An(n),n.memoizedState=null,e}function k1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(zt){if(o.mode==="hidden")return e=$u(n,o),n.lanes=536870912,tl(null,e);if(df(n),(e=he)?(e=d_(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},s=Pg(e),s.return=n,n.child=s,Qe=n,he=null)):e=null,e===null)throw ks(n);return n.lanes=536870912,null}return $u(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=ey(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Me||Ca(e,n,s,!1),h=(s&e.childLanes)!==0,Me||h){if(o=ae,o!==null&&(g=To(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Pr(e,g),mn(o,e,g),Vf;oc(),n=ey(e,n,s)}else e=f.treeContext,he=Bn(g.nextSibling),Qe=n,zt=!0,Vs=null,zn=!1,e!==null&&Bg(n,e),n=$u(n,o),n.flags|=4096;return n}return e=Ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Zu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function kf(e,n,s,o,h){return qr(n),s=gf(e,n,s,o,void 0,h),o=pf(),e!==null&&!Me?(yf(e,n,h),Wi(e,n,h)):(zt&&o&&Xh(n),n.flags|=1,Ye(e,n,s,h),n.child)}function ny(e,n,s,o,h,f){return qr(n),n.updateQueue=null,s=rp(n,o,s,h),sp(e),o=pf(),e!==null&&!Me?(yf(e,n,f),Wi(e,n,f)):(zt&&o&&Xh(n),n.flags|=1,Ye(e,n,s,f),n.child)}function iy(e,n,s,o,h){if(qr(n),n.stateNode===null){var f=Aa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ke(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},of(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ke(g):Aa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(xf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Of.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Yr(s,E);f.props=C;var z=f.context,G=s.contextType;g=Aa,typeof G=="object"&&G!==null&&(g=Ke(G));var X=s.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Hp(n,f,o,g),Ls=!1;var j=n.memoizedState;f.state=j,Xo(n,o,f,h),Yo(),z=n.memoizedState,E||j!==z||Ls?(typeof X=="function"&&(xf(n,s,X,o),z=n.memoizedState),(C=Ls||qp(n,s,C,o,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,lf(e,n),g=n.memoizedProps,G=Yr(s,g),f.props=G,X=n.pendingProps,j=f.context,z=s.contextType,C=Aa,typeof z=="object"&&z!==null&&(C=Ke(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==C)&&Hp(n,f,o,C),Ls=!1,j=n.memoizedState,f.state=j,Xo(n,o,f,h),Yo();var H=n.memoizedState;g!==X||j!==H||Ls||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(xf(n,s,E,o),H=n.memoizedState),(G=Ls||qp(n,s,G,o,j,H,C)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Qr(n,e.child,null,h),n.child=Qr(n,null,s,h)):Ye(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Wi(e,n,h),e}function sy(e,n,s,o){return jr(),n.flags|=256,Ye(e,n,s,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:Kg()}}function Pf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=wn),e}function ry(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?js(n):Bs(),(e=he)?(e=d_(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},s=Pg(e),s.return=n,n.child=s,Qe=n,he=null)):e=null,e===null)throw ks(n);return Ed(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Bs(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=zr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Lf(s),o.childLanes=Pf(e,g,s),n.memoizedState=Uf,tl(null,o)):(js(n),zf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(js(n),n.flags&=-257,n=jf(e,n,s)):n.memoizedState!==null?(Bs(),n.child=e.child,n.flags|=128,n=null):(Bs(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=zr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Qr(n,e.child,null,s),o=n.child,o.memoizedState=Lf(s),o.childLanes=Pf(e,g,s),n.memoizedState=Uf,n=tl(null,o));else if(js(n),Ed(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,qo({value:o,source:null,stack:null}),n=jf(e,n,s)}else if(Me||Ca(e,n,s,!1),g=(s&e.childLanes)!==0,Me||g){if(g=ae,g!==null&&(o=To(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Pr(e,o),mn(g,e,o),Vf;vd(E)||oc(),n=jf(e,n,s)}else vd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,he=Bn(E.nextSibling),Qe=n,zt=!0,Vs=null,zn=!1,e!==null&&Bg(n,e),n=zf(n,o.children),n.flags|=4096);return n}return h?(Bs(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=Ki(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Ki(z,E):(E=zr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,tl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Lf(s):(h=E.cachePool,h!==null?(C=xe._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Kg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Pf(e,g,s),n.memoizedState=Uf,tl(e.child,o)):(js(n),s=e.child,e=s.sibling,s=Ki(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function zf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=Tn(22,e,null,n),e.lanes=0,e}function jf(e,n,s){return Qr(n,e.child,null,s),e=zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ay(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),tf(e.return,n,s)}function Bf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function oy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ae.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(Ae,g),Ye(e,n,o,s),o=zt?Bo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ay(e,s,n);else if(e.tag===19)ay(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&ju(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Bf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Bf(n,!0,s,null,f,o);break;case"together":Bf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Wi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Fs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ca(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function U1(e,n,s){switch(n.tag){case 3:Ee(n,n.stateNode.containerInfo),Us(n,xe,e.memoizedState.cache),jr();break;case 27:case 5:Bi(n);break;case 4:Ee(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(js(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ry(e,n,s):(js(n),e=Wi(e,n,s),e!==null?e.sibling:null);js(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ca(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return oy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Ae,Ae.current),o)break;return null;case 22:return n.lanes=0,Wp(e,n,s,n.pendingProps);case 24:Us(n,xe,e.memoizedState.cache)}return Wi(e,n,s)}function ly(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!qf(e,s)&&(n.flags&128)===0)return Me=!1,U1(e,n,s);Me=(e.flags&131072)!==0}else Me=!1,zt&&(n.flags&1048576)!==0&&jg(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Fr(n.elementType),n.type=e,typeof e=="function")Qh(e)?(o=Yr(e,o),n.tag=1,n=iy(null,n,e,o,s)):(n.tag=0,n=kf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Yt){n.tag=11,n=$p(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=Zp(null,n,e,o,s);break t}}throw n=wt(e)||e,Error(a(306,n,""))}}return n;case 0:return kf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Yr(o,n.pendingProps),iy(e,n,o,h,s);case 3:t:{if(Ee(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),Xo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Us(n,xe,o),o!==f.cache&&ef(n,[xe],s,!0),Yo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sy(e,n,o,s);break t}else if(o!==h){h=Un(Error(a(424)),n),qo(h),n=sy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,he=Bn(e.firstChild),Qe=n,zt=!0,Vs=null,zn=!0,s=Wg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(jr(),o===h){n=Wi(e,n,s);break t}Ye(e,n,o,s)}n=n.child}return n;case 26:return Zu(e,n),e===null?(s=v_(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,e=n.pendingProps,o=mc(Tt.current).createElement(s),o[Ie]=n,o[je]=e,Xe(o,s,e),Ne(o),n.stateNode=o):n.memoizedState=v_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Bi(n),e===null&&zt&&(o=n.stateNode=p_(n.type,n.pendingProps,Tt.current),Qe=n,zn=!0,h=he,Xs(n.type)?(Td=h,he=Bn(o.firstChild)):he=h),Ye(e,n,n.pendingProps.children,s),Zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=he)&&(o=fb(o,n.type,n.pendingProps,zn),o!==null?(n.stateNode=o,Qe=n,he=Bn(o.firstChild),zn=!1,h=!0):h=!1),h||ks(n)),Bi(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:g!==null&&pd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,C1,null,null,s),gl._currentValue=h),Zu(e,n),Ye(e,n,o,s),n.child;case 6:return e===null&&zt&&((e=s=he)&&(s=db(s,n.pendingProps,zn),s!==null?(n.stateNode=s,Qe=n,he=null,e=!0):e=!1),e||ks(n)),null;case 13:return ry(e,n,s);case 4:return Ee(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Qr(n,null,o,s):Ye(e,n,o,s),n.child;case 11:return $p(e,n,n.type,n.pendingProps,s);case 7:return Ye(e,n,n.pendingProps,s),n.child;case 8:return Ye(e,n,n.pendingProps.children,s),n.child;case 12:return Ye(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Us(n,n.type,o.value),Ye(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,qr(n),h=Ke(h),o=o(h),n.flags|=1,Ye(e,n,o,s),n.child;case 14:return Zp(e,n,n.type,n.pendingProps,s);case 15:return Jp(e,n,n.type,n.pendingProps,s);case 19:return oy(e,n,s);case 31:return k1(e,n,s);case 22:return Wp(e,n,s,n.pendingProps);case 24:return qr(n),o=Ke(xe),e===null?(h=rf(),h===null&&(h=ae,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},of(n),Us(n,xe,h)):((e.lanes&s)!==0&&(lf(e,n),Xo(n,null,null,s),Yo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Us(n,xe,o)):(o=f.cache,Us(n,xe,o),o!==h.cache&&ef(n,[xe],s,!0))),Ye(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ts(e){e.flags|=4}function Hf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(ky())e.flags|=8192;else throw Gr=Uu,af}else e.flags&=-16777217}function uy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(n))if(ky())e.flags|=8192;else throw Gr=Uu,af}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,za|=n)}function el(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function L1(e,n,s){var o=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$i(xe),oe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ra(n)?ts(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),fe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ts(n),f!==null?(fe(n),uy(n,f)):(fe(n),Hf(n,h,null,o,s))):f?f!==e.memoizedState?(ts(n),fe(n),uy(n,f)):(fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ts(n),fe(n),Hf(n,h,e,o,s)),null;case 27:if(vs(n),s=Tt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return fe(n),null}e=rt.current,Ra(n)?qg(n):(e=p_(h,o,s),n.stateNode=e,ts(n))}return fe(n),null;case 5:if(vs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return fe(n),null}if(f=rt.current,Ra(n))qg(n);else{var g=mc(Tt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ie]=n,f[je]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Xe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ts(n)}}return fe(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Tt.current,Ra(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||r_(e.nodeValue,s)),e||ks(n,!0)}else e=mc(e).createTextNode(o),e[Ie]=n,n.stateNode=e}return fe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ra(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ie]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),e=!1}else s=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(a(558))}return fe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ra(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ie]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),h=!1}else h=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Wu(n,n.updateQueue),fe(n),null);case 4:return oe(),e===null&&hd(n.stateNode.containerInfo),fe(n),null;case 10:return $i(n.type),fe(n),null;case 19:if(Y(Ae),o=n.memoizedState,o===null)return fe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ju(e),f!==null){for(n.flags|=128,el(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Lg(s,e),s=s.sibling;return nt(Ae,Ae.current&1|2),zt&&Yi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Gt()>sc&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!zt)return fe(n),null}else 2*Gt()-o.renderingStartTime>sc&&s!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Gt(),e.sibling=null,s=Ae.current,nt(Ae,h?s&1|2:s&1),zt&&Yi(n,o.treeForkCount),e):(fe(n),null);case 22:case 23:return An(n),ff(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),s=n.updateQueue,s!==null&&Wu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Hr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),$i(xe),fe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function P1(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $i(xe),oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return vs(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(a(340));jr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(An(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));jr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ae),null;case 4:return oe(),null;case 10:return $i(n.type),null;case 22:case 23:return An(n),ff(),e!==null&&Y(Hr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $i(xe),null;case 25:return null;default:return null}}function cy(e,n){switch($h(n),n.tag){case 3:$i(xe),oe();break;case 26:case 27:case 5:vs(n);break;case 4:oe();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:Y(Ae);break;case 10:$i(n.type);break;case 22:case 23:An(n),ff(),e!==null&&Y(Hr);break;case 24:$i(xe)}}function nl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){ee(n,n.return,E)}}function qs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(G){ee(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){ee(n,n.return,G)}}function hy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ep(n,s)}catch(o){ee(e,e.return,o)}}}function fy(e,n,s){s.props=Yr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){ee(e,n,o)}}function il(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){ee(e,n,h)}}function xi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ee(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ee(e,n,h)}else s.current=null}function dy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ee(e,e.return,h)}}function Ff(e,n,s){try{var o=e.stateNode;ab(o,e.type,s,n),o[je]=n}catch(h){ee(e,e.return,h)}}function my(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xs(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||my(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ti));else if(o!==4&&(o===27&&Xs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,s),e=e.sibling;e!==null;)Qf(e,n,s),e=e.sibling}function tc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Xs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(tc(e,n,s),e=e.sibling;e!==null;)tc(e,n,s),e=e.sibling}function gy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xe(n,o,s),n[Ie]=e,n[je]=s}catch(f){ee(e,e.return,f)}}var es=!1,Ve=!1,Kf=!1,py=typeof WeakSet=="function"?WeakSet:Set,qe=null;function z1(e,n){if(e=e.containerInfo,md=Tc,e=Ig(e),zh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,z=0,G=0,X=e,j=null;e:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)j=X,X=H;for(;;){if(X===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++G===o&&(C=g),(H=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=H}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(gd={focusedElem:e,selectionRange:s},Tc=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){switch(n=qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var lt=Yr(s.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){ee(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)_d(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}}function yy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:is(e,s),o&4&&nl(5,s);break;case 1:if(is(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){ee(s,s.return,g)}else{var h=Yr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ee(s,s.return,g)}}o&64&&hy(s),o&512&&il(s,s.return);break;case 3:if(is(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ep(e,n)}catch(g){ee(s,s.return,g)}}break;case 27:n===null&&o&4&&gy(s);case 26:case 5:is(e,s),n===null&&o&4&&dy(s),o&512&&il(s,s.return);break;case 12:is(e,s);break;case 31:is(e,s),o&4&&Ey(e,s);break;case 13:is(e,s),o&4&&Ty(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Y1.bind(null,s),mb(e,s))));break;case 22:if(o=s.memoizedState!==null||es,!o){n=n!==null&&n.memoizedState!==null||Ve,h=es;var f=Ve;es=o,(Ve=n)&&!f?ss(e,s,(s.subtreeFlags&8772)!==0):is(e,s),es=h,Ve=f}break;case 30:break;default:is(e,s)}}function _y(e){var n=e.alternate;n!==null&&(e.alternate=null,_y(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ua(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,cn=!1;function ns(e,n,s){for(s=s.child;s!==null;)vy(e,n,s),s=s.sibling}function vy(e,n,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount($n,s)}catch{}switch(s.tag){case 26:Ve||xi(s,n),ns(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ve||xi(s,n);var o=ge,h=cn;Xs(s.type)&&(ge=s.stateNode,cn=!1),ns(e,n,s),fl(s.stateNode),ge=o,cn=h;break;case 5:Ve||xi(s,n);case 6:if(o=ge,h=cn,ge=null,ns(e,n,s),ge=o,cn=h,ge!==null)if(cn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(s.stateNode)}catch(f){ee(s,n,f)}else try{ge.removeChild(s.stateNode)}catch(f){ee(s,n,f)}break;case 18:ge!==null&&(cn?(e=ge,h_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ka(e)):h_(ge,s.stateNode));break;case 4:o=ge,h=cn,ge=s.stateNode.containerInfo,cn=!0,ns(e,n,s),ge=o,cn=h;break;case 0:case 11:case 14:case 15:qs(2,s,n),Ve||qs(4,s,n),ns(e,n,s);break;case 1:Ve||(xi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&fy(s,n,o)),ns(e,n,s);break;case 21:ns(e,n,s);break;case 22:Ve=(o=Ve)||s.memoizedState!==null,ns(e,n,s),Ve=o;break;default:ns(e,n,s)}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ka(e)}catch(s){ee(n,n.return,s)}}}function Ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ka(e)}catch(s){ee(n,n.return,s)}}function j1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new py),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new py),n;default:throw Error(a(435,e.tag))}}function ec(e,n){var s=j1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=X1.bind(null,e,o);o.then(h,h)}})}function hn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Xs(E.type)){ge=E.stateNode,cn=!1;break t}break;case 5:ge=E.stateNode,cn=!1;break t;case 3:case 4:ge=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ge===null)throw Error(a(160));vy(f,g,h),ge=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)by(n,e),n=n.sibling}var ai=null;function by(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),fn(e),o&4&&(qs(3,e,e.return),nl(3,e),qs(5,e,e.return));break;case 1:hn(n,e),fn(e),o&512&&(Ve||s===null||xi(s,s.return)),o&64&&es&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ai;if(hn(n,e),fn(e),o&512&&(Ve||s===null||xi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[yi]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xe(f,o,s),f[Ie]=e,Ne(f),o=f;break t;case"link":var g=b_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,s),h.head.appendChild(f);break;case"meta":if(g=b_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ie]=e,Ne(f),o=f}e.stateNode=o}else A_(h,e.type,e.stateNode);else e.stateNode=T_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?A_(h,e.type,e.stateNode):T_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,s.memoizedProps)}break;case 27:hn(n,e),fn(e),o&512&&(Ve||s===null||xi(s,s.return)),s!==null&&o&4&&Ff(e,e.memoizedProps,s.memoizedProps);break;case 5:if(hn(n,e),fn(e),o&512&&(Ve||s===null||xi(s,s.return)),e.flags&32){h=e.stateNode;try{un(h,"")}catch(lt){ee(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Kf=!0);break;case 6:if(hn(n,e),fn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(lt){ee(e,e.return,lt)}}break;case 3:if(yc=null,h=ai,ai=gc(n.containerInfo),hn(n,e),ai=h,fn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ka(n.containerInfo)}catch(lt){ee(e,e.return,lt)}Kf&&(Kf=!1,Ay(e));break;case 4:o=ai,ai=gc(e.stateNode.containerInfo),hn(n,e),fn(e),ai=o;break;case 12:hn(n,e),fn(e);break;case 31:hn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:hn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=Gt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=es,G=Ve;if(es=z||h,Ve=G||C,hn(n,e),Ve=G,es=z,fn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||es||Ve||Xr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){ee(C,C.return,lt)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){ee(C,C.return,lt)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?f_(H,!0):f_(C.stateNode,!1)}catch(lt){ee(C,C.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ec(e,s))));break;case 19:hn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:hn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(my(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(e);tc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(un(g,""),s.flags&=-33);var E=Gf(e);tc(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Gf(e);Qf(e,z,C);break;default:throw Error(a(161))}}catch(G){ee(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function is(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yy(e,n.alternate,n),n=n.sibling}function Xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Xr(n);break;case 1:xi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&fy(n,n.return,s),Xr(n);break;case 27:fl(n.stateNode);case 26:case 5:xi(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}e=e.sibling}}function ss(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ss(h,f,s),nl(4,f);break;case 1:if(ss(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ee(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)tp(C[h],E)}catch(z){ee(o,o.return,z)}}s&&g&64&&hy(f),il(f,f.return);break;case 27:gy(f);case 26:case 5:ss(h,f,s),s&&o===null&&g&4&&dy(f),il(f,f.return);break;case 12:ss(h,f,s);break;case 31:ss(h,f,s),s&&g&4&&Ey(h,f);break;case 13:ss(h,f,s),s&&g&4&&Ty(h,f);break;case 22:f.memoizedState===null&&ss(h,f,s),il(f,f.return);break;case 30:break;default:ss(h,f,s)}n=n.sibling}}function Yf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ho(s))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function oi(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,s,o),n=n.sibling}function Sy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(e,n,s,o),h&2048&&nl(9,n);break;case 1:oi(e,n,s,o);break;case 3:oi(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){oi(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ee(n,n.return,C)}}else oi(e,n,s,o);break;case 31:oi(e,n,s,o);break;case 13:oi(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?oi(e,n,s,o):sl(e,n):f._visibility&2?oi(e,n,s,o):(f._visibility|=2,Ua(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:oi(e,n,s,o),h&2048&&Xf(n.alternate,n);break;default:oi(e,n,s,o)}}function Ua(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ua(f,g,E,C,h),nl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ua(f,g,E,C,h):sl(f,g):(G._visibility|=2,Ua(f,g,E,C,h)),h&&z&2048&&Yf(g.alternate,g);break;case 24:Ua(f,g,E,C,h),h&&z&2048&&Xf(g.alternate,g);break;default:Ua(f,g,E,C,h)}n=n.sibling}}function sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:sl(s,o),h&2048&&Yf(o.alternate,o);break;case 24:sl(s,o),h&2048&&Xf(o.alternate,o);break;default:sl(s,o)}n=n.sibling}}var rl=8192;function La(e,n,s){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)wy(e,n,s),e=e.sibling}function wy(e,n,s){switch(e.tag){case 26:La(e,n,s),e.flags&rl&&e.memoizedState!==null&&Rb(s,ai,e.memoizedState,e.memoizedProps);break;case 5:La(e,n,s);break;case 3:case 4:var o=ai;ai=gc(e.stateNode.containerInfo),La(e,n,s),ai=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,La(e,n,s),rl=o):La(e,n,s));break;default:La(e,n,s)}}function Ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,Iy(o,e)}Ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cy(e),e=e.sibling}function Cy(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&qs(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):al(e);break;default:al(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,Iy(o,e)}Ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qs(8,n,n.return),nc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function Iy(e,n){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:qs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,qe=o;else t:for(s=e;qe!==null;){o=qe;var h=o.sibling,f=o.return;if(_y(o),o===s){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var B1={getCacheForType:function(e){var n=Ke(xe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ke(xe).controller.signal}},q1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ae=null,Dt=null,Vt=0,te=0,Sn=null,Hs=!1,Pa=!1,$f=!1,rs=0,_e=0,Fs=0,$r=0,Zf=0,wn=0,za=0,ol=null,dn=null,Jf=!1,ic=0,Ny=0,sc=1/0,rc=null,Gs=null,Pe=0,Qs=null,ja=null,as=0,Wf=0,td=null,Dy=null,ll=0,ed=null;function Rn(){return(Kt&2)!==0&&Vt!==0?Vt&-Vt:F.T!==null?od():au()}function xy(){if(wn===0)if((Vt&536870912)===0||zt){var e=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),wn=e}else wn=536870912;return e=bn.current,e!==null&&(e.flags|=32),wn}function mn(e,n,s){(e===ae&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(Ba(e,0),Ks(e,Vt,wn,!1)),Sr(e,s),((Kt&2)===0||e!==ae)&&(e===ae&&((Kt&2)===0&&($r|=s),_e===4&&Ks(e,Vt,wn,!1)),Oi(e))}function Oy(e,n,s){if((Kt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Zn(e,n),h=o?G1(e,n):id(e,n,!0),f=o;do{if(h===0){Pa&&!o&&Ks(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!H1(s)){h=id(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ol;var C=E.current.memoizedState.isDehydrated;if(C&&(Ba(E,g).flags|=256),g=id(E,g,!1),g!==2){if($f&&!C){E.errorRecoveryDisabledLanes|=f,$r|=f,h=4;break t}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ba(e,0),Ks(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ks(o,n,wn,!Hs);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-Gt(),10<h)){if(Ks(o,n,wn,!Hs),mi(o,0,!0)!==0)break t;as=n,o.timeoutHandle=u_(My.bind(null,o,s,dn,rc,Jf,n,wn,$r,za,Hs,f,"Throttled",-0,0),h);break t}My(o,s,dn,rc,Jf,n,wn,$r,za,Hs,f,null,-0,0)}}break}while(!0);Oi(e)}function My(e,n,s,o,h,f,g,E,C,z,G,X,j,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},wy(n,f,X);var lt=(f&62914560)===f?ic-Gt():(f&4194048)===f?Ny-Gt():0;if(lt=Cb(X,lt),lt!==null){as=f,e.cancelPendingCommit=lt(By.bind(null,e,n,f,s,o,h,g,E,C,G,X,null,j,H)),Ks(e,f,g,!z);return}}By(e,n,f,s,o,h,g,E,C)}function H1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!En(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(e,n,s,o){n&=~Zf,n&=~$r,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Te(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&wr(e,s,n)}function ac(){return(Kt&6)===0?(ul(0),!1):!0}function nd(){if(Dt!==null){if(te===0)var e=Dt.return;else e=Dt,Xi=Br=null,_f(e),xa=null,Go=0,e=Dt;for(;e!==null;)cy(e.alternate,e),e=e.return;Dt=null}}function Ba(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,ub(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),as=0,nd(),ae=e,Dt=s=Ki(e.current,null),Vt=n,te=0,Sn=null,Hs=!1,Pa=Zn(e,n),$f=!1,za=wn=Zf=$r=Fs=_e=0,dn=ol=null,Jf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Te(o),f=1<<h;n|=e[h],o&=~f}return rs=n,Cu(),s}function Vy(e,n){Ct=null,F.H=Wo,n===Da||n===ku?(n=$g(),te=3):n===af?(n=$g(),te=4):te=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Dt===null&&(_e=1,Xu(e,Un(n,e.current)))}function ky(){var e=bn.current;return e===null?!0:(Vt&4194048)===Vt?jn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===jn:!1}function Uy(){var e=F.H;return F.H=Wo,e===null?Wo:e}function Ly(){var e=F.A;return F.A=B1,e}function oc(){_e=4,Hs||(Vt&4194048)!==Vt&&bn.current!==null||(Pa=!0),(Fs&134217727)===0&&($r&134217727)===0||ae===null||Ks(ae,Vt,wn,!1)}function id(e,n,s){var o=Kt;Kt|=2;var h=Uy(),f=Ly();(ae!==e||Vt!==n)&&(rc=null,Ba(e,n)),n=!1;var g=_e;t:do try{if(te!==0&&Dt!==null){var E=Dt,C=Sn;switch(te){case 8:nd(),g=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var z=te;if(te=0,Sn=null,qa(e,E,C,z),s&&Pa){g=0;break t}break;default:z=te,te=0,Sn=null,qa(e,E,C,z)}}F1(),g=_e;break}catch(G){Vy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Xi=Br=null,Kt=o,F.H=h,F.A=f,Dt===null&&(ae=null,Vt=0,Cu()),g}function F1(){for(;Dt!==null;)Py(Dt)}function G1(e,n){var s=Kt;Kt|=2;var o=Uy(),h=Ly();ae!==e||Vt!==n?(rc=null,sc=Gt()+500,Ba(e,n)):Pa=Zn(e,n);t:do try{if(te!==0&&Dt!==null){n=Dt;var f=Sn;e:switch(te){case 1:te=0,Sn=null,qa(e,n,f,1);break;case 2:case 9:if(Yg(f)){te=0,Sn=null,zy(n);break}n=function(){te!==2&&te!==9||ae!==e||(te=7),Oi(e)},f.then(n,n);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:Yg(f)?(te=0,Sn=null,zy(n)):(te=0,Sn=null,qa(e,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var E=Dt;if(g?S_(g):E.stateNode.complete){te=0,Sn=null;var C=E.sibling;if(C!==null)Dt=C;else{var z=E.return;z!==null?(Dt=z,lc(z)):Dt=null}break e}}te=0,Sn=null,qa(e,n,f,5);break;case 6:te=0,Sn=null,qa(e,n,f,6);break;case 8:nd(),_e=6;break t;default:throw Error(a(462))}}Q1();break}catch(G){Vy(e,G)}while(!0);return Xi=Br=null,F.H=o,F.A=h,Kt=s,Dt!==null?0:(ae=null,Vt=0,Cu(),_e)}function Q1(){for(;Dt!==null&&!In();)Py(Dt)}function Py(e){var n=ly(e.alternate,e,rs);e.memoizedProps=e.pendingProps,n===null?lc(e):Dt=n}function zy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ny(s,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=ny(s,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:_f(n);default:cy(s,n),n=Dt=Lg(n,rs),n=ly(s,n,rs)}e.memoizedProps=e.pendingProps,n===null?lc(e):Dt=n}function qa(e,n,s,o){Xi=Br=null,_f(n),xa=null,Go=0;var h=n.return;try{if(V1(e,h,n,s,Vt)){_e=1,Xu(e,Un(s,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;_e=1,Xu(e,Un(s,e.current)),Dt=null;return}n.flags&32768?(zt||o===1?e=!0:Pa||(Vt&536870912)!==0?e=!1:(Hs=e=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),jy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){jy(n,Hs);return}e=n.return;var s=L1(n.alternate,n,rs);if(s!==null){Dt=s;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);_e===0&&(_e=5)}function jy(e,n){do{var s=P1(e.alternate,e);if(s!==null){s.flags&=32767,Dt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=s}while(e!==null);_e=6,Dt=null}function By(e,n,s,o,h,f,g,E,C){e.cancelPendingCommit=null;do uc();while(Pe!==0);if((Kt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,kh(e,s,f,g,E,C),e===ae&&(Dt=ae=null,Vt=0),ja=n,Qs=e,as=s,Wf=f,td=h,Dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$1(Nn,function(){return Qy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,g=Kt,Kt|=4;try{z1(e,n,s)}finally{Kt=g,et.p=h,F.T=o}}Pe=1,qy(),Hy(),Fy()}}function qy(){if(Pe===1){Pe=0;var e=Qs,n=ja,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=et.p;et.p=2;var h=Kt;Kt|=4;try{by(n,e);var f=gd,g=Ig(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Cg(E.ownerDocument.documentElement,E)){if(C!==null&&zh(E)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var H=j.getSelection(),lt=E.textContent.length,pt=Math.min(C.start,lt),re=C.end===void 0?pt:Math.min(C.end,lt);!H.extend&&pt>re&&(g=re,re=pt,pt=g);var U=Rg(E,pt),D=Rg(E,re);if(U&&D&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=X.createRange();P.setStart(U.node,U.offset),H.removeAllRanges(),pt>re?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Tc=!!md,gd=md=null}finally{Kt=h,et.p=o,F.T=s}}e.current=n,Pe=2}}function Hy(){if(Pe===2){Pe=0;var e=Qs,n=ja,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=et.p;et.p=2;var h=Kt;Kt|=4;try{yy(e,n.alternate,n)}finally{Kt=h,et.p=o,F.T=s}}Pe=3}}function Fy(){if(Pe===4||Pe===3){Pe=0,ue();var e=Qs,n=ja,s=as,o=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,ja=Qs=null,Gy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Gs=null),Hi(s),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=h}}(as&3)!==0&&uc(),Oi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===ed?ll++:(ll=0,ed=e):ll=0,ul(0)}}function Gy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function uc(){return qy(),Hy(),Fy(),Qy()}function Qy(){if(Pe!==5)return!1;var e=Qs,n=Wf;Wf=0;var s=Hi(as),o=F.T,h=et.p;try{et.p=32>s?32:s,F.T=null,s=td,td=null;var f=Qs,g=as;if(Pe=0,ja=Qs=null,as=0,(Kt&6)!==0)throw Error(a(331));var E=Kt;if(Kt|=4,Cy(f.current),Sy(f,f.current,g,s),Kt=E,ul(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{et.p=h,F.T=o,Gy(e,n)}}function Ky(e,n,s){n=Un(s,n),n=Mf(e.stateNode,n,2),e=zs(e,n,2),e!==null&&(Sr(e,2),Oi(e))}function ee(e,n,s){if(e.tag===3)Ky(e,e,s);else for(;n!==null;){if(n.tag===3){Ky(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gs===null||!Gs.has(o))){e=Un(s,e),s=Yp(2),o=zs(n,s,2),o!==null&&(Xp(s,o,n,e),Sr(o,2),Oi(o));break}}n=n.return}}function sd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new q1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||($f=!0,h.add(s),e=K1.bind(null,e,n,s),n.then(e,e))}function K1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ae===e&&(Vt&s)===s&&(_e===4||_e===3&&(Vt&62914560)===Vt&&300>Gt()-ic?(Kt&2)===0&&Ba(e,0):Zf|=s,za===Vt&&(za=0)),Oi(e)}function Yy(e,n){n===0&&(n=ru()),e=Pr(e,n),e!==null&&(Sr(e,n),Oi(e))}function Y1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Yy(e,s)}function X1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Yy(e,s)}function $1(e,n){return at(e,n)}var cc=null,Ha=null,rd=!1,hc=!1,ad=!1,Ys=0;function Oi(e){e!==Ha&&e.next===null&&(Ha===null?cc=Ha=e:Ha=Ha.next=e),hc=!0,rd||(rd=!0,J1())}function ul(e,n){if(!ad&&hc){ad=!0;do for(var s=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Te(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Jy(o,f))}else f=Vt,f=mi(o,o===ae?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Zn(o,f)||(s=!0,Jy(o,f));o=o.next}while(s);ad=!1}}function Z1(){Xy()}function Xy(){hc=rd=!1;var e=0;Ys!==0&&lb()&&(e=Ys);for(var n=Gt(),s=null,o=cc;o!==null;){var h=o.next,f=$y(o,n);f===0?(o.next=null,s===null?cc=h:s.next=h,h===null&&(Ha=s)):(s=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}Pe!==0&&Pe!==5||ul(e),Ys!==0&&(Ys=0)}function $y(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Te(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Vh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=ae,s=Vt,s=mi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(te===2||te===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ct(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ct(o),Hi(s)){case 2:case 8:s=hi;break;case 32:s=Nn;break;case 268435456:s=tu;break;default:s=Nn}return o=Zy.bind(null,e),s=at(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ct(o),e.callbackPriority=2,e.callbackNode=null,2}function Zy(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(uc()&&e.callbackNode!==s)return null;var o=Vt;return o=mi(e,e===ae?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Oy(e,o,n),$y(e,Gt()),e.callbackNode!=null&&e.callbackNode===s?Zy.bind(null,e):null)}function Jy(e,n){if(uc())return null;Oy(e,n,!0)}function J1(){cb(function(){(Kt&6)!==0?at($t,Z1):Xy()})}function od(){if(Ys===0){var e=Ia;e===0&&(e=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Ys=e}return Ys}function Wy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:da(""+e)}function t_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function W1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Wy((h[je]||null).action),g=o.submitter;g&&(n=(n=g[je]||null)?Wy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new wi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ys!==0){var C=g?t_(h,g):new FormData(h);Cf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?t_(h,g):new FormData(h),Cf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var ud=Hh[ld],tb=ud.toLowerCase(),eb=ud[0].toUpperCase()+ud.slice(1);ri(tb,"on"+eb)}ri(xg,"onAnimationEnd"),ri(Og,"onAnimationIteration"),ri(Mg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(y1,"onTransitionRun"),ri(_1,"onTransitionStart"),ri(v1,"onTransitionCancel"),ri(Vg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function e_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=C}}}}function xt(e,n){var s=n[la];s===void 0&&(s=n[la]=new Set);var o=e+"__bubble";s.has(o)||(n_(n,e,2,!1),s.add(o))}function cd(e,n,s){var o=0;n&&(o|=4),n_(s,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[fc]){e[fc]=!0,bo.forEach(function(s){s!=="selectionchange"&&(nb.has(s)||cd(s,!1,e),cd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,cd("selectionchange",!1,n))}}function n_(e,n,s,o){switch(x_(n)){case 2:var h=Db;break;case 8:h=xb;break;default:h=Rd}s=h.bind(null,n,s,e),h=void 0,!Dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function fd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=_i(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Ns(function(){var z=f,G=On(s),X=[];t:{var j=kg.get(e);if(j!==void 0){var H=wi,lt=e;switch(e){case"keypress":if(Or(s)===0)break t;case"keydown":case"keyup":H=Au;break;case"focusin":lt="focus",H=Vr;break;case"focusout":lt="blur",H=Vr;break;case"beforeblur":case"afterblur":H=Vr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case xg:case Og:case Mg:H=pu;break;case Vg:H=T;break;case"scroll":case"scrollend":H=Vo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Qi;break;case"toggle":case"beforetoggle":H=Rt}var pt=(n&4)!==0,re=!pt&&(e==="scroll"||e==="scrollend"),U=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||U===null||(K=ei(D,U),K!=null&&pt.push(hl(D,K,P))),re)break;D=D.return}0<pt.length&&(j=new H(j,lt,null,s,G),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==xo&&(lt=s.relatedTarget||s.fromElement)&&(_i(lt)||lt[pi]))break t;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(lt=s.relatedTarget||s.toElement,H=z,lt=lt?_i(lt):null,lt!==null&&(re=c(lt),pt=lt.tag,lt!==re||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(H=null,lt=z),H!==lt)){if(pt=ko,K="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Qi,K="onPointerLeave",U="onPointerEnter",D="pointer"),re=H==null?j:_n(H),P=lt==null?j:_n(lt),j=new pt(K,D+"leave",H,s,G),j.target=re,j.relatedTarget=P,K=null,_i(G)===z&&(pt=new pt(U,D+"enter",lt,s,G),pt.target=P,pt.relatedTarget=re,K=pt),re=K,H&&lt)e:{for(pt=ib,U=H,D=lt,P=0,K=U;K;K=pt(K))P++;K=0;for(var ft=D;ft;ft=pt(ft))K++;for(;0<P-K;)U=pt(U),P--;for(;0<K-P;)D=pt(D),K--;for(;P--;){if(U===D||D!==null&&U===D.alternate){pt=U;break e}U=pt(U),D=pt(D)}pt=null}else pt=null;H!==null&&i_(X,j,H,pt,!1),lt!==null&&re!==null&&i_(X,re,lt,pt,!0)}}t:{if(j=z?_n(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var qt=Eg;else if(_g(j))if(Tg)qt=m1;else{qt=f1;var ut=h1}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&fa(z.elementType)&&(qt=Eg):qt=d1;if(qt&&(qt=qt(e,z))){vg(X,qt,s,G);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Io(j,"number",j.value)}switch(ut=z?_n(z):window,e){case"focusin":(_g(ut)||ut.contentEditable==="true")&&(Ea=ut,jh=z,jo=null);break;case"focusout":jo=jh=Ea=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Ng(X,s,G);break;case"selectionchange":if(p1)break;case"keydown":case"keyup":Ng(X,s,G)}var It;if(Qt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else va?kr(e,s)&&(kt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(kt="onCompositionStart");kt&&(Ii&&s.locale!=="ko"&&(va||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&va&&(It=Mo()):(Si=G,Oo="value"in Si?Si.value:Si.textContent,va=!0)),ut=dc(z,kt),0<ut.length&&(kt=new Ci(kt,e,null,s,G),X.push({event:kt,listeners:ut}),It?kt.data=It:(It=_a(s),It!==null&&(kt.data=It)))),(It=Vn?o1(e,s):l1(e,s))&&(kt=dc(z,"onBeforeInput"),0<kt.length&&(ut=new Ci("onBeforeInput","beforeinput",null,s,G),X.push({event:ut,listeners:kt}),ut.data=It)),W1(X,e,z,s,G)}e_(X,n)})}function hl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function dc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ei(e,s),h!=null&&o.unshift(hl(e,h,f)),h=ei(e,n),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function ib(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function i_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=ei(s,f),z!=null&&g.unshift(hl(s,z,C))):h||(z=ei(s,f),z!=null&&g.push(hl(s,z,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var sb=/\r\n?/g,rb=/\u0000|\uFFFD/g;function s_(e){return(typeof e=="string"?e:""+e).replace(sb,`
`).replace(rb,"")}function r_(e,n){return n=s_(n),s_(e)===n}function se(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||un(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&un(e,""+o);break;case"className":vn(e,"class",o);break;case"tabIndex":vn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,s,o);break;case"style":Do(e,o,f);break;case"data":if(n!=="object"){vn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=da(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&se(e,n,"name",h.name,h,null),se(e,n,"formEncType",h.formEncType,h,null),se(e,n,"formMethod",h.formMethod,h,null),se(e,n,"formTarget",h.formTarget,h,null)):(se(e,n,"encType",h.encType,h,null),se(e,n,"method",h.method,h,null),se(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=da(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ti);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=da(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ca(e,"popover",o);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ca(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=du.get(s)||s,ca(e,s,o))}}function dd(e,n,s,o,h,f){switch(s){case"style":Do(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?un(e,o):(typeof o=="number"||typeof o=="bigint")&&un(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[je]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ca(e,s,o)}}}function Xe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:se(e,n,f,g,s,null)}}h&&se(e,n,"srcSet",s.srcSet,s,null),o&&se(e,n,"src",s.src,s,null);return;case"input":xt("invalid",e);var E=f=g=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:se(e,n,o,G,s,null)}}cu(e,f,E,C,z,g,h,!1);return;case"select":xt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:se(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?ws(e,!!o,n,!1):s!=null&&ws(e,!!o,s,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:se(e,n,g,E,s,null)}Rs(e,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":se(e,n,C,o,s,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)xt(cl[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:se(e,n,z,o,s,null)}return;default:if(fa(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&dd(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&se(e,n,E,o,s,null))}function ab(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,G=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||se(e,n,H,null,o,X)}}for(var j in o){var H=o[j];if(X=s[j],o.hasOwnProperty(j)&&(H!=null||X!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&se(e,n,j,H,o,X)}}ha(e,g,E,C,z,G,f,h);return;case"select":H=g=E=j=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||se(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&se(e,n,h,f,o,C)}n=E,s=g,o=H,j!=null?ws(e,!!s,j,!1):!!o!=!!s&&(n!=null?ws(e,!!s,n,!0):ws(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:se(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&se(e,n,g,h,o,f)}hu(e,j,H);return;case"option":for(var lt in s)j=s[lt],s.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:se(e,n,lt,null,o,j));for(C in o)j=o[C],H=s[C],o.hasOwnProperty(C)&&j!==H&&(j!=null||H!=null)&&(C==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":se(e,n,C,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)j=s[pt],s.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&se(e,n,pt,null,o,j);for(z in o)if(j=o[z],H=s[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:se(e,n,z,j,o,H)}return;default:if(fa(n)){for(var re in s)j=s[re],s.hasOwnProperty(re)&&j!==void 0&&!o.hasOwnProperty(re)&&dd(e,n,re,void 0,o,j);for(G in o)j=o[G],H=s[G],!o.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||dd(e,n,G,j,o,H);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&se(e,n,U,null,o,j);for(X in o)j=o[X],H=s[X],!o.hasOwnProperty(X)||j===H||j==null&&H==null||se(e,n,X,j,o,H)}function a_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ob(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&a_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>E)break;var G=C.transferSize,X=C.initiatorType;G&&a_(X)&&(C=C.responseEnd,g+=G*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,gd=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function o_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function lb(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,cb=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(e){return c_.resolve(null).then(e).catch(hb)}:u_;function hb(e){setTimeout(function(){throw e})}function Xs(e){return e==="head"}function h_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ka(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")fl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,fl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[yi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&fl(e.ownerDocument.body);s=h}while(s);Ka(n)}function f_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function _d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_d(s),ua(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function fb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[yi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function db(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Bn(e.nextSibling),e===null))return null;return e}function d_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function Ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Td=null;function m_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Bn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function g_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function p_(e,n,s){switch(n=mc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ua(e)}var qn=new Map,y_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=et.d;et.d={f:gb,r:pb,D:yb,C:_b,L:vb,m:Eb,X:bb,S:Tb,M:Ab};function gb(){var e=os.f(),n=ac();return e||n}function pb(e){var n=xn(e);n!==null&&n.tag===5&&n.type==="form"?Vp(n):os.r(e)}var Fa=typeof document>"u"?null:document;function __(e,n,s){var o=Fa;if(o&&typeof n=="string"&&n){var h=ln(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),y_.has(h)||(y_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Xe(n,"link",e),Ne(n),o.head.appendChild(n)))}}function yb(e){os.D(e),__("dns-prefetch",e,null)}function _b(e,n){os.C(e,n),__("preconnect",e,n)}function vb(e,n,s){os.L(e,n,s);var o=Fa;if(o&&e&&n){var h='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+ln(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+ln(s.imageSizes)+'"]')):h+='[href="'+ln(e)+'"]';var f=h;switch(n){case"style":f=Ga(e);break;case"script":f=Qa(e)}qn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),qn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),Xe(n,"link",e),Ne(n),o.head.appendChild(n)))}}function Eb(e,n){os.m(e,n);var s=Fa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ln(o)+'"][href="'+ln(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Qa(e)}if(!qn.has(f)&&(e=A({rel:"modulepreload",href:e},n),qn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ml(f)))return}o=s.createElement("link"),Xe(o,"link",e),Ne(o),s.head.appendChild(o)}}}function Tb(e,n,s){os.S(e,n,s);var o=Fa;if(o&&e){var h=vi(o).hoistableStyles,f=Ga(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(dl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=qn.get(f))&&bd(e,s);var C=g=o.createElement("link");Ne(C),Xe(C,"link",e),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function bb(e,n){os.X(e,n);var s=Fa;if(s&&e){var o=vi(s).hoistableScripts,h=Qa(e),f=o.get(h);f||(f=s.querySelector(ml(h)),f||(e=A({src:e,async:!0},n),(n=qn.get(h))&&Ad(e,n),f=s.createElement("script"),Ne(f),Xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ab(e,n){os.M(e,n);var s=Fa;if(s&&e){var o=vi(s).hoistableScripts,h=Qa(e),f=o.get(h);f||(f=s.querySelector(ml(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=qn.get(h))&&Ad(e,n),f=s.createElement("script"),Ne(f),Xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function v_(e,n,s,o){var h=(h=Tt.current)?gc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ga(s.href),s=vi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ga(s.href);var f=vi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(dl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),qn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},qn.set(e,s),f||Sb(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qa(s),s=vi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ga(e){return'href="'+ln(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function E_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Sb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Xe(n,"link",s),Ne(n),e.head.appendChild(n))}function Qa(e){return'[src="'+ln(e)+'"]'}function ml(e){return"script[async]"+e}function T_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ln(s.href)+'"]');if(o)return n.instance=o,Ne(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ne(o),Xe(o,"style",h),pc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ga(s.href);var f=e.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;o=E_(s),(h=qn.get(h))&&bd(o,h),f=(e.ownerDocument||e).createElement("link"),Ne(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Xe(f,"link",o),n.state.loading|=4,pc(f,s.precedence,e),n.instance=f;case"script":return f=Qa(s.src),(h=e.querySelector(ml(f)))?(n.instance=h,Ne(h),h):(o=s,(h=qn.get(f))&&(o=A({},s),Ad(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),Xe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,s.precedence,e));return n.instance}function pc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function b_(e,n,s){if(yc===null){var o=new Map,h=yc=new Map;h.set(s,o)}else h=yc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[yi]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function A_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function wb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Rb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ga(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ne(f);return}f=n.ownerDocument||n,o=E_(o),(h=qn.get(h))&&bd(o,h),f=f.createElement("link"),Ne(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Xe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=_c.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Sd=0;function Cb(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Sd===0&&(Sd=62500*ob());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(Ib,e),vc=null,_c.call(e))}function Ib(e,n){if(!(n.state.loading&4)){var s=vc.get(e);if(s)var o=s.get(null);else{s=new Map,vc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var gl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function Nb(e,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function w_(e,n,s,o,h,f,g,E,C,z,G,X){return e=new Nb(e,n,s,g,C,z,G,X,E),n=1,f===!0&&(n|=24),f=Tn(3,null,null,n),e.current=f,f.stateNode=e,n=nf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},of(f),e}function R_(e){return e?(e=Aa,e):Aa}function C_(e,n,s,o,h,f){h=R_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ps(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=zs(e,o,n),s!==null&&(mn(s,e,n),Ko(s,e,n))}function I_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function wd(e,n){I_(e,n),(e=e.alternate)&&I_(e,n)}function N_(e){if(e.tag===13||e.tag===31){var n=Pr(e,67108864);n!==null&&mn(n,e,67108864),wd(e,67108864)}}function D_(e){if(e.tag===13||e.tag===31){var n=Rn();n=Rr(n);var s=Pr(e,n);s!==null&&mn(s,e,n),wd(e,n)}}var Tc=!0;function Db(e,n,s,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,Rd(e,n,s,o)}finally{et.p=f,F.T=h}}function xb(e,n,s,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,Rd(e,n,s,o)}finally{et.p=f,F.T=h}}function Rd(e,n,s,o){if(Tc){var h=Cd(o);if(h===null)fd(e,n,o,bc,s),O_(e,o);else if(Mb(h,e,n,s,o))o.stopPropagation();else if(O_(e,o),n&4&&-1<Ob.indexOf(e)){for(;h!==null;){var f=xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=di(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-Te(g);E.entanglements[1]|=C,g&=~C}Oi(f),(Kt&6)===0&&(sc=Gt()+500,ul(0))}}break;case 31:case 13:E=Pr(f,2),E!==null&&mn(E,f,2),ac(),wd(f,2)}if(f=Cd(o),f===null&&fd(e,n,o,bc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else fd(e,n,o,null,s)}}function Cd(e){return e=On(e),Id(e)}var bc=null;function Id(e){if(bc=null,e=_i(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return bc=e,null}function x_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case $t:return 2;case hi:return 8;case Nn:case qi:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Nd=!1,$s=null,Zs=null,Js=null,pl=new Map,yl=new Map,Ws=[],Ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(e,n){switch(e){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=xn(n),n!==null&&N_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Mb(e,n,s,o,h){switch(n){case"focusin":return $s=_l($s,e,n,s,o,h),!0;case"dragenter":return Zs=_l(Zs,e,n,s,o,h),!0;case"mouseover":return Js=_l(Js,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,_l(pl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,n,s,o,h)),!0}return!1}function M_(e){var n=_i(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Jn(e.priority,function(){D_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Jn(e.priority,function(){D_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Cd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);xo=o,s.target.dispatchEvent(o),xo=null}else return n=xn(s),n!==null&&N_(n),e.blockedOn=s,!1;n.shift()}return!0}function V_(e,n,s){Ac(e)&&s.delete(n)}function Vb(){Nd=!1,$s!==null&&Ac($s)&&($s=null),Zs!==null&&Ac(Zs)&&(Zs=null),Js!==null&&Ac(Js)&&(Js=null),pl.forEach(V_),yl.forEach(V_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vb)))}var wc=null;function k_(e){wc!==e&&(wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Id(o||s)===null)continue;break}var f=xn(s);f!==null&&(e.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ka(e){function n(C){return Sc(C,e)}$s!==null&&Sc($s,e),Zs!==null&&Sc(Zs,e),Js!==null&&Sc(Js,e),pl.forEach(n),yl.forEach(n);for(var s=0;s<Ws.length;s++){var o=Ws[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ws.length&&(s=Ws[0],s.blockedOn===null);)M_(s),s.blockedOn===null&&Ws.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[je]||null;if(typeof f=="function")g||k_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[je]||null)E=g.formAction;else if(Id(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),k_(s)}}}function U_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(e){this._internalRoot=e}Rc.prototype.render=Dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Rn();C_(s,o,e,n,null,null)},Rc.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;C_(e.current,2,null,e,null,null),ac(),n[pi]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ws.length&&n!==0&&n<Ws[s].priority;s++);Ws.splice(s,0,e),s===0&&M_(e)}};var L_=t.version;if(L_!=="19.2.3")throw Error(a(527,L_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var kb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{$n=Cc.inject(kb),Fe=Cc}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Fp,f=Gp,g=Qp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=w_(e,1,!1,null,null,s,o,null,h,f,g,U_),e[pi]=n.current,hd(e),new Dd(n)},El.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Fp,g=Gp,E=Qp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=w_(e,1,!0,n,s??null,o,h,C,f,g,E,U_),n.context=R_(null),s=n.current,o=Rn(),o=Rr(o),h=Ps(o),h.callback=null,zs(s,h,o),s=o,n.current.lanes=s,Sr(n,s),Oi(n),e[pi]=n.current,hd(e),new Rc(n)},El.version="19.2.3",El}var K_;function Gb(){if(K_)return Md.exports;K_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=Fb(),Md.exports}var Qb=Gb();const Kb=()=>{};var Y_={};const V0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Yb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},k0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let O=(p&15)<<2|_>>6,Q=_&63;y||(Q=64,d||(O=64)),a.push(i[b],i[A],i[O],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(V0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Yb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new Xb;const O=c<<2|p>>4;if(a.push(O),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),A!==64){const J=_<<6&192|A;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Xb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $b=function(r){const t=V0(r);return k0.encodeByteArray(t,!0)},Kc=function(r){return $b(r).replace(/\./g,"")},U0=function(r){try{return k0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Jb=()=>Zb().__FIREBASE_DEFAULTS__,Wb=()=>{if(typeof process>"u"||typeof Y_>"u")return;const r=Y_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},tA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&U0(r[1]);return t&&JSON.parse(t)},fh=()=>{try{return Kb()||Jb()||Wb()||tA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},L0=r=>fh()?.emulatorHosts?.[r],eA=r=>{const t=L0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},P0=()=>fh()?.config,z0=r=>fh()?.[`_${r}`];class nA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ho(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j0(r){return(await fetch(r,{credentials:"include"})).ok}function iA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const wl={};function sA(){const r={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?r.emulator.push(t):r.prod.push(t);return r}function rA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let X_=!1;function B0(r,t){if(typeof window>"u"||typeof document>"u"||!ho(window.location.host)||wl[r]===t||wl[r]||X_)return;wl[r]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=sA().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function y(O,Q){O.setAttribute("width","24"),O.setAttribute("id",Q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{X_=!0,d()},O}function b(O,Q){O.setAttribute("id",Q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function A(){const O=rA(a),Q=i("text"),J=document.getElementById(Q)||document.createElement("span"),it=i("learnmore"),W=document.getElementById(it)||document.createElement("a"),mt=i("preprendIcon"),Et=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const gt=O.element;p(gt),b(W,it);const Yt=_();y(Et,mt),gt.append(Et,J,W,Yt),document.body.appendChild(gt)}c?(J.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function oA(){const r=fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function cA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hA(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function fA(){return!oA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dA(){try{return typeof indexedDB=="object"}catch{return!1}}function mA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const gA="FirebaseError";class _s extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=gA,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?pA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new _s(l,p,a)}}function pA(r,t){return r.replace(yA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const yA=/\{\$([^}]+)}/g;function _A(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ta(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if($_(c)&&$_(d)){if(!ta(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function $_(r){return r!==null&&typeof r=="object"}function Bl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function vA(r,t){const i=new EA(r,t);return i.subscribe.bind(i)}class EA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");TA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ld(){}function Je(r){return r&&r._delegate?r._delegate:r}class ea{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Zr="[DEFAULT]";class bA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new nA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SA(t))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zr){return this.instances.has(t)}getOptions(t=Zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:AA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Zr){return this.component?this.component.multipleInstances?t:Zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AA(r){return r===Zr?void 0:r}function SA(r){return r.instantiationMode==="EAGER"}class wA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new bA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const RA={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},CA=Ut.INFO,IA={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},NA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=IA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Im{constructor(t){this.name=t,this._logLevel=CA,this._logHandler=NA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const DA=(r,t)=>t.some(i=>r instanceof i);let Z_,J_;function xA(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OA(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q0=new WeakMap,tm=new WeakMap,H0=new WeakMap,Pd=new WeakMap,Nm=new WeakMap;function MA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(or(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&q0.set(i,r)}).catch(()=>{}),Nm.set(t,r),t}function VA(r){if(tm.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});tm.set(r,t)}let em={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return tm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||H0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function kA(r){em=r(em)}function UA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(zd(this),t,...i);return H0.set(a,t.sort?t.sort():[t]),or(a)}:OA().includes(r)?function(...t){return r.apply(zd(this),t),or(q0.get(this))}:function(...t){return or(r.apply(zd(this),t))}}function LA(r){return typeof r=="function"?UA(r):(r instanceof IDBTransaction&&VA(r),DA(r,xA())?new Proxy(r,em):r)}function or(r){if(r instanceof IDBRequest)return MA(r);if(Pd.has(r))return Pd.get(r);const t=LA(r);return t!==r&&(Pd.set(r,t),Nm.set(t,r)),t}const zd=r=>Nm.get(r);function PA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=or(d);return a&&d.addEventListener("upgradeneeded",y=>{a(or(d.result),y.oldVersion,y.newVersion,or(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const zA=["get","getKey","getAll","getAllKeys","count"],jA=["put","add","delete","clear"],jd=new Map;function W_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=jA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||zA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return jd.set(t,c),c}kA(r=>({...r,get:(t,i,a)=>W_(t,i)||r.get(t,i,a),has:(t,i)=>!!W_(t,i)||r.has(t,i)}));class BA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(qA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function qA(r){return r.getComponent()?.type==="VERSION"}const nm="@firebase/app",tv="0.14.6";const fs=new Im("@firebase/app"),HA="@firebase/app-compat",FA="@firebase/analytics-compat",GA="@firebase/analytics",QA="@firebase/app-check-compat",KA="@firebase/app-check",YA="@firebase/auth",XA="@firebase/auth-compat",$A="@firebase/database",ZA="@firebase/data-connect",JA="@firebase/database-compat",WA="@firebase/functions",tS="@firebase/functions-compat",eS="@firebase/installations",nS="@firebase/installations-compat",iS="@firebase/messaging",sS="@firebase/messaging-compat",rS="@firebase/performance",aS="@firebase/performance-compat",oS="@firebase/remote-config",lS="@firebase/remote-config-compat",uS="@firebase/storage",cS="@firebase/storage-compat",hS="@firebase/firestore",fS="@firebase/ai",dS="@firebase/firestore-compat",mS="firebase",gS="12.6.0";const im="[DEFAULT]",pS={[nm]:"fire-core",[HA]:"fire-core-compat",[GA]:"fire-analytics",[FA]:"fire-analytics-compat",[KA]:"fire-app-check",[QA]:"fire-app-check-compat",[YA]:"fire-auth",[XA]:"fire-auth-compat",[$A]:"fire-rtdb",[ZA]:"fire-data-connect",[JA]:"fire-rtdb-compat",[WA]:"fire-fn",[tS]:"fire-fn-compat",[eS]:"fire-iid",[nS]:"fire-iid-compat",[iS]:"fire-fcm",[sS]:"fire-fcm-compat",[rS]:"fire-perf",[aS]:"fire-perf-compat",[oS]:"fire-rc",[lS]:"fire-rc-compat",[uS]:"fire-gcs",[cS]:"fire-gcs-compat",[hS]:"fire-fst",[dS]:"fire-fst-compat",[fS]:"fire-vertex","fire-js":"fire-js",[mS]:"fire-js-all"};const Yc=new Map,yS=new Map,sm=new Map;function ev(r,t){try{r.container.addComponent(t)}catch(i){fs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function so(r){const t=r.name;if(sm.has(t))return fs.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,r);for(const i of Yc.values())ev(i,r);for(const i of yS.values())ev(i,r);return!0}function Dm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Qn(r){return r==null?!1:r.settings!==void 0}const _S={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new jl("app","Firebase",_S);class vS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const fo=gS;function F0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:im,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw lr.create("bad-app-name",{appName:String(l)});if(i||(i=P0()),!i)throw lr.create("no-options");const c=Yc.get(l);if(c){if(ta(i,c.options)&&ta(a,c.config))return c;throw lr.create("duplicate-app",{appName:l})}const d=new wA(l);for(const y of sm.values())d.addComponent(y);const p=new vS(i,a,d);return Yc.set(l,p),p}function G0(r=im){const t=Yc.get(r);if(!t&&r===im&&P0())return F0();if(!t)throw lr.create("no-app",{appName:r});return t}function ur(r,t,i){let a=pS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fs.warn(d.join(" "));return}so(new ea(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const ES="firebase-heartbeat-database",TS=1,xl="firebase-heartbeat-store";let Bd=null;function Q0(){return Bd||(Bd=PA(ES,TS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(r=>{throw lr.create("idb-open",{originalErrorMessage:r.message})})),Bd}async function bS(r){try{const i=(await Q0()).transaction(xl),a=await i.objectStore(xl).get(K0(r));return await i.done,a}catch(t){if(t instanceof _s)fs.warn(t.message);else{const i=lr.create("idb-get",{originalErrorMessage:t?.message});fs.warn(i.message)}}}async function nv(r,t){try{const a=(await Q0()).transaction(xl,"readwrite");await a.objectStore(xl).put(t,K0(r)),await a.done}catch(i){if(i instanceof _s)fs.warn(i.message);else{const a=lr.create("idb-set",{originalErrorMessage:i?.message});fs.warn(a.message)}}}function K0(r){return`${r.name}!${r.options.appId}`}const AS=1024,SS=30;class wS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new CS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>SS){const l=IS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iv(),{heartbeatsToSend:i,unsentEntries:a}=RS(this._heartbeatsCache.heartbeats),l=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return fs.warn(t),""}}}function iv(){return new Date().toISOString().substring(0,10)}function RS(r,t=AS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),sv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),sv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class CS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dA()?mA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function sv(r){return Kc(JSON.stringify({version:2,heartbeats:r})).length}function IS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function NS(r){so(new ea("platform-logger",t=>new BA(t),"PRIVATE")),so(new ea("heartbeat",t=>new wS(t),"PRIVATE")),ur(nm,tv,r),ur(nm,tv,"esm2020"),ur("fire-js","")}NS("");var DS="firebase",xS="12.7.0";ur(DS,xS,"app");function Y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OS=Y0,X0=new jl("auth","Firebase",Y0());const Xc=new Im("@firebase/auth");function MS(r,...t){Xc.logLevel<=Ut.WARN&&Xc.warn(`Auth (${fo}): ${r}`,...t)}function Lc(r,...t){Xc.logLevel<=Ut.ERROR&&Xc.error(`Auth (${fo}): ${r}`,...t)}function ds(r,...t){throw xm(r,...t)}function Vi(r,...t){return xm(r,...t)}function $0(r,t,i){const a={...OS(),[t]:i};return new jl("auth","Firebase",a).create(t,{appName:r.name})}function hs(r){return $0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return X0.create(r,...t)}function vt(r,t,...i){if(!r)throw xm(t,...i)}function us(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Lc(t),new Error(t)}function ms(r,t){r||us(t)}function rm(){return typeof self<"u"&&self.location?.href||""}function VS(){return rv()==="http:"||rv()==="https:"}function rv(){return typeof self<"u"&&self.location?.protocol||null}function kS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VS()||uA()||"connection"in navigator)?navigator.onLine:!0}function US(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,ms(i>t,"Short delay should be less than long delay!"),this.isMobile=aA()||cA()}get(){return kS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(r,t){ms(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Z0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const LS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const PS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zS=new ql(3e4,6e4);function Hl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function mo(r,t,i,a,l={}){return J0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Bl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return lA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&ho(r.emulatorConfig.host)&&(_.credentials="include"),Z0.fetch()(await W0(r,r.config.apiHost,i,p),_)})}async function J0(r,t,i){r._canInitEmulator=!1;const a={...LS,...t};try{const l=new jS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Ic(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Ic(r,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw $0(r,b,_);ds(r,b)}}catch(l){if(l instanceof _s)throw l;ds(r,"network-request-failed",{message:String(l)})}}async function Mm(r,t,i,a,l={}){const c=await mo(r,t,i,a,l);return"mfaPendingCredential"in c&&ds(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function W0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Om(r.config,l):`${r.config.apiScheme}://${l}`;return PS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class jS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Vi(this.auth,"network-request-failed")),zS.get())})}}function Ic(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Vi(r,t,a);return l.customData._tokenResponse=i,l}async function BS(r,t){return mo(r,"POST","/v1/accounts:delete",t)}async function $c(r,t){return mo(r,"POST","/v1/accounts:lookup",t)}function Rl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qS(r,t=!1){const i=Je(r),a=await i.getIdToken(t),l=Vm(a);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Rl(qd(l.auth_time)),issuedAtTime:Rl(qd(l.iat)),expirationTime:Rl(qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(r){return Number(r)*1e3}function Vm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=U0(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function av(r){const t=Vm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ol(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof _s&&HS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function HS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class FS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(r){const t=r.auth,i=await r.getIdToken(),a=await Ol(r,$c(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?tE(l.providerUserInfo):[],d=QS(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function GS(r){const t=Je(r);await Zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function QS(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function tE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function KS(r,t){const i=await J0(r,{},async()=>{const a=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await W0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&ho(r.emulatorConfig.host)&&(y.credentials="include"),Z0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function YS(r,t){return mo(r,"POST","/v2/accounts:revokeToken",Hl(r,t))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):av(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=av(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await KS(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Wa;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return us("not implemented")}}function er(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class li{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new FS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return qS(this,t)}reload(){return GS(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new li({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(hs(this.auth));const t=await this.getIdToken();return await Ol(this,BS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:O,isAnonymous:Q,providerData:J,stsTokenManager:it}=i;vt(A&&it,t,"internal-error");const W=Wa.fromJSON(this.name,it);vt(typeof A=="string",t,"internal-error"),er(a,t.name),er(l,t.name),vt(typeof O=="boolean",t,"internal-error"),vt(typeof Q=="boolean",t,"internal-error"),er(c,t.name),er(d,t.name),er(p,t.name),er(y,t.name),er(_,t.name),er(b,t.name);const mt=new li({uid:A,auth:t,email:l,emailVerified:O,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:b});return J&&Array.isArray(J)&&(mt.providerData=J.map(Et=>({...Et}))),y&&(mt._redirectEventId=y),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Wa;l.updateFromServerResponse(i);const c=new li({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Zc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?tE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Wa;p.updateFromIdToken(a);const y=new li({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const ov=new Map;function cs(r){ms(r instanceof Function,"Expected a class definition");let t=ov.get(r);return t?(ms(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,ov.set(r,t),t)}class eE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}eE.type="NONE";const lv=eE;function Pc(r,t,i){return`firebase:${r}:${t}:${i}`}class to{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await $c(this.auth,{idToken:t}).catch(()=>{});return i?li._fromGetAccountInfoResponse(this.auth,i,t):null}return li._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new to(cs(lv),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||cs(lv);const d=Pc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const O=await $c(t,{idToken:b}).catch(()=>{});if(!O)break;A=await li._fromGetAccountInfoResponse(t,O,b)}else A=li._fromJSON(t,b);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new to(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new to(c,t,a))}}function uv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oE(t))return"Blackberry";if(lE(t))return"Webos";if(iE(t))return"Safari";if((t.includes("chrome/")||sE(t))&&!t.includes("edge/"))return"Chrome";if(aE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function nE(r=rn()){return/firefox\//i.test(r)}function iE(r=rn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sE(r=rn()){return/crios\//i.test(r)}function rE(r=rn()){return/iemobile/i.test(r)}function aE(r=rn()){return/android/i.test(r)}function oE(r=rn()){return/blackberry/i.test(r)}function lE(r=rn()){return/webos/i.test(r)}function km(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function XS(r=rn()){return km(r)&&!!window.navigator?.standalone}function $S(){return hA()&&document.documentMode===10}function uE(r=rn()){return km(r)||aE(r)||lE(r)||oE(r)||/windows phone/i.test(r)||rE(r)}function cE(r,t=[]){let i;switch(r){case"Browser":i=uv(rn());break;case"Worker":i=`${uv(rn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${fo}/${a}`}class ZS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function JS(r,t={}){return mo(r,"GET","/v2/passwordPolicy",Hl(r,t))}const WS=6;class tw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??WS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class ew{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new ZS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=cs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await to.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await $c(this,{idToken:t}),a=await li._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Zc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=US()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qn(this.app))return Promise.reject(hs(this));const i=t?Je(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qn(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await JS(this),i=new tw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await YS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&cs(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[cs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&MS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Fl(r){return Je(r)}class cv{constructor(t){this.auth=t,this.observer=null,this.addObserver=vA(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nw(r){Um=r}function iw(r){return Um.loadJS(r)}function sw(){return Um.gapiScript}function rw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function aw(r,t){const i=Dm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ta(c,t??{}))return l;ds(l,"already-initialized")}return i.initialize({options:t})}function ow(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(cs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function lw(r,t,i){const a=Fl(r);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=hE(t),{host:d,port:p}=uw(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(ta(_,a.config.emulator)&&ta(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,ho(d)?(j0(`${c}//${d}${y}`),B0("Auth",!0)):cw()}function hE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function uw(r){const t=hE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:hv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:hv(d)}}}function hv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function cw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class fE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return us("not implemented")}_getIdTokenResponse(t){return us("not implemented")}_linkToIdToken(t,i){return us("not implemented")}_getReauthenticationResolver(t){return us("not implemented")}}async function eo(r,t){return Mm(r,"POST","/v1/accounts:signInWithIdp",Hl(r,t))}const hw="http://localhost";class na extends fE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ds("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new na(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return eo(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,eo(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,eo(t,i)}buildRequest(){const t={requestUri:hw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}class dE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends dE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class nr extends Gl{constructor(){super("facebook.com")}static credential(t){return na._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";class ir extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return na._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return ir.credential(i,a)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class sr extends Gl{constructor(){super("github.com")}static credential(t){return na._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return sr.credential(t.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";class rr extends Gl{constructor(){super("twitter.com")}static credential(t,i){return na._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return rr.credential(i,a)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";async function fw(r,t){return Mm(r,"POST","/v1/accounts:signUp",Hl(r,t))}class gs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await li._fromIdTokenResponse(t,a,l),d=fv(a);return new gs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=fv(a);return new gs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function fv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function dw(r){if(Qn(r.app))return Promise.reject(hs(r));const t=Fl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new gs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await fw(t,{returnSecureToken:!0}),a=await gs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Jc extends _s{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Jc(t,i,a,l)}}function mE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(r,c,t,a):c})}async function mw(r,t,i=!1){const a=await Ol(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return gs._forOperation(r,"link",a)}async function gw(r,t,i=!1){const{auth:a}=r;if(Qn(a.app))return Promise.reject(hs(a));const l="reauthenticate";try{const c=await Ol(r,mE(a,l,t,r),i);vt(c.idToken,a,"internal-error");const d=Vm(c.idToken);vt(d,a,"internal-error");const{sub:p}=d;return vt(r.uid===p,a,"user-mismatch"),gs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ds(a,"user-mismatch"),c}}async function pw(r,t,i=!1){if(Qn(r.app))return Promise.reject(hs(r));const a="signIn",l=await mE(r,a,t),c=await gs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function yw(r,t){return Mm(r,"POST","/v1/accounts:signInWithCustomToken",Hl(r,t))}async function _w(r,t){if(Qn(r.app))return Promise.reject(hs(r));const i=Fl(r),a=await yw(i,{token:t,returnSecureToken:!0}),l=await gs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function vw(r,t,i,a){return Je(r).onIdTokenChanged(t,i,a)}function Ew(r,t,i){return Je(r).beforeAuthStateChanged(t,i)}function Tw(r,t,i,a){return Je(r).onAuthStateChanged(t,i,a)}const Wc="__sak";class gE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const bw=1e3,Aw=10;class pE extends gE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);$S()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Aw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},bw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}pE.type="LOCAL";const Sw=pE;class yE extends gE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}yE.type="SESSION";const _E=yE;function ww(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new dh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await ww(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Lm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class Rw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Lm("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const O=A;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ki(){return window}function Cw(r){ki().location.href=r}function vE(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function Iw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nw(){return navigator?.serviceWorker?.controller||null}function Dw(){return vE()?self:null}const EE="firebaseLocalStorageDb",xw=1,th="firebaseLocalStorage",TE="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(r,t){return r.transaction([th],t?"readwrite":"readonly").objectStore(th)}function Ow(){const r=indexedDB.deleteDatabase(EE);return new Ql(r).toPromise()}function om(){const r=indexedDB.open(EE,xw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(th,{keyPath:TE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(th)?t(a):(a.close(),await Ow(),t(await om()))})})}async function dv(r,t,i){const a=mh(r,!0).put({[TE]:t,value:i});return new Ql(a).toPromise()}async function Mw(r,t){const i=mh(r,!1).get(t),a=await new Ql(i).toPromise();return a===void 0?null:a.value}function mv(r,t){const i=mh(r,!0).delete(t);return new Ql(i).toPromise()}const Vw=800,kw=3;class bE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>kw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(Dw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Iw(),!this.activeServiceWorker)return;this.sender=new Rw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Nw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await om();return await dv(t,Wc,"1"),await mv(t,Wc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>dv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Mw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>mv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=mh(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bE.type="LOCAL";const Uw=bE;new ql(3e4,6e4);function Lw(r,t){return t?cs(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Pm extends fE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return eo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return eo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return eo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Pw(r){return pw(r.auth,new Pm(r),r.bypassAuthState)}function zw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),gw(i,new Pm(r),r.bypassAuthState)}async function jw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),mw(i,new Pm(r),r.bypassAuthState)}class AE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Pw;case"linkViaPopup":case"linkViaRedirect":return jw;case"reauthViaPopup":case"reauthViaRedirect":return zw;default:ds(this.auth,"internal-error")}}resolve(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bw=new ql(2e3,1e4);class Ja extends AE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const t=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Bw.get())};t()}}Ja.currentPopupAction=null;const qw="pendingRedirect",zc=new Map;class Hw extends AE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const a=await Fw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fw(r,t){const i=Kw(t),a=Qw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Gw(r,t){zc.set(r._key(),t)}function Qw(r){return cs(r._redirectPersistence)}function Kw(r){return Pc(qw,r.config.apiKey,r.name)}async function Yw(r,t,i=!1){if(Qn(r.app))return Promise.reject(hs(r));const a=Fl(r),l=Lw(a,t),d=await new Hw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Xw=600*1e3;class $w{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Zw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!SE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Vi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Xw&&this.cachedEventUids.clear(),this.cachedEventUids.has(gv(t))}saveEventToCache(t){this.cachedEventUids.add(gv(t)),this.lastProcessedEventTime=Date.now()}}function gv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function SE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Zw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SE(r);default:return!1}}async function Jw(r,t={}){return mo(r,"GET","/v1/projects",t)}const Ww=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t2=/^https?/;async function e2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Jw(r);for(const i of t)try{if(n2(i))return}catch{}ds(r,"unauthorized-domain")}function n2(r){const t=rm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!t2.test(i))return!1;if(Ww.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const i2=new ql(3e4,6e4);function pv(){const r=ki().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function s2(r){return new Promise((t,i)=>{function a(){pv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pv(),i(Vi(r,"network-request-failed"))},timeout:i2.get()})}if(ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ki().gapi?.load)a();else{const l=rw("iframefcb");return ki()[l]=()=>{gapi.load?a():i(Vi(r,"network-request-failed"))},iw(`${sw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw jc=null,t})}let jc=null;function r2(r){return jc=jc||s2(r),jc}const a2=new ql(5e3,15e3),o2="__/auth/iframe",l2="emulator/auth/iframe",u2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h2(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Om(t,l2):`https://${r.config.authDomain}/${o2}`,a={apiKey:t.apiKey,appName:r.name,v:fo},l=c2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bl(a).slice(1)}`}async function f2(r){const t=await r2(r),i=ki().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:h2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Vi(r,"network-request-failed"),p=ki().setTimeout(()=>{c(d)},a2.get());function y(){ki().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const d2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m2=500,g2=600,p2="_blank",y2="http://localhost";class yv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _2(r,t,i,a=m2,l=g2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...d2,width:a.toString(),height:l.toString(),top:c,left:d},_=rn().toLowerCase();i&&(p=sE(_)?p2:i),nE(_)&&(t=t||y2,y.scrollbars="yes");const b=Object.entries(y).reduce((O,[Q,J])=>`${O}${Q}=${J},`,"");if(XS(_)&&p!=="_self")return v2(t||"",p),new yv(null);const A=window.open(t||"",p,b);vt(A,r,"popup-blocked");try{A.focus()}catch{}return new yv(A)}function v2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const E2="__/auth/handler",T2="emulator/auth/handler",b2=encodeURIComponent("fac");async function _v(r,t,i,a,l,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:fo,eventId:l};if(t instanceof dE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",_A(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Gl){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await r._getAppCheckToken(),_=y?`#${b2}=${encodeURIComponent(y)}`:"";return`${A2(r)}?${Bl(p).slice(1)}${_}`}function A2({config:r}){return r.emulator?Om(r,T2):`https://${r.authDomain}/${E2}`}const Hd="webStorageSupport";class S2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_E,this._completeRedirectFn=Yw,this._overrideRedirectResult=Gw}async _openPopup(t,i,a,l){ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await _v(t,i,a,rm(),l);return _2(t,c,Lm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await _v(t,i,a,rm(),l);return Cw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ms(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await f2(t),a=new $w(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Hd,{type:Hd},l=>{const c=l?.[0]?.[Hd];c!==void 0&&i(!!c),ds(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=e2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return uE()||iE()||km()}}const w2=S2;var vv="@firebase/auth",Ev="1.12.0";class R2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function C2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I2(r){so(new ea("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cE(r)},_=new ew(a,l,c,y);return ow(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),so(new ea("auth-internal",t=>{const i=Fl(t.getProvider("auth").getImmediate());return(a=>new R2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(vv,Ev,C2(r)),ur(vv,Ev,"esm2020")}const N2=300,D2=z0("authIdTokenMaxAge")||N2;let Tv=null;const x2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>D2)return;const l=i?.token;Tv!==l&&(Tv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function O2(r=G0()){const t=Dm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=aw(r,{popupRedirectResolver:w2,persistence:[Uw,Sw,_E]}),a=z0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=x2(c.toString());Ew(i,d,()=>d(i.currentUser)),vw(i,p=>d(p))}}const l=L0("auth");return l&&lw(i,`http://${l}`),i}function M2(){return document.getElementsByTagName("head")?.[0]??document}nw({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Vi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",M2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I2("Browser");var bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,wE;(function(){var r;function t(I,S){function R(){}R.prototype=S.prototype,I.F=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(M,N,k){for(var w=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)w[wt-2]=arguments[wt];return S.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)M[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],N=I.g[2];let k=I.g[3],w;w=S+(k^R&(N^k))+M[0]+3614090360&4294967295,S=R+(w<<7&4294967295|w>>>25),w=k+(N^S&(R^N))+M[1]+3905402710&4294967295,k=S+(w<<12&4294967295|w>>>20),w=N+(R^k&(S^R))+M[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(S^N&(k^S))+M[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(k^R&(N^k))+M[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=k+(N^S&(R^N))+M[5]+1200080426&4294967295,k=S+(w<<12&4294967295|w>>>20),w=N+(R^k&(S^R))+M[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(S^N&(k^S))+M[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(k^R&(N^k))+M[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=k+(N^S&(R^N))+M[9]+2336552879&4294967295,k=S+(w<<12&4294967295|w>>>20),w=N+(R^k&(S^R))+M[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(S^N&(k^S))+M[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(k^R&(N^k))+M[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=k+(N^S&(R^N))+M[13]+4254626195&4294967295,k=S+(w<<12&4294967295|w>>>20),w=N+(R^k&(S^R))+M[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(S^N&(k^S))+M[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(N^k&(R^N))+M[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(S^R))+M[6]+3225465664&4294967295,k=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(k^S))+M[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^S&(N^k))+M[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^k&(R^N))+M[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(S^R))+M[10]+38016083&4294967295,k=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(k^S))+M[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^S&(N^k))+M[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^k&(R^N))+M[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(S^R))+M[14]+3275163606&4294967295,k=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(k^S))+M[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^S&(N^k))+M[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^k&(R^N))+M[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(S^R))+M[2]+4243563512&4294967295,k=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(k^S))+M[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^S&(N^k))+M[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(R^N^k)+M[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=k+(S^R^N)+M[8]+2272392833&4294967295,k=S+(w<<11&4294967295|w>>>21),w=N+(k^S^R)+M[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^S)+M[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^k)+M[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=k+(S^R^N)+M[4]+1272893353&4294967295,k=S+(w<<11&4294967295|w>>>21),w=N+(k^S^R)+M[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^S)+M[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^k)+M[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=k+(S^R^N)+M[0]+3936430074&4294967295,k=S+(w<<11&4294967295|w>>>21),w=N+(k^S^R)+M[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^S)+M[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^k)+M[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=k+(S^R^N)+M[12]+3873151461&4294967295,k=S+(w<<11&4294967295|w>>>21),w=N+(k^S^R)+M[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^S)+M[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(N^(R|~k))+M[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=k+(R^(S|~N))+M[7]+1126891415&4294967295,k=S+(w<<10&4294967295|w>>>22),w=N+(S^(k|~R))+M[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~S))+M[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~k))+M[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=k+(R^(S|~N))+M[3]+2399980690&4294967295,k=S+(w<<10&4294967295|w>>>22),w=N+(S^(k|~R))+M[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~S))+M[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~k))+M[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=k+(R^(S|~N))+M[15]+4264355552&4294967295,k=S+(w<<10&4294967295|w>>>22),w=N+(S^(k|~R))+M[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~S))+M[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~k))+M[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=k+(R^(S|~N))+M[11]+3174756917&4294967295,k=S+(w<<10&4294967295|w>>>22),w=N+(S^(k|~R))+M[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~S))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const R=S-this.blockSize,M=this.C;let N=this.h,k=0;for(;k<S;){if(N==0)for(;k<=R;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<S;)if(M[N++]=I.charCodeAt(k++),N==this.blockSize){l(this,M),N=0;break}}else for(;k<S;)if(M[N++]=I[k++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)I[S++]=this.g[R]>>>M&255;return I};function c(I,S){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function d(I,S){this.h=S;const R=[];let M=!0;for(let N=I.length-1;N>=0;N--){const k=I[N]|0;M&&k==S||(R[N]=k,M=!1)}this.g=R}var p={};function y(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return W(_(-I));const S=[];let R=1;for(let M=0;I>=R;M++)S[M]=I/R|0,R*=4294967296;return new d(S,0)}function b(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return W(b(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let M=A;for(let k=0;k<I.length;k+=8){var N=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+N),S);N<8?(N=_(Math.pow(S,N)),M=M.j(N).add(_(w))):(M=M.j(R),M=M.add(_(w)))}return M}var A=y(0),O=y(1),Q=y(16777216);r=d.prototype,r.m=function(){if(it(this))return-W(this).m();let I=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);I+=(M>=0?M:4294967296+M)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(it(this))return"-"+W(this).toString(I);const S=_(Math.pow(I,6));var R=this;let M="";for(;;){const N=Yt(R,S).g;R=mt(R,N.j(S));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=N,J(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function it(I){return I.h==-1}r.l=function(I){return I=mt(this,I),it(I)?-1:J(I)?0:1};function W(I){const S=I.g.length,R=[];for(let M=0;M<S;M++)R[M]=~I.g[M];return new d(R,~I.h).add(O)}r.abs=function(){return it(this)?W(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),R=[];let M=0;for(let N=0;N<=S;N++){let k=M+(this.i(N)&65535)+(I.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=w>>>16,k&=65535,w&=65535,R[N]=w<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function mt(I,S){return I.add(W(S))}r.j=function(I){if(J(this)||J(I))return A;if(it(this))return it(I)?W(this).j(W(I)):W(W(this).j(I));if(it(I))return W(this.j(W(I)));if(this.l(Q)<0&&I.l(Q)<0)return _(this.m()*I.m());const S=this.g.length+I.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const k=this.i(M)>>>16,w=this.i(M)&65535,wt=I.i(N)>>>16,Xt=I.i(N)&65535;R[2*M+2*N]+=w*Xt,Et(R,2*M+2*N),R[2*M+2*N+1]+=k*Xt,Et(R,2*M+2*N+1),R[2*M+2*N+1]+=w*wt,Et(R,2*M+2*N+1),R[2*M+2*N+2]+=k*wt,Et(R,2*M+2*N+2)}for(I=0;I<S;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=S;I<2*S;I++)R[I]=0;return new d(R,0)};function Et(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function gt(I,S){this.g=I,this.h=S}function Yt(I,S){if(J(S))throw Error("division by zero");if(J(I))return new gt(A,A);if(it(I))return S=Yt(W(I),S),new gt(W(S.g),W(S.h));if(it(S))return S=Yt(I,W(S)),new gt(W(S.g),S.h);if(I.g.length>30){if(it(I)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var R=O,M=S;M.l(I)<=0;)R=Jt(R),M=Jt(M);var N=Nt(R,1),k=Nt(M,1);for(M=Nt(M,2),R=Nt(R,2);!J(M);){var w=k.add(M);w.l(I)<=0&&(N=N.add(R),k=w),M=Nt(M,1),R=Nt(R,1)}return S=mt(I,N.j(S)),new gt(N,S)}for(N=A;I.l(S)>=0;){for(R=Math.max(1,Math.floor(I.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=_(R),w=k.j(S);it(w)||w.l(I)>0;)R-=M,k=_(R),w=k.j(S);J(k)&&(k=O),N=N.add(k),I=mt(I,w)}return new gt(N,I)}r.B=function(I){return Yt(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&I.i(M);return new d(R,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|I.i(M);return new d(R,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^I.i(M);return new d(R,this.h^I.h)};function Jt(I){const S=I.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(R,I.h)}function Nt(I,S){const R=S>>5;S%=32;const M=I.g.length-R,N=[];for(let k=0;k<M;k++)N[k]=S>0?I.i(k+R)>>>S|I.i(k+R+1)<<32-S:I.i(k+R);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,wE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,cr=d}).apply(typeof bv<"u"?bv:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var RE,Tl,CE,Bc,lm,IE,NE,DE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)tt[Rt-2]=arguments[Rt];return m.prototype[L].apply(T,tt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new it(()=>new Yt,u=>u.reset());class Yt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,Nt=!1,I=new Et,S=()=>{const u=Promise.resolve(void 0);Jt=()=>{u.then(R)}};function R(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){W(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Nt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function wt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(wt,N),wt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&wt.Z.h.call(this)},wt.prototype.h=function(){wt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Xt="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ot(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function jt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=Tt(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Tt(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ee={};function oe(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)oe(u,m[B],v,T,L);return null}return v=As(v),u&&u[Xt]?u.J(m,v,p(T)?!!T.capture:!1,L):Bi(u,m,v,!1,T,L)}function Bi(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let Rt=ci(u);if(Rt||(u[Mt]=Rt=new rt(u)),v=Rt.add(m,v,T,tt,B),v.proxy)return v;if(T=vs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(yn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vs(){function u(v){return m.call(u.src,u.listener,v)}const m=br;return u}function Es(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Es(u,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=As(v),u&&u[Xt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Tt(m,v,T,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ci(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tt(m,v,T,L)),(v=u>-1?m[u]:null)&&Ts(v))}function Ts(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Xt])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(yn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ci(m))?(_t(v,u),v.h==0&&(v.src=null,m[Mt]=null)):ht(u)}}}function yn(u){return u in Ee?Ee[u]:Ee[u]="on"+u}function br(u,m){if(u.da)u=!0;else{m=new wt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Ts(u),u=v.call(T,m)}return u}function ci(u){return u=u[Mt],u instanceof rt?u:null}var bs="__closure_events_fn_"+(Math.random()*1e9>>>0);function As(u){return typeof u=="function"?u:(u[bs]||(u[bs]=function(m){return u.handleEvent(m)}),u[bs])}function q(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}A(q,M),q.prototype[Xt]=!0,q.prototype.removeEventListener=function(u,m,v,T){Es(this,u,m,v,T)};function at(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=ct(B,T,!0,m)&&L;if(B=m.g=u,L=ct(B,T,!0,m)&&L,L=ct(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=ct(B,T,!1,m)&&L}q.prototype.N=function(){if(q.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ht(v[T]);delete u.g[m],u.h--}}this.G=null},q.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},q.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ct(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Rt=tt.listener,be=tt.ha||tt.src;tt.fa&&_t(u.i,tt),L=Rt.call(be,T)!==!1&&L}}return L&&!T.defaultPrevented}function In(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ue(u){u.g=In(()=>{u.g=null,u.i&&(u.i=!1,ue(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Gt extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ue(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ce(u){M.call(this),this.h=u,this.g={}}A(ce,M);var $t=[];function hi(u){Ot(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ts(m)},u),u.g={}}ce.prototype.N=function(){ce.Z.N.call(this),hi(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=d.JSON.stringify,qi=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function nu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){N.call(this,"d")}A(Fe,N);function Dn(){N.call(this,"c")}A(Dn,N);var Te={},iu=null;function oa(){return iu=iu||new q}Te.Ia="serverreachability";function su(u){N.call(this,Te.Ia,u)}A(su,N);function fi(u){const m=oa();at(m,new su(m))}Te.STAT_EVENT="statevent";function Ar(u,m){N.call(this,Te.STAT_EVENT,u),this.stat=m}A(Ar,N);function Ce(u){const m=oa();at(m,new Ar(m,u))}Te.Ja="timingevent";function di(u,m){N.call(this,Te.Ja,u),this.size=m}A(di,N);function mi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Vh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",Rt=B.split("&");for(let Qt=0;Qt<Rt.length;Qt++){var be=Rt[Qt].split("=");if(be.length>1){const me=be[0];be=be[1];const Vn=me.split("_");tt=Vn.length>=2&&Vn[1]=="type"?tt+(me+"="+be+"&"):tt+(me+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function ru(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function gi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kh(u,v)+(T?" "+T:"")})}function Sr(u,m){u.info(function(){return"TIMEOUT: "+m})}Zn.prototype.info=function(){};function kh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return Nn(B)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function Rr(){}A(Rr,eu),Rr.prototype.g=function(){return new XMLHttpRequest},To=new Rr;function Hi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ce(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Ie={},je={};function pi(u,m,v){u.M=1,u.A=Cr(De(m)),u.u=v,u.R=!0,la(u,null)}function la(u,m){u.F=Date.now(),yi(u),u.B=De(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),fa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Wn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Gt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&($t[0]=L.toString()),L=$t);for(let B=0;B<L.length;B++){const tt=oe(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),fi(),Vh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=ni(this.g),be=this.g.ya(),Qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||Rt!=4||be==7||(be==8||Qt<=0?fi(3):fi(2)),_i(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)gi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,u);else{this.o=!1,this.m=3,Ce(12),_n(this),xn(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<v.length;)if(me=lu(this,v),me==je){Rt==4&&(this.m=4,Ce(14),u=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ie){this.m=4,Ce(15),gi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else gi(this.i,this.l,me,null),vi(this,me);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,Ce(16),u=!1),this.o=this.o&&u,!u)gi(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Uo(tt),tt.P=!0,Ce(11))}}else gi(this.i,this.l,v,null),vi(this,v);Rt==4&&_n(this),this.o&&!this.K&&(Rt==4?yu(this.j,this):(this.o=!1,yi(this)))}else Gi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),_n(this),xn(this)}}}catch{}};function Uh(u){if(!ou(u))return u.g.la();const m=Ge(u.g);if(m==="")return"";let v="";const T=m.length,L=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),xn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?je:(v=Number(m.substring(v,T)),isNaN(v)?Ie:(T+=1,T+v>m.length?je:(m=m.slice(T,T+v),u.C=T+v,m)))}Jn.prototype.cancel=function(){this.K=!0,_n(this)};function yi(u){u.T=Date.now()+u.H,ua(u,u.H)}function ua(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=mi(_(u.aa,u),m)}function _i(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(fi(),Ce(17)),_n(this),this.m=2,xn(this)):ua(this,this.T-u)};function xn(u){u.j.I==0||u.K||yu(u.j,u)}function _n(u){_i(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,hi(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function vi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ti(v.h,u))){if(!u.L&&Ti(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ya(v),xs(v);else break t;Vr(v),Ce(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(_(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ci(v,11)}else if((u.L||v.g==u)&&ya(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Qt=L[m];const me=Qt[0];if(!(me<=v.K))if(v.K=me,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const Vn=Qt[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Ii=Qt[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const ii=Qt[5];ii!=null&&typeof ii=="number"&&ii>0&&(T=1.5*ii,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const si=u.g;if(si){const kr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var B=T.h;B.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(So(B,B.h),B.h=null))}if(T.G){const _a=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(T.wa=_a,Wt(T.J,T.G,_a))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),tt.L){wo(T.h,tt);var Rt=tt,be=T.O;be&&(Rt.H=be),Rt.D&&(_i(Rt),yi(Rt)),T.g=tt}else gu(T);v.i.length>0&&Ri(v)}else Qt[0]!="stop"&&Qt[0]!="close"||Ci(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ci(v,7):Vo(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}fi(4)}catch{}}var Ne=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ei(u){return u.h?1:u.g?u.g.size:0}function Ti(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vn?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,Ss(this,u.u),this.h=u.h,Co(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Be(this,m[1]||"",!0),this.o=bi(m[2]||""),this.g=bi(m[3]||"",!0),Ss(this,m[4]),this.h=bi(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=bi(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ir(m,ha,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ir(m,ha,!0),"@"),u.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ir(v,v.charAt(0)=="/"?Io:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ir(v,hu)),u.join("")},vn.prototype.resolve=function(u){const m=De(this);let v=!!u.j;v?Be(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ss(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const Rt=L[tt++];Rt=="."?T&&tt==L.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(Rt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Co(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function De(u){return new vn(u)}function Be(u,m,v){u.j=v?bi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof Rs?(u.i=m,da(u.i,u.l)):(v||(m=Ir(m,ws)),u.i=new Rs(m,u.l))}function Wt(u,m,v){u.i.set(m,v)}function Cr(u){return Wt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function bi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ir(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,ln),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ln(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ha=/[#\/\?@]/g,cu=/[#\?:]/g,Io=/[#\?]/g,ws=/[#\?@]/g,hu=/#/g;function Rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&ca(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Rs.prototype,r.add=function(u,m){un(this),this.i=null,u=Cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){un(u),m=Cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return un(u),m=Cs(u,m),u.g.has(m)}r.forEach=function(u,m){un(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Do(u,m){un(u);let v=[];if(typeof m=="string")No(u,m)&&(v=v.concat(u.g.get(Cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return un(this),this.i=null,u=Cs(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function fa(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(Cs(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Hi(v);v=Do(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Hi(v[B])),u.push(tt)}}return this.i=u.join("&")};function du(u){const m=new Rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function da(u,m){m&&!u.j&&(un(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(fu(this,T),fa(this,L,v))},u)),u.j=m}function ti(u,m){const v=new Zn;if(d.Image){const T=new Image;T.onload=b(On,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(On,v,"TestLoadImage: error",!1,m,T),T.onabort=b(On,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(On,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function xo(u,m){const v=new Zn,T=new AbortController,L=setTimeout(()=>{T.abort(),On(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?On(v,"TestPingServer: ok",!0,m):On(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),On(v,"TestPingServer: error",!1,m)})}function On(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Is(){this.g=new tu}function Ai(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ai,eu),Ai.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,m){q.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Nr,q),r=Nr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ei(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ns(this):ei(this),this.readyState==3&&ma(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ns(this))},r.Na=function(u){this.g&&(this.response=u,Ns(this))},r.ga=function(){this.g&&Ns(this)};function Ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return Ot(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Dr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Mn(v),typeof u=="string"?v!=null&&Hi(v):Wt(u,m,v))}function ne(u){q.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ne,q);var Si=/^https?$/i,Oo=["POST","PUT"];r=ne.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){xr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){xr(this,B)}};function xr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),Fi(u)}function Mo(u){u.A||(u.A=!0,at(u,"complete"),at(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,at(this,"complete"),at(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),ne.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},r.Xa=function(){Or(this)};function Or(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(at(u,"readystatechange"),ni(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(uu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!Si.test(tt?tt.toLowerCase():"")}v=T}if(v)at(u,"complete"),at(u,"success");else{u.o=6;try{var L=ni(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Mo(u)}}finally{Fi(u)}}}}function Fi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||at(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qi(m)}};function Ge(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=au(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}jt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ds(u){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,u),this.Za=wi("retryDelaySeedMs",1e4,u),this.Ta=wi("forwardChannelMaxRetries",2,u),this.va=wi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new Is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ds.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Ce(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Ri(this)};function Vo(u){if(ga(u),u.I==3){var m=u.V++,v=De(u.J);if(Wt(v,"SID",u.M),Wt(v,"RID",m),Wt(v,"TYPE","terminate"),Mr(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=Cr(De(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),yi(m)}vu(u)}function xs(u){u.g&&(Uo(u),u.g.cancel(),u.g=null)}function ga(u){xs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ri(u){if(!Ao(u.h)&&!u.m){u.m=!0;var m=u.Ea;Jt||S(),Nt||(Jt(),Nt=!0),I.add(m,u),u.D=0}}function pa(u,m){return Ei(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=mi(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=mu(this,L,m),v=De(this.J),Wt(v,"RID",u),Wt(v,"CVER",22),this.G&&Wt(v,"X-HTTP-Session-Id",this.G),Mr(this,v),B&&(this.R?m="headers="+Hi(Mn(B))+"&"+m:this.u&&Dr(v,this.u,B)),So(this.h,L),this.Ra&&Wt(v,"TYPE","init"),this.S?(Wt(v,"$req",m),Wt(v,"SID","null"),L.U=!0,pi(L,v,null)):pi(L,v,m),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||Ao(this.h)||ko(this))};function ko(u,m){var v;m?v=m.l:v=u.V++;const T=De(u.J);Wt(T,"SID",u.M),Wt(T,"RID",v),Wt(T,"AID",u.K),Mr(u,T),u.u&&u.o&&Dr(T,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,v),pi(v,T,m)}function Mr(u,m){u.H&&Ot(u.H,function(v,T){Wt(m,T,v)}),u.l&&Ot({},function(v,T){Wt(m,T,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const be=["count="+v];Rt==-1?v>0?(Rt=L[0].g,be.push("ofs="+Rt)):Rt=0:be.push("ofs="+Rt);let Qt=!0;for(let me=0;me<v;me++){var B=L[me].g;const Vn=L[me].map;if(B-=Rt,B<0)Rt=Math.max(0,L[me].g-100),Qt=!1;else try{B="req"+B+"_"||"";try{var tt=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ii,ii]of tt){let si=ii;p(ii)&&(si=Nn(ii)),be.push(B+Ii+"="+encodeURIComponent(si))}}catch(Ii){throw be.push(B+"type="+encodeURIComponent("_badmap")),Ii}}catch{T&&T(Vn)}}if(Qt){tt=be.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Jt||S(),Nt||(Jt(),Nt=!0),I.add(m,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=mi(_(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=mi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),xs(this),pu(this))};function Uo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=De(u.na);Wt(m,"RID","rpc"),Wt(m,"SID",u.M),Wt(m,"AID",u.K),Wt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Wt(m,"TO",u.ia),Wt(m,"TYPE","xmlhttp"),Mr(u,m),u.u&&u.o&&Dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Cr(De(m)),v.u=null,v.R=!0,la(v,u)}r.Va=function(){this.C!=null&&(this.C=null,xs(this),Vr(this),Ce(19))};function ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){ya(u),Uo(u),u.g=null;var T=2}else if(Ti(u.h,m))v=m.G,wo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=oa(),at(T,new di(T,v)),Ri(u)}else gu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&pa(u,m)||T==2&&Vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ci(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new vn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(T,"https"),Cr(T),L?ti(T.toString(),v):xo(T.toString(),v)}else Ce(2);u.I=0,u.l&&u.l.pa(m),vu(u),ga(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var T=v instanceof vn?De(v):new vn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ss(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new vn(null);T&&Be(B,T),m&&(B.g=m),L&&Ss(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Wt(T,v,m),Wt(T,"VER",u.ka),Mr(u,T),T}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ne(new Ai({ab:v})):new ne(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}r=bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new an(u,m)};function an(u,m){q.call(this),this.g=new Ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qi(this)}A(an,q),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Vo(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Nn(u),u=v);m.i.push(new Ne(m.Ya++,u)),m.I==3&&Ri(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,an.Z.N.call(this)};function Au(u){Fe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Au,Fe);function Su(){Dn.call(this),this.status=1}A(Su,Dn);function Qi(u){this.g=u}A(Qi,bu),Qi.prototype.ra=function(){at(this.g,"a")},Qi.prototype.qa=function(u){at(this.g,new Au(u))},Qi.prototype.pa=function(u){at(this.g,new Su)},Qi.prototype.oa=function(){at(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,DE=function(){return new Os},NE=function(){return oa()},IE=Te,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Bc=wr,Eo.COMPLETE="complete",CE=Eo,nu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",q.prototype.listen=q.prototype.J,Tl=nu,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,RE=ne}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore",Sv="4.9.3";class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let go="12.7.0";const ia=new Im("@firebase/firestore");function Ya(){return ia.logLevel}function ot(r,...t){if(ia.logLevel<=Ut.DEBUG){const i=t.map(zm);ia.debug(`Firestore (${go}): ${r}`,...i)}}function ps(r,...t){if(ia.logLevel<=Ut.ERROR){const i=t.map(zm);ia.error(`Firestore (${go}): ${r}`,...i)}}function ro(r,...t){if(ia.logLevel<=Ut.WARN){const i=t.map(zm);ia.warn(`Firestore (${go}): ${r}`,...i)}}function zm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,xE(r,a,i)}function xE(r,t,i){let a=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ps(a),new Error(a)}function Zt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||xE(t,l,a)}function St(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends _s{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class OE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class V2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(nn.UNAUTHENTICATED)))}shutdown(){}}class k2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class U2{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new hr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new hr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zt(typeof a.accessToken=="string",31837,{l:a}),new OE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class L2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new L2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new wv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function j2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class jm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=j2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Lt(r,t){return r<t?-1:r>t?1:0}function um(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Fd(l)===Fd(c)?Lt(l,c):Fd(l)?1:-1}return Lt(r.length,t.length)}const B2=55296,q2=57343;function Fd(r){const t=r.charCodeAt(0);return t>=B2&&t<=q2}function ao(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const Rv="__name__";class Mi{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Mi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Mi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Mi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Lt(t.length,i.length)}static compareSegments(t,i){const a=Mi.isNumericId(t),l=Mi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Mi.extractNumericId(t).compare(Mi.extractNumericId(i)):um(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cr.fromString(t.substring(4,t.length-2))}}class le extends Mi{construct(t,i,a){return new le(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new st($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const H2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Mi{construct(t,i,a){return new Ze(t,i,a)}static isValidIdentifier(t){return H2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rv}static keyField(){return new Ze([Rv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new st($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new st($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new st($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new st($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(i)}static emptyPath(){return new Ze([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(le.fromString(t))}static fromName(t){return new dt(le.fromString(t).popFirst(5))}static empty(){return new dt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new le(t.slice()))}}function ME(r,t,i){if(!i)throw new st($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function F2(r,t,i,a){if(t===!0&&a===!0)throw new st($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Cv(r){if(!dt.isDocumentKey(r))throw new st($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Iv(r){if(dt.isDocumentKey(r))throw new st($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function VE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function gh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Yn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=gh(r);throw new st($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Le(r,t){const i={typeString:r};return t&&(i.value=t),i}function Kl(r,t){if(!VE(r))throw new st($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new st($.INVALID_ARGUMENT,i);return!0}const Nv=-62135596800,Dv=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Dv);return new de(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Nv)throw new st($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dv}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Kl(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Nv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:Le("string",de._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new de(0,0))}static max(){return new bt(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function G2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(a===1e9?new de(i+1,0):new de(i,a));return new dr(l,dt.empty(),t)}function Q2(r){return new dr(r.readTime,r.key,Ml)}class dr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new dr(bt.min(),dt.empty(),Ml)}static max(){return new dr(bt.max(),dt.empty(),Ml)}}function K2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:Lt(r.largestBatchId,t.largestBatchId))}const Y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function po(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==Y2)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function $2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yo(r){return r.name==="IndexedDbTransactionError"}class ph{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ph.ce=-1;const Bm=-1;function yh(r){return r==null}function eh(r){return r===0&&1/r==-1/0}function Z2(r){return typeof r=="number"&&Number.isInteger(r)&&!eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const kE="";function J2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=xv(t)),t=W2(r.get(i),t);return xv(t)}function W2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case kE:i+="";break;default:i+=c}}return i}function xv(r){return r+kE+""}function Ov(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Er(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function UE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class pe{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new pe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??$e.RED,this.left=l??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new $e(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return $e.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(t){return new Mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class Mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Cn([])}unionWith(t){let i=new ze(Ze.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Cn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ao(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class LE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new LE("Invalid base64 string: "+c):c}})(t);return new We(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const tR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(r){if(Zt(!!r,39018),typeof r=="string"){let t=0;const i=tR.exec(r);if(Zt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:we(r.seconds),nanos:we(r.nanos)}}function we(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gr(r){return typeof r=="string"?We.fromBase64String(r):We.fromUint8Array(r)}const PE="server_timestamp",zE="__type__",jE="__previous_value__",BE="__local_write_time__";function qm(r){return(r?.mapValue?.fields||{})[zE]?.stringValue===PE}function _h(r){const t=r.mapValue.fields[jE];return qm(t)?_h(t):t}function Vl(r){const t=mr(r.mapValue.fields[BE].timestampValue);return new de(t.seconds,t.nanos)}class eR{constructor(t,i,a,l,c,d,p,y,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const nh="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||nh}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===nh}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}const qE="__type__",nR="__max__",xc={mapValue:{}},HE="__vector__",ih="value";function pr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qm(r)?4:sR(r)?9007199254740991:iR(r)?10:11:yt(28295,{value:r})}function ji(r,t){if(r===t)return!0;const i=pr(r);if(i!==pr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Vl(r).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=mr(l.timestampValue),p=mr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return gr(l.bytesValue).isEqual(gr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return we(l.geoPointValue.latitude)===we(c.geoPointValue.latitude)&&we(l.geoPointValue.longitude)===we(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return we(l.integerValue)===we(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=we(l.doubleValue),p=we(c.doubleValue);return d===p?eh(d)===eh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return ao(r.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Ov(d)!==Ov(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!ji(d[y],p[y])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Ul(r,t){return(r.values||[]).find((i=>ji(i,t)))!==void 0}function oo(r,t){if(r===t)return 0;const i=pr(r),a=pr(t);if(i!==a)return Lt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=we(c.integerValue||c.doubleValue),y=we(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return Vv(r.timestampValue,t.timestampValue);case 4:return Vv(Vl(r),Vl(t));case 5:return um(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=gr(c),y=gr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=Lt(p[_],y[_]);if(b!==0)return b}return Lt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Lt(we(c.latitude),we(d.latitude));return p!==0?p:Lt(we(c.longitude),we(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return kv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[ih]?.arrayValue,b=y[ih]?.arrayValue,A=Lt(_?.values?.length||0,b?.values?.length||0);return A!==0?A:kv(_,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const O=um(y[A],b[A]);if(O!==0)return O;const Q=oo(p[y[A]],_[b[A]]);if(Q!==0)return Q}return Lt(y.length,b.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function Vv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Lt(r,t);const i=mr(r),a=mr(t),l=Lt(i.seconds,a.seconds);return l!==0?l:Lt(i.nanos,a.nanos)}function kv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=oo(i[l],a[l]);if(c)return c}return Lt(i.length,a.length)}function lo(r){return cm(r)}function cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=mr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return gr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=cm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${cm(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function qc(r){switch(pr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_h(r);return t?16+qc(t):16;case 5:return 2*r.stringValue.length;case 6:return gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+qc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Er(a.fields,((c,d)=>{l+=c.length+qc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function Uv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function hm(r){return!!r&&"integerValue"in r}function Hm(r){return!!r&&"arrayValue"in r}function Lv(r){return!!r&&"nullValue"in r}function Pv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Hc(r){return!!r&&"mapValue"in r}function iR(r){return(r?.mapValue?.fields||{})[qE]?.stringValue===HE}function Cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Er(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Cl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(r.arrayValue.values[i]);return t}return{...r}}function sR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nR}class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Hc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=Ze.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Cl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ji(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Er(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new pn(Cl(this.value))}}function FE(r){const t=[];return Er(r.fields,((i,a)=>{const l=new Ze([i]);if(Hc(a)){const c=FE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Cn(t)}class sn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new sn(t,0,bt.min(),bt.min(),bt.min(),pn.empty(),0)}static newFoundDocument(t,i,a,l){return new sn(t,1,i,bt.min(),a,l,0)}static newNoDocument(t,i){return new sn(t,2,i,bt.min(),bt.min(),pn.empty(),0)}static newUnknownDocument(t,i){return new sn(t,3,i,bt.min(),bt.min(),pn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(t,i){this.position=t,this.inclusive=i}}function zv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=oo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function jv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ji(r.position[i],t.position[i]))return!1;return!0}class rh{constructor(t,i="asc"){this.field=t,this.dir=i}}function rR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class GE{}class Ue extends GE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new oR(t,i,a):i==="array-contains"?new cR(t,a):i==="in"?new hR(t,a):i==="not-in"?new fR(t,a):i==="array-contains-any"?new dR(t,a):new Ue(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new lR(t,a):new uR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(oo(i,this.value)):i!==null&&pr(this.value)===pr(i)&&this.matchesComparison(oo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends GE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ui(t,i)}matches(t){return QE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QE(r){return r.op==="and"}function KE(r){return aR(r)&&QE(r)}function aR(r){for(const t of r.filters)if(t instanceof ui)return!1;return!0}function fm(r){if(r instanceof Ue)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(KE(r))return r.filters.map((t=>fm(t))).join(",");{const t=r.filters.map((i=>fm(i))).join(",");return`${r.op}(${t})`}}function YE(r,t){return r instanceof Ue?(function(a,l){return l instanceof Ue&&a.op===l.op&&a.field.isEqual(l.field)&&ji(a.value,l.value)})(r,t):r instanceof ui?(function(a,l){return l instanceof ui&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&YE(d,l.filters[p])),!0):!1})(r,t):void yt(19439)}function XE(r){return r instanceof Ue?(function(i){return`${i.field.canonicalString()} ${i.op} ${lo(i.value)}`})(r):r instanceof ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(XE).join(" ,")+"}"})(r):"Filter"}class oR extends Ue{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class lR extends Ue{constructor(t,i){super(t,"in",i),this.keys=$E("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class uR extends Ue{constructor(t,i){super(t,"not-in",i),this.keys=$E("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function $E(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class cR extends Ue{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Hm(i)&&Ul(i.arrayValue,this.value)}}class hR extends Ue{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class fR extends Ue{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class dR extends Ue{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ul(this.value.arrayValue,a)))}}class mR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Bv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new mR(r,t,i,a,l,c,d)}function Fm(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>fm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),yh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>lo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>lo(a))).join(",")),t.Te=i}return t.Te}function Gm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!rR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!YE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!jv(r.startAt,t.startAt)&&jv(r.endAt,t.endAt)}function dm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Yl{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gR(r,t,i,a,l,c,d,p){return new Yl(r,t,i,a,l,c,d,p)}function vh(r){return new Yl(r)}function qv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ZE(r){return r.collectionGroup!==null}function Il(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ze(Ze.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new rh(c,a))})),i.has(Ze.keyField().canonicalString())||t.Ie.push(new rh(Ze.keyField(),a))}return t.Ie}function Ui(r){const t=St(r);return t.Ee||(t.Ee=pR(t,Il(r))),t.Ee}function pR(r,t){if(r.limitType==="F")return Bv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new rh(l.field,c)}));const i=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return Bv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function mm(r,t){const i=r.filters.concat([t]);return new Yl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function gm(r,t,i){return new Yl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Eh(r,t){return Gm(Ui(r),Ui(t))&&r.limitType===t.limitType}function JE(r){return`${Fm(Ui(r))}|lt:${r.limitType}`}function Xa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>XE(l))).join(", ")}]`),yh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>lo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>lo(l))).join(",")),`Target(${a})`})(Ui(r))}; limitType=${r.limitType})`}function Th(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Il(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=zv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Il(a),l)||a.endAt&&!(function(d,p,y){const _=zv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Il(a),l))})(r,t)}function yR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function WE(r){return(t,i)=>{let a=!1;for(const l of Il(r)){const c=_R(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function _R(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?oo(y,_):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class ra{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Er(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return UE(this.inner)}size(){return this.innerSize}}const vR=new pe(dt.comparator);function ys(){return vR}const tT=new pe(dt.comparator);function bl(...r){let t=tT;for(const i of r)t=t.insert(i.key,i);return t}function eT(r){let t=tT;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Jr(){return Nl()}function nT(){return Nl()}function Nl(){return new ra((r=>r.toString()),((r,t)=>r.isEqual(t)))}const ER=new pe(dt.comparator),TR=new ze(dt.comparator);function Pt(...r){let t=TR;for(const i of r)t=t.add(i);return t}const bR=new ze(Lt);function AR(){return bR}function Qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(t)?"-0":t}}function iT(r){return{integerValue:""+r}}function SR(r,t){return Z2(t)?iT(t):Qm(r,t)}class bh{constructor(){this._=void 0}}function wR(r,t,i){return r instanceof Ll?(function(l,c){const d={fields:{[zE]:{stringValue:PE},[BE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&qm(c)&&(c=_h(c)),c&&(d.fields[jE]=c),{mapValue:d}})(i,t):r instanceof Pl?rT(r,t):r instanceof zl?aT(r,t):(function(l,c){const d=sT(l,c),p=Hv(d)+Hv(l.Ae);return hm(d)&&hm(l.Ae)?iT(p):Qm(l.serializer,p)})(r,t)}function RR(r,t,i){return r instanceof Pl?rT(r,t):r instanceof zl?aT(r,t):i}function sT(r,t){return r instanceof ah?(function(a){return hm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Ll extends bh{}class Pl extends bh{constructor(t){super(),this.elements=t}}function rT(r,t){const i=oT(t);for(const a of r.elements)i.some((l=>ji(l,a)))||i.push(a);return{arrayValue:{values:i}}}class zl extends bh{constructor(t){super(),this.elements=t}}function aT(r,t){let i=oT(t);for(const a of r.elements)i=i.filter((l=>!ji(l,a)));return{arrayValue:{values:i}}}class ah extends bh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Hv(r){return we(r.integerValue||r.doubleValue)}function oT(r){return Hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class CR{constructor(t,i){this.field=t,this.transform=i}}function IR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Pl&&l instanceof Pl||a instanceof zl&&l instanceof zl?ao(a.elements,l.elements,ji):a instanceof ah&&l instanceof ah?ji(a.Ae,l.Ae):a instanceof Ll&&l instanceof Ll})(r.transform,t.transform)}class NR{constructor(t,i){this.version=t,this.transformResults=i}}class Xn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ah{}function lT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Km(r.key,Xn.none()):new Xl(r.key,r.data,Xn.none());{const i=r.data,a=pn.empty();let l=new ze(Ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Tr(r.key,a,new Cn(l.toArray()),Xn.none())}}function DR(r,t,i){r instanceof Xl?(function(l,c,d){const p=l.value.clone(),y=Gv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Tr?(function(l,c,d){if(!Fc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Gv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(uT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Dl(r,t,i,a){return r instanceof Xl?(function(c,d,p,y){if(!Fc(c.precondition,d))return p;const _=c.value.clone(),b=Qv(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Tr?(function(c,d,p,y){if(!Fc(c.precondition,d))return p;const _=Qv(c.fieldTransforms,y,d),b=d.data;return b.setAll(uT(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,p){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function xR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=sT(a.transform,l||null);c!=null&&(i===null&&(i=pn.empty()),i.set(a.field,c))}return i||null}function Fv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ao(a,l,((c,d)=>IR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Xl extends Ah{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Tr extends Ah{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function uT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Gv(r,t,i){const a=new Map;Zt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,RR(d,p,i[l]))}return a}function Qv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,wR(c,d,t))}return a}class Km extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OR extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&DR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Dl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Dl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=nT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=lT(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&ao(this.mutations,t.mutations,((i,a)=>Fv(i,a)))&&ao(this.baseMutations,t.baseMutations,((i,a)=>Fv(i,a)))}}class Ym{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Zt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return ER})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Ym(t,i,a,l)}}class VR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kR{constructor(t,i){this.count=t,this.unchangedNames=i}}var ke,Bt;function UR(r){switch(r){case $.OK:return yt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function cT(r){if(r===void 0)return ps("GRPC error has no .code"),$.UNKNOWN;switch(r){case ke.OK:return $.OK;case ke.CANCELLED:return $.CANCELLED;case ke.UNKNOWN:return $.UNKNOWN;case ke.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ke.INTERNAL:return $.INTERNAL;case ke.UNAVAILABLE:return $.UNAVAILABLE;case ke.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ke.NOT_FOUND:return $.NOT_FOUND;case ke.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ke.ABORTED:return $.ABORTED;case ke.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ke.DATA_LOSS:return $.DATA_LOSS;default:return yt(39323,{code:r})}}(Bt=ke||(ke={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function LR(){return new TextEncoder}const PR=new cr([4294967295,4294967295],0);function Kv(r){const t=LR().encode(r),i=new wE;return i.update(t),new Uint8Array(i.digest())}function Yv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new cr([i,a],0),new cr([l,c],0)]}class Xm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Al(`Invalid padding: ${i}`);if(a<0)throw new Al(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Al(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=cr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(cr.fromNumber(a)));return l.compare(PR)===1&&(l=new cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Kv(t),[a,l]=Yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Xm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Kv(t),[a,l]=Yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,$l.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Sh(bt.min(),l,new pe(Lt),ys(),Pt())}}class $l{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new $l(a,i,Pt(),Pt(),Pt())}}class Gc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class hT{constructor(t,i){this.targetId=t,this.Ce=i}}class fT{constructor(t,i,a=We.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Xv{constructor(){this.ve=0,this.Fe=$v(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),i=Pt(),a=Pt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new $l(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=$v()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ys(),this.Je=Oc(),this.He=Oc(),this.Ye=new pe(Lt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(dm(c))if(a===0){const d=new dt(c.path);this.et(i,d,sn.newNoDocument(d,bt.min()))}else Zt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=gr(a).toUint8Array()}catch(y){if(y instanceof LE)return ro("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Xm(d,l,c)}catch(y){return ro(y instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&dm(p.target)){const y=new dt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,sn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Pt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Sh(t,i,this.Ye,this.je,a);return this.je=ys(),this.Je=Oc(),this.He=Oc(),this.Ye=new pe(Lt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Xv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ze(Lt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ze(Lt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Xv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new pe(dt.comparator)}function $v(){return new pe(dt.comparator)}const jR={asc:"ASCENDING",desc:"DESCENDING"},BR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qR={and:"AND",or:"OR"};class HR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function pm(r,t){return r.useProto3Json||yh(t)?t:{value:t}}function oh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function FR(r,t){return oh(r,t.toTimestamp())}function Li(r){return Zt(!!r,49232),bt.fromTimestamp((function(i){const a=mr(i);return new de(a.seconds,a.nanos)})(r))}function $m(r,t){return ym(r,t).canonicalString()}function ym(r,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function mT(r){const t=le.fromString(r);return Zt(vT(t),10190,{key:t.toString()}),t}function _m(r,t){return $m(r.databaseId,t.path)}function Gd(r,t){const i=mT(t);if(i.get(1)!==r.databaseId.projectId)throw new st($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(pT(i))}function gT(r,t){return $m(r.databaseId,t)}function GR(r){const t=mT(r);return t.length===4?le.emptyPath():pT(t)}function vm(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pT(r){return Zt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Zv(r,t,i){return{name:_m(r,t),fields:i.value.mapValue.fields}}function QR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Zt(b===void 0||typeof b=="string",58123),We.fromBase64String(b||"")):(Zt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),We.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:cT(_.code);return new st(b,_.message||"")})(d);i=new fT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Gd(r,a.document.name),c=Li(a.document.updateTime),d=a.document.createTime?Li(a.document.createTime):bt.min(),p=new pn({mapValue:{fields:a.document.fields}}),y=sn.newFoundDocument(l,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new Gc(_,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Gd(r,a.document),c=a.readTime?Li(a.readTime):bt.min(),d=sn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Gc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Gd(r,a.document),c=a.removedTargetIds||[];i=new Gc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new kR(l,c),p=a.targetId;i=new hT(p,d)}}return i}function KR(r,t){let i;if(t instanceof Xl)i={update:Zv(r,t.key,t.value)};else if(t instanceof Km)i={delete:_m(r,t.key)};else if(t instanceof Tr)i={update:Zv(r,t.key,t.data),updateMask:nC(t.fieldMask)};else{if(!(t instanceof OR))return yt(16599,{Vt:t.type});i={verify:_m(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ah)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:FR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function YR(r,t){return r&&r.length>0?(Zt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Li(l.updateTime):Li(c);return d.isEqual(bt.min())&&(d=Li(c)),new NR(d,l.transformResults||[])})(i,t)))):[]}function XR(r,t){return{documents:[gT(r,t.path)]}}function $R(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=gT(r,l);const c=(function(_){if(_.length!==0)return _T(ui.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(O){return{field:$a(O.field),direction:WR(O.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=pm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function ZR(r){let t=GR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Zt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const O=yT(A);return O instanceof ui&&KE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((O=>(function(J){return new rh(Za(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let O;return O=typeof A=="object"?A.value:A,yh(O)?null:O})(i.limit));let y=null;i.startAt&&(y=(function(A){const O=!!A.before,Q=A.values||[];return new sh(Q,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const O=!A.before,Q=A.values||[];return new sh(Q,O)})(i.endAt)),gR(t,l,d,c,p,"F",y,_)}function JR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function yT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Za(i.unaryFilter.field);return Ue.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Za(i.unaryFilter.field);return Ue.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Za(i.unaryFilter.field);return Ue.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Za(i.unaryFilter.field);return Ue.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ue.create(Za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ui.create(i.compositeFilter.filters.map((a=>yT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function WR(r){return jR[r]}function tC(r){return BR[r]}function eC(r){return qR[r]}function $a(r){return{fieldPath:r.canonicalString()}}function Za(r){return Ze.fromServerFormat(r.fieldPath)}function _T(r){return r instanceof Ue?(function(i){if(i.op==="=="){if(Pv(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NAN"}};if(Lv(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Pv(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NOT_NAN"}};if(Lv(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(i.field),op:tC(i.op),value:i.value}}})(r):r instanceof ui?(function(i){const a=i.getFilters().map((l=>_T(l)));return a.length===1?a[0]:{compositeFilter:{op:eC(i.op),filters:a}}})(r):yt(54877,{filter:r})}function nC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function vT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ar{constructor(t,i,a,l,c=bt.min(),d=bt.min(),p=We.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class iC{constructor(t){this.yt=t}}function sC(r){const t=ZR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gm(t,t.limit,"L"):t}class rC{constructor(){this.Cn=new aC}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(dr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(dr.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class aC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ze(le.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ze(le.comparator)).toArray()}}const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ET=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(ET,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class uo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}const Wv="LruGarbageCollector",oC=1048576;function t0([r,t],[i,a]){const l=Lt(r,i);return l===0?Lt(t,a):l}class lC{constructor(t){this.Ir=t,this.buffer=new ze(t0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();t0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class uC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(Wv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yo(i)?ot(Wv,"Ignoring IndexedDB error during garbage collection: ",i):await po(i)}await this.Vr(3e5)}))}}class cC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(ph.ce);const a=new lC(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Jv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(_=Date.now(),Ya()<=Ut.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function hC(r,t){return new cC(r,t)}class fC{constructor(){this.changes=new ra((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class dC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class mC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Dl(a.mutation,l,Cn.empty(),de.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Pt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Pt()){const l=Jr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=bl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Jr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Pt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ys();const d=Nl(),p=(function(){return Nl()})();return i.forEach(((y,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof Tr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Dl(b.mutation,_,b.mutation.getFieldMask(),de.now())):d.set(_.key,Cn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new dC(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Nl();let l=new pe(((d,p)=>d-p)),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||Cn.empty();b=p.applyToLocalView(_,b),a.set(y,b);const A=(l.get(p.batchId)||Pt()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,A=nT();b.forEach((O=>{if(!c.has(O)){const Q=lT(i.get(O),a.get(O));Q!==null&&A.set(O,Q),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ZE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(Jr());let p=Ml,y=c;return d.next((_=>Z.forEach(_,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(t,b).next((O=>{y=y.insert(b,O)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Pt()))).next((b=>({batchId:p,changes:eT(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=bl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=bl();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const _=(function(A,O){return new Yl(O,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((A,O)=>{d=d.insert(A,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,sn.newInvalidDocument(b)))}));let p=bl();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&Dl(b.mutation,_,Cn.empty(),de.now()),Th(i,_)&&(p=p.insert(y,_))})),p}))}}class gC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Li(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:sC(l.bundledQuery),readTime:Li(l.readTime)}})(i)),Z.resolve()}}class pC{constructor(){this.overlays=new pe(dt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Jr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=Jr(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new pe(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Jr(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=Jr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new VR(i,a));let c=this.qr.get(i);c===void 0&&(c=Pt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class yC{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Zm{constructor(){this.Qr=new ze(He.$r),this.Ur=new ze(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new He(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new He(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new dt(new le([])),a=new He(i,t),l=new He(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new le([])),a=new He(i,t),l=new He(i,t+1);let c=Pt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||Lt(t.Yr,i.Yr)}static Kr(t,i){return Lt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class _C{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ze(He.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new MR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new He(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(Lt);return i.forEach((l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new He(new dt(c),0);let p=new ze(Lt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new He(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new He(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class vC{constructor(t){this.ri=t,this.docs=(function(){return new pe(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(t,i){let a=ys();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ys();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||K2(Q2(b),a)<=0||(l.has(b.key)||Th(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new EC(this)}getSize(t){return Z.resolve(this.size)}}class EC extends fC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class TC{constructor(t){this.persistence=t,this.si=new ra((i=>Fm(i)),Gm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=uo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new uo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class TT{constructor(t,i){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new yC,this.referenceDelegate=t(this),this.Pi=new TC(this),this.indexManager=new rC,this.remoteDocumentCache=(function(l){return new vC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new iC(i),this.Ii=new gC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new pC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new _C(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new bC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class bC extends X2{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Vi=null}static mi(t){return new Jm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=dt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class lh{constructor(t,i){this.persistence=t,this.pi=new ra((a=>J2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=hC(this,i)}static mi(t,i){return new lh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=qc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Wm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Pt(),l=Pt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Wm(t,i.fromCache,a,l)}}class AC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class SC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fA()?8:$2(rn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new AC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ya()<=Ut.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ya()<=Ut.DEBUG&&ot("QueryEngine","Query:",Xa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ya()<=Ut.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(i))):Z.resolve())}ys(t,i){if(qv(i))return Z.resolve(null);let a=Ui(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),a=Ui(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Pt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,gm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return qv(i)||l.isEqual(bt.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(Ya()<=Ut.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Xa(i)),this.vs(t,d,i,G2(l,Ml)).next((p=>p)))}))}Ds(t,i){let a=new ze(WE(t));return i.forEach(((l,c)=>{Th(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ya()<=Ut.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Xa(i)),this.ps.getDocumentsMatchingQuery(t,i,dr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",wC=3e8;class RC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new pe(Lt),this.xs=new ra((c=>Fm(c)),Gm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function CC(r,t,i,a){return new RC(r,t,i,a)}async function bT(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Pt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function IC(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const A=_.batch,O=A.keys();let Q=Z.resolve();return O.forEach((J=>{Q=Q.next((()=>b.getEntry(y,J))).next((it=>{const W=_.docVersions.get(J);Zt(W!==null,48541),it.version.compareTo(W)<0&&(A.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),b.addEntry(it)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Pt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function AT(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function NC(r,t){const i=St(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((b,A)=>{const O=l.get(A);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let Q=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?Q=Q.withResumeToken(We.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,a)),l=l.insert(A,Q),(function(it,W,mt){return it.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=wC?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(O,Q,b)&&p.push(i.Pi.updateTargetData(c,Q))}));let y=ys(),_=Pt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(DC(c,d,t.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(bt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function DC(r,t,i){let a=Pt(),l=Pt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ys();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(bt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ot(tg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function xC(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function OC(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ar(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Em(r,t,i){const a=St(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!yo(d))throw d;ot(tg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function e0(r,t,i){const a=St(r);let l=bt.min(),c=Pt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=St(y),O=A.xs.get(b);return O!==void 0?Z.resolve(A.Ms.get(O)):A.Pi.getTargetData(_,b)})(a,d,Ui(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:Pt()))).next((p=>(MC(a,yR(t),p),{documents:p,Qs:c})))))}function MC(r,t,i){let a=r.Os.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class n0{constructor(){this.activeTargetIds=AR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class VC{constructor(){this.Mo=new n0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new n0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class kC{Oo(t){}shutdown(){}}const i0="ConnectivityMonitor";class s0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(i0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(i0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function Tm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Qd="RestConnection",UC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===nh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=Tm(),p=this.zo(t,i.toUriEncodedString());ot(Qd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),b=ho(_);return this.Jo(t,p,y,a,b).then((A=>(ot(Qd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw ro(Qd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=UC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class PC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const en="WebChannelConnection";class zC extends LC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=Tm();return new Promise(((p,y)=>{const _=new RE;_.setWithCredentials(!0),_.listenOnce(CE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Bc.NO_ERROR:const A=_.getResponseJson();ot(en,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Bc.TIMEOUT:ot(en,`RPC '${t}' ${d} timed out`),y(new st($.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const O=_.getStatus();if(ot(en,`RPC '${t}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const J=Q?.error;if(J&&J.status&&J.message){const it=(function(mt){const Et=mt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Et)>=0?Et:$.UNKNOWN})(J.status);y(new st(it,J.message))}else y(new st($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new st($.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(en,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);ot(en,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=Tm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=DE(),p=NE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");ot(en,`Creating RPC '${t}' stream ${l}: ${b}`,y);const A=d.createWebChannel(b,y);this.I_(A);let O=!1,Q=!1;const J=new PC({Yo:W=>{Q?ot(en,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(O||(ot(en,`Opening RPC '${t}' stream ${l} transport.`),A.open(),O=!0),ot(en,`RPC '${t}' stream ${l} sending:`,W),A.send(W))},Zo:()=>A.close()}),it=(W,mt,Et)=>{W.listen(mt,(gt=>{try{Et(gt)}catch(Yt){setTimeout((()=>{throw Yt}),0)}}))};return it(A,Tl.EventType.OPEN,(()=>{Q||(ot(en,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),it(A,Tl.EventType.CLOSE,(()=>{Q||(Q=!0,ot(en,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(A))})),it(A,Tl.EventType.ERROR,(W=>{Q||(Q=!0,ro(en,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new st($.UNAVAILABLE,"The operation could not be completed")))})),it(A,Tl.EventType.MESSAGE,(W=>{if(!Q){const mt=W.data[0];Zt(!!mt,16349);const Et=mt,gt=Et?.error||Et[0]?.error;if(gt){ot(en,`RPC '${t}' stream ${l} received error:`,gt);const Yt=gt.status;let Jt=(function(S){const R=ke[S];if(R!==void 0)return cT(R)})(Yt),Nt=gt.message;Jt===void 0&&(Jt=$.INTERNAL,Nt="Unknown error status: "+Yt+" with message "+gt.message),Q=!0,J.a_(new st(Jt,Nt)),A.close()}else ot(en,`RPC '${t}' stream ${l} received:`,mt),J.u_(mt)}})),it(p,IE.STAT_EVENT,(W=>{W.stat===lm.PROXY?ot(en,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===lm.NOPROXY&&ot(en,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Kd(){return typeof document<"u"?document:null}function wh(r){return new HR(r,!0)}class ST{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const r0="PersistentStream";class wT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ST(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ps(i.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new st($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(r0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(r0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jC extends wT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=QR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Li(d.readTime):bt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=vm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=dm(y)?{documents:XR(c,y)}:{query:$R(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=dT(c,d.resumeToken);const _=pm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=oh(c,d.snapshotVersion.toTimestamp());const _=pm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=JR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=vm(this.serializer),i.removeTarget=t,this.q_(i)}}class BC extends wT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=YR(t.writeResults,t.commitTime),a=Li(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=vm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>KR(this.serializer,a)))};this.q_(i)}}class qC{}class HC extends qC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,ym(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,ym(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sa="RemoteStore";class GC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{aa(this)&&(ot(sa,"Restarting streams for network reachability change."),await(async function(y){const _=St(y);_.Ea.add(4),await Zl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Rh(_)})(this))}))})),this.Ra=new FC(a,l)}}async function Rh(r){if(aa(r))for(const t of r.da)await t(!0)}async function Zl(r){for(const t of r.da)await t(!1)}function RT(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),sg(i)?ig(i):_o(i).O_()&&ng(i,t))}function eg(r,t){const i=St(r),a=_o(i);i.Ia.delete(t),a.O_()&&CT(i,t),i.Ia.size===0&&(a.O_()?a.L_():aa(i)&&i.Ra.set("Unknown"))}function ng(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}_o(r).Y_(t)}function CT(r,t){r.Va.Ue(t),_o(r).Z_(t)}function ig(r){r.Va=new zR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Ra.ua()}function sg(r){return aa(r)&&!_o(r).x_()&&r.Ia.size>0}function aa(r){return St(r).Ea.size===0}function IT(r){r.Va=void 0}async function QC(r){r.Ra.set("Online")}async function KC(r){r.Ia.forEach(((t,i)=>{ng(r,t)}))}async function YC(r,t){IT(r),sg(r)?(r.Ra.ha(t),ig(r)):r.Ra.set("Unknown")}async function XC(r,t,i){if(r.Ra.set("Online"),t instanceof fT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){ot(sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await uh(r,a)}else if(t instanceof Gc?r.Va.Ze(t):t instanceof hT?r.Va.st(t):r.Va.tt(t),!i.isEqual(bt.min()))try{const a=await AT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(We.EMPTY_BYTE_STRING,b.snapshotVersion)),CT(c,y);const A=new ar(b.target,y,_,b.sequenceNumber);ng(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ot(sa,"Failed to raise snapshot:",a),await uh(r,a)}}async function uh(r,t,i){if(!yo(t))throw t;r.Ea.add(1),await Zl(r),r.Ra.set("Offline"),i||(i=()=>AT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(sa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Rh(r)}))}function NT(r,t){return t().catch((i=>uh(r,i,t)))}async function Ch(r){const t=St(r),i=yr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Bm;for(;$C(t);)try{const l=await xC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,ZC(t,l)}catch(l){await uh(t,l)}DT(t)&&xT(t)}function $C(r){return aa(r)&&r.Ta.length<10}function ZC(r,t){r.Ta.push(t);const i=yr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function DT(r){return aa(r)&&!yr(r).x_()&&r.Ta.length>0}function xT(r){yr(r).start()}async function JC(r){yr(r).ra()}async function WC(r){const t=yr(r);for(const i of r.Ta)t.ea(i.mutations)}async function tI(r,t,i){const a=r.Ta.shift(),l=Ym.from(a,t,i);await NT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ch(r)}async function eI(r,t){t&&yr(r).X_&&await(async function(a,l){if((function(d){return UR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();yr(a).B_(),await NT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(a)}})(r,t),DT(r)&&xT(r)}async function a0(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),ot(sa,"RemoteStore received new credentials");const a=aa(i);i.Ea.add(3),await Zl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Rh(i)}async function nI(r,t){const i=St(r);t?(i.Ea.delete(2),await Rh(i)):t||(i.Ea.add(2),await Zl(i),i.Ra.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(i,a,l){const c=St(i);return c.sa(),new jC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:QC.bind(null,r),t_:KC.bind(null,r),r_:YC.bind(null,r),H_:XC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),sg(r)?ig(r):r.Ra.set("Unknown")):(await r.ma.stop(),IT(r))}))),r.ma}function yr(r){return r.fa||(r.fa=(function(i,a,l){const c=St(i);return c.sa(),new BC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:JC.bind(null,r),r_:eI.bind(null,r),ta:WC.bind(null,r),na:tI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ch(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(sa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class rg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new rg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(r,t){if(ps("AsyncQueue",`${t}: ${r}`),yo(r))return new st($.UNAVAILABLE,`${t}: ${r}`);throw r}class no{static emptySet(t){return new no(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=bl(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof no)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new no;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class o0{constructor(){this.ga=new pe(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class co{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new co(t,i,no.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class iI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class sI{constructor(){this.queries=l0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=l0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new st($.ABORTED,"Firestore shutting down"))}}function l0(){return new ra((r=>JE(r)),Eh)}async function OT(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new iI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ag(d,`Initialization of query '${Xa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&og(i)}async function MT(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function rI(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&og(i)}function aI(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function og(r){r.Ca.forEach((t=>{t.next()}))}var bm,u0;(u0=bm||(bm={})).Ma="default",u0.Cache="cache";class VT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new co(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bm.Cache}}class kT{constructor(t){this.key=t}}class UT{constructor(t){this.key=t}}class oI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=WE(t),this.tu=new no(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new o0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const O=l.get(b),Q=Th(this.query,A)?A:null,J=!!O&&this.mutatedKeys.has(O.key),it=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let W=!1;O&&Q?O.data.isEqual(Q.data)?J!==it&&(a.track({type:3,doc:Q}),W=!0):this.su(O,Q)||(a.track({type:2,doc:Q}),W=!0,(y&&this.eu(Q,y)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!O&&Q?(a.track({type:0,doc:Q}),W=!0):O&&!Q&&(a.track({type:1,doc:O}),W=!0,(y||_)&&(p=!0)),W&&(Q?(d=d.add(Q),c=it?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(Q,J){const it=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:W})}};return it(Q)-it(J)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new co(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new o0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new UT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new kT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Pt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class lI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class uI{constructor(t){this.key=t,this.hu=!1}}class cI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ra((p=>JE(p)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new pe(dt.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hI(r,t,i=!0){const a=qT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await LT(a,t,i,!0),l}async function fI(r,t){const i=qT(r);await LT(i,t,!0,!1)}async function LT(r,t,i,a){const l=await OC(r.localStore,Ui(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await dI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&RT(r.remoteStore,l),p}async function dI(r,t,i,a,l){r.pu=(A,O,Q)=>(async function(it,W,mt,Et){let gt=W.view.ru(mt);gt.Cs&&(gt=await e0(it.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,gt))));const Yt=Et&&Et.targetChanges.get(W.targetId),Jt=Et&&Et.targetMismatches.get(W.targetId)!=null,Nt=W.view.applyChanges(gt,it.isPrimaryClient,Yt,Jt);return h0(it,W.targetId,Nt.au),Nt.snapshot})(r,A,O,Q);const c=await e0(r.localStore,t,!0),d=new oI(t,c.Qs),p=d.ru(c.documents),y=$l.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);h0(r,i,_.au);const b=new lI(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function mI(r,t,i){const a=St(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Eh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Em(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&eg(a.remoteStore,l.targetId),Am(a,l.targetId)})).catch(po)):(Am(a,l.targetId),await Em(a.localStore,l.targetId,!0))}async function gI(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),eg(i.remoteStore,a.targetId))}async function pI(r,t,i){const a=AI(r);try{const l=await(function(d,p){const y=St(d),_=de.now(),b=p.reduce(((Q,J)=>Q.add(J.key)),Pt());let A,O;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let J=ys(),it=Pt();return y.Ns.getEntries(Q,b).next((W=>{J=W,J.forEach(((mt,Et)=>{Et.isValidDocument()||(it=it.add(mt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,J))).next((W=>{A=W;const mt=[];for(const Et of p){const gt=xR(Et,A.get(Et.key).overlayedDocument);gt!=null&&mt.push(new Tr(Et.key,gt,FE(gt.value.mapValue),Xn.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,_,mt,p)})).next((W=>{O=W;const mt=W.applyToLocalDocumentSet(A,it);return y.documentOverlayCache.saveOverlays(Q,W.batchId,mt)}))})).then((()=>({batchId:O.batchId,changes:eT(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new pe(Lt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Jl(a,l.changes),await Ch(a.remoteStore)}catch(l){const c=ag(l,"Failed to persist write");i.reject(c)}}async function PT(r,t){const i=St(r);try{const a=await NC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Zt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Zt(d.hu,14607):l.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await Jl(i,a,t)}catch(a){await po(a)}}function c0(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=St(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,A)=>{for(const O of A.Sa)O.va(p)&&(_=!0)})),_&&og(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function yI(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new pe(dt.comparator);d=d.insert(c,sn.newNoDocument(c,bt.min()));const p=Pt().add(c),y=new Sh(bt.min(),new Map,new pe(Lt),d,p);await PT(a,y),a.du=a.du.remove(c),a.Au.delete(t),ug(a)}else await Em(a.localStore,t,!1).then((()=>Am(a,t,i))).catch(po)}async function _I(r,t){const i=St(r),a=t.batch.batchId;try{const l=await IC(i.localStore,t);jT(i,a,null),zT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,l)}catch(l){await po(l)}}async function vI(r,t,i){const a=St(r);try{const l=await(function(d,p){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Zt(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);jT(a,t,i),zT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Jl(a,l)}catch(l){await po(l)}}function zT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function jT(r,t,i){const a=St(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Am(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||BT(r,a)}))}function BT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(eg(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ug(r))}function h0(r,t,i){for(const a of i)a instanceof kT?(r.Ru.addReference(a.key,t),EI(r,a)):a instanceof UT?(ot(lg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||BT(r,a.key)):yt(19791,{wu:a})}function EI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ot(lg,"New document in limbo: "+i),r.Eu.add(a),ug(r))}function ug(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(le.fromString(t)),a=r.fu.next();r.Au.set(a,new uI(i)),r.du=r.du.insert(i,a),RT(r.remoteStore,new ar(Ui(vh(i.path)),a,"TargetPurposeLimboResolution",ph.ce))}}async function Jl(r,t,i){const a=St(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Wm.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const b=St(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(O=>Z.forEach(O.Es,(Q=>b.persistence.referenceDelegate.addReference(A,O.targetId,Q))).next((()=>Z.forEach(O.ds,(Q=>b.persistence.referenceDelegate.removeReference(A,O.targetId,Q)))))))))}catch(A){if(!yo(A))throw A;ot(tg,"Failed to update sequence numbers: "+A)}for(const A of _){const O=A.targetId;if(!A.fromCache){const Q=b.Ms.get(O),J=Q.snapshotVersion,it=Q.withLastLimboFreeSnapshotVersion(J);b.Ms=b.Ms.insert(O,it)}}})(a.localStore,c))}async function TI(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){ot(lg,"User change. New user:",t.toKey());const a=await bT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new st($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.Ls)}}function bI(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return Pt().add(a.key);{let l=Pt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function qT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yI.bind(null,t),t.Pu.H_=rI.bind(null,t.eventManager),t.Pu.yu=aI.bind(null,t.eventManager),t}function AI(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_I.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vI.bind(null,t),t}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return CC(this.persistence,new SC,t.initialUser,this.serializer)}Cu(t){return new TT(Jm.mi,this.serializer)}Du(t){return new VC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class SI extends ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof lh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new uC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new TT((a=>lh.mi(a,i)),this.serializer)}}class Sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>c0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=TI.bind(null,this.syncEngine),await nI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new sI})()}createDatastore(t){const i=wh(t.databaseInfo.databaseId),a=(function(c){return new zC(c)})(t.databaseInfo);return(function(c,d,p,y){return new HC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new GC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>c0(this.syncEngine,i,0)),(function(){return s0.v()?new s0:new kC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,b){const A=new cI(l,c,d,p,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);ot(sa,"RemoteStore shutting down."),a.Ea.add(5),await Zl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sm.provider={build:()=>new Sm};class HT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ps("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const _r="FirestoreClient";class wI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ag(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Yd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(_r,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await bT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function f0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await RI(r);ot(_r,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>a0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>a0(t.remoteStore,l))),r._onlineComponents=t}async function RI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(_r,"Using user provided OfflineComponentProvider");try{await Yd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ro("Error using user provided cache. Falling back to memory cache: "+i),await Yd(r,new ch)}}else ot(_r,"Using default OfflineComponentProvider"),await Yd(r,new SI(void 0));return r._offlineComponents}async function FT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(_r,"Using user provided OnlineComponentProvider"),await f0(r,r._uninitializedComponentsProvider._online)):(ot(_r,"Using default OnlineComponentProvider"),await f0(r,new Sm))),r._onlineComponents}function CI(r){return FT(r).then((t=>t.syncEngine))}async function wm(r){const t=await FT(r),i=t.eventManager;return i.onListen=hI.bind(null,t.syncEngine),i.onUnlisten=mI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=fI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=gI.bind(null,t.syncEngine),i}function II(r,t,i={}){const a=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const b=new HT({next:O=>{b.Nu(),d.enqueueAndForget((()=>MT(c,A)));const Q=O.docs.has(p);!Q&&O.fromCache?_.reject(new st($.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&O.fromCache&&y&&y.source==="server"?_.reject(new st($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),A=new VT(vh(p.path),b,{includeMetadataChanges:!0,qa:!0});return OT(c,A)})(await wm(r),r.asyncQueue,t,i,a))),a.promise}function GT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const d0=new Map;const QT="firestore.googleapis.com",m0=!0;class g0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QT,this.ssl=m0}else this.host=t.host,this.ssl=t.ssl??m0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ET;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<oC)throw new st($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}F2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ih{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new V2;switch(a.type){case"firstParty":return new P2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=d0.get(i);a&&(ot("ComponentProvider","Removing Datastore"),d0.delete(i),a.terminate())})(this),Promise.resolve()}}function NI(r,t,i,a={}){r=Yn(r,Ih);const l=ho(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(j0(`https://${p}`),B0("Firestore",!0)),c.host!==QT&&c.host!==p&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!ta(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=nn.MOCK_USER;else{_=iA(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new st($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new nn(A)}r._authCredentials=new k2(new OE(_,b))}}class vo{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new vo(this.firestore,t,this._query)}}class ve{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ve(this.firestore,t,this._key)}toJSON(){return{type:ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Kl(i,ve._jsonSchema))return new ve(t,a||null,new dt(le.fromString(i.referencePath)))}}ve._jsonSchemaVersion="firestore/documentReference/1.0",ve._jsonSchema={type:Le("string",ve._jsonSchemaVersion),referencePath:Le("string")};class fr extends vo{constructor(t,i,a){super(t,i,vh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ve(this.firestore,null,new dt(t))}withConverter(t){return new fr(this.firestore,t,this._path)}}function Vc(r,t,...i){if(r=Je(r),ME("collection","path",t),r instanceof Ih){const a=le.fromString(t,...i);return Iv(a),new fr(r,null,a)}{if(!(r instanceof ve||r instanceof fr))throw new st($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(le.fromString(t,...i));return Iv(a),new fr(r.firestore,null,a)}}function ls(r,t,...i){if(r=Je(r),arguments.length===1&&(t=jm.newId()),ME("doc","path",t),r instanceof Ih){const a=le.fromString(t,...i);return Cv(a),new ve(r,null,new dt(a))}{if(!(r instanceof ve||r instanceof fr))throw new st($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(le.fromString(t,...i));return Cv(a),new ve(r.firestore,r instanceof fr?r.converter:null,new dt(a))}}const p0="AsyncQueue";class y0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ST(this,"async_queue_retry"),this._c=()=>{const a=Kd();a&&ot(p0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!yo(t))throw t;ot(p0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",_0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=rg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:_0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function _0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function v0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class vr extends Ih{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new y0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new y0(t),this._firestoreClient=void 0,await t}}}function DI(r,t){const i=typeof r=="object"?r:G0(),a=typeof r=="string"?r:nh,l=Dm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=eA("firestore");c&&NI(l,...c)}return l}function cg(r){if(r._terminated)throw new st($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xI(r),r._firestoreClient}function xI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new eR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,GT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new wI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(We.fromBase64String(t))}catch(i){throw new st($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Kn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Kl(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Le("string",Kn._jsonSchemaVersion),bytes:Le("string")};class Nh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Dh{constructor(t){this._methodName=t}}class Pi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(t){if(Kl(t,Pi._jsonSchema))return new Pi(t.latitude,t.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Le("string",Pi._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class zi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Kl(t,zi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new zi(t.vectorValues);throw new st($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Le("string",zi._jsonSchemaVersion),vectorValues:Le("object")};const OI=/^__.*__$/;class MI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Tr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Xl(t,this.data,i,this.fieldTransforms)}}class KT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Tr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function YT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class hg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new hg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return hh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(YT(this.Ac)&&OI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class VI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||wh(t)}Cc(t,i,a,l=!1){return new hg({Ac:t,methodName:i,Dc:a,path:Ze.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xh(r){const t=r._freezeSettings(),i=wh(r._databaseId);return new VI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function XT(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);dg("Data must be an object, but it was:",d,a);const p=$T(a,d);let y,_;if(c.merge)y=new Cn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const O=Rm(t,A,i);if(!d.contains(O))throw new st($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);JT(b,O)||b.push(O)}y=new Cn(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new MI(new pn(p),y,_)}class Oh extends Dh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Oh}}class fg extends Dh{_toFieldTransform(t){return new CR(t.path,new Ll)}isEqual(t){return t instanceof fg}}function kI(r,t,i,a){const l=r.Cc(1,t,i);dg("Data must be an object, but it was:",l,a);const c=[],d=pn.empty();Er(a,((y,_)=>{const b=mg(t,y,i);_=Je(_);const A=l.yc(b);if(_ instanceof Oh)c.push(b);else{const O=Wl(_,A);O!=null&&(c.push(b),d.set(b,O))}}));const p=new Cn(c);return new KT(d,p,l.fieldTransforms)}function UI(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Rm(t,a,i)],y=[l];if(c.length%2!=0)throw new st($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(Rm(t,c[O])),y.push(c[O+1]);const _=[],b=pn.empty();for(let O=p.length-1;O>=0;--O)if(!JT(_,p[O])){const Q=p[O];let J=y[O];J=Je(J);const it=d.yc(Q);if(J instanceof Oh)_.push(Q);else{const W=Wl(J,it);W!=null&&(_.push(Q),b.set(Q,W))}}const A=new Cn(_);return new KT(b,A,d.fieldTransforms)}function LI(r,t,i,a=!1){return Wl(i,r.Cc(a?4:3,t))}function Wl(r,t){if(ZT(r=Je(r)))return dg("Unsupported field value:",t,r),$T(r,t);if(r instanceof Dh)return(function(a,l){if(!YT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Wl(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Je(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return SR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=de.fromDate(a);return{timestampValue:oh(l.serializer,c)}}if(a instanceof de){const c=new de(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oh(l.serializer,c)}}if(a instanceof Pi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Kn)return{bytesValue:dT(l.serializer,a._byteString)};if(a instanceof ve){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof zi)return(function(d,p){return{mapValue:{fields:{[qE]:{stringValue:HE},[ih]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Qm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${gh(a)}`)})(r,t)}function $T(r,t){const i={};return UE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Er(r,((a,l)=>{const c=Wl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function ZT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof de||r instanceof Pi||r instanceof Kn||r instanceof ve||r instanceof Dh||r instanceof zi)}function dg(r,t,i){if(!ZT(i)||!VE(i)){const a=gh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Rm(r,t,i){if((t=Je(t))instanceof Nh)return t._internalPath;if(typeof t=="string")return mg(r,t);throw hh("Field path arguments must be of type string or ",r,!1,void 0,i)}const PI=new RegExp("[~\\*/\\[\\]]");function mg(r,t,i){if(t.search(PI)>=0)throw hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Nh(...t.split("."))._internalPath}catch{throw hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function hh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new st($.INVALID_ARGUMENT,p+r+y)}function JT(r,t){return r.some((i=>i.isEqual(t)))}class WT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new zI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(t1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zI extends WT{data(){return super.data()}}function t1(r,t){return typeof t=="string"?mg(r,t):t instanceof Nh?t._internalPath:t._delegate._internalPath}function jI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class BI extends gg{}function E0(r,t,...i){let a=[];t instanceof gg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof yg)).length,p=c.filter((y=>y instanceof pg)).length;if(d>1||d>0&&p>0)throw new st($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class pg extends BI{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new pg(t,i,a)}_apply(t){const i=this._parse(t);return e1(t._query,i),new vo(t.firestore,t.converter,mm(t._query,i))}_parse(t){const i=xh(t.firestore);return(function(c,d,p,y,_,b,A){let O;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new st($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){b0(A,b);const J=[];for(const it of A)J.push(T0(y,c,it));O={arrayValue:{values:J}}}else O=T0(y,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||b0(A,b),O=LI(p,d,A,b==="in"||b==="not-in");return Ue.create(_,b,O)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class yg extends gg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new yg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ui.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)e1(d,y),d=mm(d,y)})(t._query,i),new vo(t.firestore,t.converter,mm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function T0(r,t,i){if(typeof(i=Je(i))=="string"){if(i==="")throw new st($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZE(t)&&i.indexOf("/")!==-1)throw new st($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(le.fromString(i));if(!dt.isDocumentKey(a))throw new st($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Uv(r,new dt(a))}if(i instanceof ve)return Uv(r,i._key);throw new st($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(i)}.`)}function b0(r,t){if(!Array.isArray(r)||r.length===0)throw new st($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function e1(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new st($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class qI{convertValue(t,i="none"){switch(pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Er(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[ih].arrayValue?.values?.map((a=>we(a.doubleValue)));return new zi(i)}convertGeoPoint(t){return new Pi(we(t.latitude),we(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=_h(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=mr(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=le.fromString(t);Zt(vT(a),9688,{name:t});const l=new kl(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||ps(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function n1(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Sl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wr extends WT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(t1("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:Le("string",Wr._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class Qc extends Wr{data(t={}){return super.data(t)}}class io{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Qc(this._firestore,this._userDataWriter,a.key,a,new Sl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:HI(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=io._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function HI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}function A0(r){r=Yn(r,ve);const t=Yn(r.firestore,vr);return II(cg(t),r._key).then((i=>s1(t,r,i)))}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:Le("string",io._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class i1 extends qI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ve(this.firestore,null,i)}}function FI(r,t,i){r=Yn(r,ve);const a=Yn(r.firestore,vr),l=n1(r.converter,t);return Mh(a,[XT(xh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Xn.none())])}function kc(r,t,i,...a){r=Yn(r,ve);const l=Yn(r.firestore,vr),c=xh(l);let d;return d=typeof(t=Je(t))=="string"||t instanceof Nh?UI(c,"updateDoc",r._key,t,i,a):kI(c,"updateDoc",r._key,t),Mh(l,[d.toMutation(r._key,Xn.exists(!0))])}function S0(r){return Mh(Yn(r.firestore,vr),[new Km(r._key,Xn.none())])}function w0(r,t){const i=Yn(r.firestore,vr),a=ls(r),l=n1(r.converter,t);return Mh(i,[XT(xh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Xn.exists(!1))]).then((()=>a))}function R0(r,...t){r=Je(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||v0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(v0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof ve)d=Yn(r.firestore,vr),p=vh(r._key.path),c={next:y=>{t[a]&&t[a](s1(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Yn(r,vo);d=Yn(y.firestore,vr),p=y._query;const _=new i1(d);c={next:b=>{t[a]&&t[a](new io(d,_,y,b))},error:t[a+1],complete:t[a+2]},jI(r._query)}return(function(_,b,A,O){const Q=new HT(O),J=new VT(b,Q,A);return _.asyncQueue.enqueueAndForget((async()=>OT(await wm(_),J))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>MT(await wm(_),J)))}})(cg(d),p,l,c)}function Mh(r,t){return(function(a,l){const c=new hr;return a.asyncQueue.enqueueAndForget((async()=>pI(await CI(a),l,c))),c.promise})(cg(r),t)}function s1(r,t,i){const a=i.docs.get(t._key),l=new i1(r);return new Wr(r,l,t._key,a,new Sl(i.hasPendingWrites,i.fromCache),t.converter)}function Xd(){return new fg("serverTimestamp")}(function(t,i=!0){(function(l){go=l})(fo),so(new ea("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new vr(new U2(a.getProvider("auth-internal")),new z2(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ur(Av,Sv,t),ur(Av,Sv,"esm2020")})();const GI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),C0=r=>{const t=QI(r);return t.charAt(0).toUpperCase()+t.slice(1)},r1=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),KI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var YI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XI=Ft.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Ft.createElement("svg",{ref:y,...YI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:r1("lucide",l),...!c&&!KI(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>Ft.createElement(_,b)),...Array.isArray(c)?c:[c]]));const Re=(r,t)=>{const i=Ft.forwardRef(({className:a,...l},c)=>Ft.createElement(XI,{ref:c,iconNode:t,className:r1(`lucide-${GI(C0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=C0(r),i};const $I=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$d=Re("calendar",$I);const ZI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],I0=Re("check",ZI);const JI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],WI=Re("chevron-down",JI);const tN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eN=Re("chevron-right",tN);const nN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],iN=Re("circle-check",nN);const sN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rN=Re("circle",sN);const aN=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],N0=Re("folder-open",aN);const oN=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],D0=Re("folder-plus",oN);const lN=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],uN=Re("folder",lN);const cN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],hN=Re("funnel",cN);const fN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],x0=Re("image",fN);const dN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],O0=Re("list",dN);const mN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gN=Re("lock",mN);const pN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yN=Re("log-out",pN);const _N=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],vN=Re("menu",_N);const EN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Zd=Re("pen",EN);const TN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Uc=Re("plus",TN);const bN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],AN=Re("search",bN);const SN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],M0=Re("trash-2",SN);const wN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Jd=Re("video",wN);const RN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CN=Re("x",RN),IN={apiKey:"AIzaSyDNS6_ckh2s0xcvohH0r76RH50-zFsB7sQ",authDomain:"my-lifelog-app.firebaseapp.com",projectId:"my-lifelog-app",storageBucket:"my-lifelog-app.firebasestorage.app",messagingSenderId:"15182730406",appId:"1:15182730406:web:cc3f5ca9caae618437d067",measurementId:"G-30SSP7BHLW"},Hn="my-local-app",Fn="owner",a1=F0(IN),Wd=O2(a1),Gn=DI(a1),NN=({isSetup:r,onSubmit:t})=>{const[i,a]=Ft.useState(""),[l,c]=Ft.useState(""),[d,p]=Ft.useState(""),y=_=>{if(_.preventDefault(),p(""),i.length!==6||!/^\d+$/.test(i)){p(" 6 ");return}if(r&&i!==l){p("");return}t(i)};return V.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:V.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md text-center",children:[V.jsx("div",{className:"mb-6 flex justify-center",children:V.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:V.jsx(gN,{className:"w-8 h-8 text-blue-600"})})}),V.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:r?"":""}),V.jsx("p",{className:"text-slate-500 mb-6 text-sm",children:r?" 6 ":""}),V.jsxs("form",{onSubmit:y,className:"space-y-4",children:[V.jsx("input",{type:"password",maxLength:6,value:i,onChange:_=>a(_.target.value),className:"w-full text-center text-3xl tracking-widest py-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors",placeholder:""}),r&&V.jsx("input",{type:"password",maxLength:6,value:l,onChange:_=>c(_.target.value),className:"w-full text-center text-3xl tracking-widest py-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors mt-4",placeholder:""}),d&&V.jsx("p",{className:"text-red-500 text-sm font-medium",children:d}),V.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-all transform active:scale-95 shadow-lg mt-4",children:r?"":""})]})]})})};function DN(){const[r,t]=Ft.useState(null),[i,a]=Ft.useState("loading"),[l,c]=Ft.useState([]),[d,p]=Ft.useState([]),[y,_]=Ft.useState(null),[b,A]=Ft.useState(""),[O,Q]=Ft.useState("all"),[J,it]=Ft.useState("all"),[W,mt]=Ft.useState({}),[Et,gt]=Ft.useState(!1),[Yt,Jt]=Ft.useState(null),[Nt,I]=Ft.useState(""),[S,R]=Ft.useState(!1),[M,N]=Ft.useState(null),[k,w]=Ft.useState("text"),[wt,Xt]=Ft.useState({title:"",content:"",imageUrl:"",date:"",videoUrl:"",todoItems:[]}),[F,et]=Ft.useState(!1),[ht,Ot]=Ft.useState(""),[jt,x]=Ft.useState(null);Ft.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await _w(Wd,__initial_auth_token):await dw(Wd))();const at=Tw(Wd,ct=>{t(ct),ct||a("loading")});return()=>at()},[]),Ft.useEffect(()=>{if(!r)return;(async()=>{try{const at=ls(Gn,"artifacts",Hn,"users",Fn,"settings","security");(await A0(at)).exists()?a("lock"):a("setup")}catch(at){console.error("Error checking PIN settings:",at)}})()},[r]),Ft.useEffect(()=>{if(!r||i!=="authenticated")return;const q=E0(Vc(Gn,"artifacts",Hn,"users",Fn,"categories")),at=R0(q,ue=>{const Gt=ue.docs.map(ce=>({id:ce.id,...ce.data()}));Gt.sort((ce,$t)=>ce.name.localeCompare($t.name)),c(Gt)},ue=>console.error("Cat sync error",ue)),ct=E0(Vc(Gn,"artifacts",Hn,"users",Fn,"cards")),In=R0(ct,ue=>{const Gt=ue.docs.map(ce=>({id:ce.id,...ce.data()}));Gt.sort((ce,$t)=>($t.createdAt?.seconds||0)-(ce.createdAt?.seconds||0)),p(Gt)},ue=>console.error("Card sync error",ue));return()=>{at(),In()}},[r,i]);const Y=async q=>{if(!r)return;const at=ls(Gn,"artifacts",Hn,"users",Fn,"settings","security");if(i==="setup")await FI(at,{pin:q,createdAt:Xd()}),a("authenticated");else if(i==="lock"){const ct=await A0(at);ct.exists()&&ct.data().pin===q?a("authenticated"):alert("")}},nt=async q=>{q.preventDefault(),ht.trim()&&(await w0(Vc(Gn,"artifacts",Hn,"users",Fn,"categories"),{name:ht,parentId:jt||null,createdAt:Xd()}),jt&&mt(at=>({...at,[jt]:!0})),Ot(""),et(!1),x(null))},rt=async(q,at)=>{at.stopPropagation(),confirm("()")&&await S0(ls(Gn,"artifacts",Hn,"users",Fn,"categories",q))},_t=(q,at)=>{q.stopPropagation(),Jt(at.id),I(at.name)},Tt=q=>{q&&q.stopPropagation(),Jt(null),I("")},Mt=async(q,at)=>{if(q&&(q.preventDefault(),q.stopPropagation()),!Nt.trim()){Tt();return}try{await kc(ls(Gn,"artifacts",Hn,"users",Fn,"categories",at),{name:Nt.trim()})}catch(ct){console.error("Error renaming category:",ct),alert("")}Jt(null),I("")},Ee=()=>{N(null),w("text"),yn(),R(!0)},oe=q=>{N(q),w(q.type),Xt({title:q.title,content:q.content||"",imageUrl:q.imageUrl||"",date:q.date||"",videoUrl:q.videoUrl||"",todoItems:q.todoItems||[]}),q.type==="todo"&&q.todoItems&&Xt(at=>({...at,content:q.todoItems.map(ct=>ct.text).join(`
`)})),R(!0)},Bi=async q=>{q.preventDefault();const at={type:k,categoryId:y||(M?M.categoryId:null),title:wt.title,...M?{}:{createdAt:Xd(),isCompleted:!1},...wt};if(k!=="text"&&delete at.imageUrl,k!=="schedule"&&delete at.date,k!=="video"&&delete at.videoUrl,k!=="todo")delete at.todoItems;else{const In=wt.content.split(`
`).filter(ue=>ue.trim()).map(ue=>{const Gt=M?.todoItems?.find(ce=>ce.text===ue);return{text:ue,done:Gt?Gt.done:!1}});at.todoItems=In,delete at.content}try{M?await kc(ls(Gn,"artifacts",Hn,"users",Fn,"cards",M.id),at):await w0(Vc(Gn,"artifacts",Hn,"users",Fn,"cards"),at),R(!1),yn()}catch(ct){console.error("Error saving card:",ct),alert("")}},vs=async q=>{await kc(ls(Gn,"artifacts",Hn,"users",Fn,"cards",q.id),{isCompleted:!q.isCompleted})},Es=async(q,at)=>{const ct=[...q.todoItems];ct[at].done=!ct[at].done,await kc(ls(Gn,"artifacts",Hn,"users",Fn,"cards",q.id),{todoItems:ct})},Ts=async q=>{confirm("")&&await S0(ls(Gn,"artifacts",Hn,"users",Fn,"cards",q))},yn=()=>{Xt({title:"",content:"",imageUrl:"",date:"",videoUrl:"",todoItems:[]})},br=(q,at)=>{q.stopPropagation(),mt(ct=>({...ct,[at]:!ct[at]}))},ci=(q=null)=>{const at=l.filter(ct=>ct.parentId===q);return at.length===0?null:V.jsx("ul",{className:"space-y-0.5",children:at.map(ct=>{const In=l.some($t=>$t.parentId===ct.id),ue=W[ct.id],Gt=y===ct.id,ce=Yt===ct.id;return V.jsxs("li",{className:"select-none",children:[V.jsxs("div",{className:`group flex items-center justify-between p-1.5 rounded-md cursor-pointer transition-colors border border-transparent ${Gt&&!ce?"bg-blue-100 text-blue-700 border-blue-200":"hover:bg-slate-100 text-slate-700"}`,onClick:()=>{ce||(_(ct.id),window.innerWidth<768&&gt(!1))},children:[V.jsxs("div",{className:"flex items-center gap-1 overflow-hidden flex-1 min-w-0",children:[V.jsx("button",{onClick:$t=>br($t,ct.id),className:`p-0.5 rounded hover:bg-black/5 text-slate-400 flex-shrink-0 transition-transform ${In?"":"invisible"}`,children:ue?V.jsx(WI,{className:"w-4 h-4"}):V.jsx(eN,{className:"w-4 h-4"})}),ue?V.jsx(N0,{className:`w-4 h-4 flex-shrink-0 ${Gt?"fill-blue-300 text-blue-600":"text-yellow-500 fill-yellow-100"}`}):V.jsx(uN,{className:`w-4 h-4 flex-shrink-0 ${Gt?"fill-blue-300 text-blue-600":"text-yellow-500 fill-yellow-100"}`}),ce?V.jsxs("form",{onSubmit:$t=>Mt($t,ct.id),className:"flex-1 ml-1 flex items-center gap-1",onClick:$t=>$t.stopPropagation(),children:[V.jsx("input",{autoFocus:!0,type:"text",value:Nt,onChange:$t=>I($t.target.value),onKeyDown:$t=>{$t.key==="Escape"&&Tt($t)},className:"w-full text-sm px-1.5 py-0.5 border border-blue-300 rounded bg-white focus:outline-none focus:ring-2 focus:ring-blue-200"}),V.jsx("button",{type:"submit",className:"p-0.5 text-green-600 hover:bg-green-100 rounded",children:V.jsx(I0,{className:"w-3.5 h-3.5"})}),V.jsx("button",{type:"button",onClick:Tt,className:"p-0.5 text-red-500 hover:bg-red-100 rounded",children:V.jsx(CN,{className:"w-3.5 h-3.5"})})]}):V.jsx("span",{className:"truncate text-sm font-medium ml-1",children:ct.name})]}),!ce&&V.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[V.jsx("button",{onClick:$t=>_t($t,ct),className:"p-1 hover:bg-slate-200 text-slate-500 rounded mr-0.5",children:V.jsx(Zd,{className:"w-3 h-3"})}),V.jsx("button",{onClick:$t=>{$t.stopPropagation(),x(ct.id),et(!0),mt(hi=>({...hi,[ct.id]:!0}))},className:"p-1 hover:bg-blue-200 text-blue-600 rounded mr-0.5",children:V.jsx(Uc,{className:"w-3 h-3"})}),V.jsx("button",{onClick:$t=>rt(ct.id,$t),className:"p-1 hover:bg-red-100 text-red-500 rounded",children:V.jsx(M0,{className:"w-3 h-3"})})]})]}),In&&ue&&V.jsx("div",{className:"ml-[1.1rem] border-l border-slate-200 pl-1 mt-0.5 mb-1",children:ci(ct.id)})]},ct.id)})})},bs=Ft.useMemo(()=>d.filter(q=>{const at=q.title.toLowerCase().includes(b.toLowerCase())||q.content&&q.content.toLowerCase().includes(b.toLowerCase());let ct=!0;if(y){const Gt=$t=>{const hi=l.filter(qi=>qi.parentId===$t);let Nn=hi.map(qi=>qi.id);return hi.forEach(qi=>{Nn=[...Nn,...Gt(qi.id)]}),Nn};ct=[y,...Gt(y)].includes(q.categoryId)}const In=O==="all"?!0:q.type===O;let ue=!0;return J==="completed"&&(ue=q.isCompleted),J==="pending"&&(ue=!q.isCompleted),at&&ct&&In&&ue}),[d,b,y,O,J,l]),As=q=>{if(!q)return"";const at=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,ct=q.match(at);return ct&&ct[2].length===11?`https://www.youtube.com/embed/${ct[2]}`:null};return i==="loading"?V.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-50 text-slate-500",children:"..."}):i==="setup"||i==="lock"?V.jsx(NN,{isSetup:i==="setup",onSubmit:Y}):V.jsxs("div",{className:"flex h-screen w-full bg-slate-50 overflow-hidden text-slate-900 font-sans relative",children:[Et&&V.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden animate-in fade-in duration-200",onClick:()=>gt(!1)}),V.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-40 w-72 bg-white border-r border-slate-200 flex flex-col shadow-xl transition-transform duration-300 ease-in-out md:relative md:translate-x-0 md:shadow-[2px_0_10px_rgba(0,0,0,0.02)]
        ${Et?"translate-x-0":"-translate-x-full"}
      `,children:[V.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-slate-50/50 h-16",children:[V.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"My LifeLog"}),V.jsx("button",{onClick:()=>{a("lock")},title:"",className:"hover:bg-slate-200 p-1.5 rounded-full transition-colors",children:V.jsx(yN,{className:"w-5 h-5 text-slate-500"})})]}),V.jsxs("div",{className:"flex-1 overflow-y-auto p-3 custom-scrollbar",children:[V.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer mb-3 font-semibold transition-colors ${y?"text-slate-600 hover:bg-slate-100":"bg-blue-50 text-blue-700 ring-1 ring-blue-200"}`,onClick:()=>{_(null),window.innerWidth<768&&gt(!1)},children:[V.jsx(D0,{className:"w-5 h-5"}),V.jsx("span",{children:""})]}),V.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-2",children:""}),ci(),l.length===0&&V.jsxs("div",{className:"text-center text-slate-400 text-sm mt-8",children:["",V.jsx("br",{}),""]})]}),V.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50/30",children:V.jsxs("button",{onClick:()=>{x(null),et(!0)},className:"w-full flex items-center justify-center gap-2 bg-white border border-slate-200 hover:border-blue-300 hover:text-blue-600 text-slate-600 py-2.5 rounded-lg transition-all text-sm font-medium shadow-sm hover:shadow",children:[V.jsx(Uc,{className:"w-4 h-4"})," "]})})]}),V.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-slate-50/50",children:[V.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center px-4 md:px-6 justify-between gap-3 sticky top-0 z-10",children:[V.jsx("button",{className:"md:hidden p-2 -ml-2 text-slate-500 hover:bg-slate-100 rounded-lg",onClick:()=>gt(!Et),children:V.jsx(vN,{className:"w-6 h-6"})}),V.jsxs("div",{className:"flex items-center gap-3 flex-1 max-w-2xl bg-slate-100 px-4 py-2 rounded-full focus-within:ring-2 ring-blue-500/20 transition-all focus-within:bg-white border border-transparent focus-within:border-blue-200",children:[V.jsx(AN,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}),V.jsx("input",{type:"text",placeholder:"...",className:"bg-transparent border-none outline-none w-full text-slate-700 placeholder-slate-400 min-w-0",value:b,onChange:q=>A(q.target.value)})]}),V.jsxs("button",{onClick:Ee,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-3 md:px-5 py-2 md:py-2.5 rounded-full font-medium shadow-lg shadow-blue-200 transition-all active:scale-95 hover:-translate-y-0.5 flex-shrink-0",children:[V.jsx(Uc,{className:"w-5 h-5"}),V.jsx("span",{className:"hidden sm:inline",children:""})]})]}),V.jsxs("div",{className:"px-4 md:px-8 py-4 md:py-6 flex flex-wrap items-center gap-3",children:[V.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1.5 rounded-lg border border-slate-200 shadow-sm text-sm hover:border-blue-300 transition-colors",children:[V.jsx(hN,{className:"w-4 h-4 text-slate-500"}),V.jsx("span",{className:"text-slate-500 hidden sm:inline",children:":"}),V.jsxs("select",{value:J,onChange:q=>it(q.target.value),className:"bg-transparent outline-none text-slate-700 font-medium cursor-pointer",children:[V.jsx("option",{value:"all",children:""}),V.jsx("option",{value:"completed",children:""}),V.jsx("option",{value:"pending",children:""})]})]}),V.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1.5 rounded-lg border border-slate-200 shadow-sm text-sm hover:border-blue-300 transition-colors",children:[V.jsx("span",{className:"text-slate-500 hidden sm:inline",children:":"}),V.jsxs("select",{value:O,onChange:q=>Q(q.target.value),className:"bg-transparent outline-none text-slate-700 font-medium cursor-pointer",children:[V.jsx("option",{value:"all",children:""}),V.jsx("option",{value:"text",children:""}),V.jsx("option",{value:"schedule",children:""}),V.jsx("option",{value:"video",children:""}),V.jsx("option",{value:"todo",children:""})]})]})]}),V.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-8 pb-8 custom-scrollbar",children:V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:[bs.map(q=>V.jsxs("div",{className:`group bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden flex flex-col transition-all hover:shadow-lg hover:border-blue-200 ${q.isCompleted?"opacity-60 grayscale-[0.5]":""}`,children:[V.jsxs("div",{className:"p-3 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[V.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500",children:[q.type==="text"&&V.jsxs(V.Fragment,{children:[V.jsx(x0,{className:"w-3.5 h-3.5 text-blue-500"})," "]}),q.type==="schedule"&&V.jsxs(V.Fragment,{children:[V.jsx($d,{className:"w-3.5 h-3.5 text-orange-500"})," "]}),q.type==="video"&&V.jsxs(V.Fragment,{children:[V.jsx(Jd,{className:"w-3.5 h-3.5 text-red-500"})," "]}),q.type==="todo"&&V.jsxs(V.Fragment,{children:[V.jsx(O0,{className:"w-3.5 h-3.5 text-green-500"})," "]})]}),V.jsxs("div",{className:"flex items-center gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[V.jsx("button",{onClick:()=>vs(q),className:`p-1.5 rounded-md transition-colors ${q.isCompleted?"text-green-600 bg-green-100":"text-slate-400 hover:text-green-600 hover:bg-green-50"}`,title:q.isCompleted?"":"",children:q.isCompleted?V.jsx(iN,{className:"w-4 h-4"}):V.jsx(rN,{className:"w-4 h-4"})}),V.jsx("button",{onClick:()=>oe(q),className:"text-slate-400 hover:text-blue-500 hover:bg-blue-50 p-1.5 rounded-md transition-colors",children:V.jsx(Zd,{className:"w-4 h-4"})}),V.jsx("button",{onClick:()=>Ts(q.id),className:"text-slate-400 hover:text-red-500 hover:bg-red-50 p-1.5 rounded-md transition-colors",children:V.jsx(M0,{className:"w-4 h-4"})})]})]}),V.jsxs("div",{className:"p-4 md:p-5 flex-1 flex flex-col gap-3",children:[V.jsx("h3",{className:`font-bold text-lg leading-snug break-words ${q.isCompleted?"line-through text-slate-500":"text-slate-800"}`,children:q.title}),q.type==="text"&&V.jsxs(V.Fragment,{children:[q.imageUrl&&V.jsx("img",{src:q.imageUrl,alt:"card attachment",className:"w-full h-36 object-cover rounded-lg mb-2 bg-slate-100 border border-slate-100"}),V.jsx("p",{className:"text-sm text-slate-600 whitespace-pre-wrap leading-relaxed break-words",children:q.content})]}),q.type==="schedule"&&V.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-100 mt-1",children:[V.jsxs("div",{className:"flex items-center gap-2 text-orange-700 font-bold text-sm mb-1.5",children:[V.jsx($d,{className:"w-4 h-4"}),q.date?new Date(q.date).toLocaleString("zh-TW",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]}),V.jsx("p",{className:"text-sm text-slate-600 break-words",children:q.content})]}),q.type==="video"&&V.jsx("div",{className:"rounded-lg overflow-hidden bg-black aspect-video relative shadow-inner",children:As(q.videoUrl)?V.jsx("iframe",{src:As(q.videoUrl),className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):V.jsxs("div",{className:"w-full h-full flex flex-col gap-2 items-center justify-center text-white text-xs p-4 text-center",children:[V.jsx(Jd,{className:"w-8 h-8 opacity-50"}),V.jsx("a",{href:q.videoUrl,target:"_blank",className:"underline hover:text-blue-300 break-all",children:""})]})}),q.type==="todo"&&V.jsx("ul",{className:"space-y-1 mt-1",children:q.todoItems&&q.todoItems.map((at,ct)=>V.jsxs("li",{className:`flex items-start gap-2.5 text-sm p-1.5 rounded-md hover:bg-slate-50 cursor-pointer transition-colors ${at.done?"text-slate-400":"text-slate-700"}`,onClick:()=>Es(q,ct),children:[V.jsx("div",{className:`mt-0.5 w-4 h-4 rounded border flex items-center justify-center flex-shrink-0 transition-colors ${at.done?"bg-green-500 border-green-500":"border-slate-400 bg-white"}`,children:at.done&&V.jsx(I0,{className:"w-3 h-3 text-white"})}),V.jsx("span",{className:`leading-relaxed break-words flex-1 ${at.done?"line-through decoration-slate-400":""}`,children:at.text})]},ct))})]})]},q.id)),bs.length===0&&V.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-slate-400",children:[V.jsx("div",{className:"bg-slate-100 p-6 rounded-full mb-4",children:V.jsx(N0,{className:"w-10 h-10 text-slate-300"})}),V.jsx("p",{className:"text-lg font-medium",children:""}),V.jsx("p",{className:"text-sm mt-2",children:""})]})]})})]}),F&&V.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 animate-in fade-in duration-200 p-4",children:V.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-[90vw] md:w-96 shadow-2xl scale-100 transform transition-all",children:[V.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 flex items-center gap-2",children:[V.jsx(D0,{className:"w-5 h-5 text-blue-600"}),jt?"":""]}),V.jsxs("form",{onSubmit:nt,children:[V.jsx("input",{autoFocus:!0,type:"text",value:ht,onChange:q=>Ot(q.target.value),placeholder:"...",className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 mb-4 focus:ring-2 ring-blue-500 focus:border-blue-500 outline-none transition-all"}),V.jsxs("div",{className:"flex justify-end gap-2",children:[V.jsx("button",{type:"button",onClick:()=>et(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg transition-colors",children:""}),V.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-md shadow-blue-200 transition-all",children:""})]})]})]})}),S&&V.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:V.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-[95vw] md:max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",children:[V.jsx("h3",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center gap-2",children:M?V.jsxs(V.Fragment,{children:[V.jsx(Zd,{className:"w-6 h-6 text-orange-600 bg-orange-50 rounded-full p-1"}),""]}):V.jsxs(V.Fragment,{children:[V.jsx(Uc,{className:"w-6 h-6 text-blue-600 bg-blue-50 rounded-full p-1"}),""]})}),V.jsxs("form",{onSubmit:Bi,className:"space-y-5",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:""}),V.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{id:"text",label:"",icon:x0,color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-200"},{id:"schedule",label:"",icon:$d,color:"text-orange-600",bg:"bg-orange-50",border:"border-orange-200"},{id:"video",label:"",icon:Jd,color:"text-red-600",bg:"bg-red-50",border:"border-red-200"},{id:"todo",label:"",icon:O0,color:"text-green-600",bg:"bg-green-50",border:"border-green-200"}].map(q=>V.jsxs("button",{type:"button",onClick:()=>!M&&w(q.id),className:`flex flex-col items-center justify-center gap-1 py-3 px-1 rounded-xl border transition-all duration-200 
                                    ${k===q.id?`${q.border} ${q.bg} ${q.color} ring-1 ring-offset-1 ring-${q.color.split("-")[1]}-400 font-bold shadow-sm`:"border-slate-200 text-slate-500 hover:bg-slate-50"}
                                    ${M&&k!==q.id?"opacity-40 cursor-not-allowed":""}
                                `,children:[V.jsx(q.icon,{className:"w-5 h-5"}),V.jsx("span",{className:"text-xs",children:q.label})]},q.id))})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:""}),V.jsx("input",{required:!0,type:"text",value:wt.title,onChange:q=>Xt({...wt,title:q.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 focus:ring-2 ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"..."})]}),k==="text"&&V.jsxs(V.Fragment,{children:[V.jsxs("div",{children:[V.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:[" ",V.jsx("span",{className:"text-slate-400 font-normal text-xs",children:"()"})]}),V.jsx("input",{type:"url",value:wt.imageUrl,onChange:q=>Xt({...wt,imageUrl:q.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 focus:ring-2 ring-blue-500 outline-none transition-all",placeholder:"https://..."})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:""}),V.jsx("textarea",{value:wt.content,onChange:q=>Xt({...wt,content:q.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 h-32 focus:ring-2 ring-blue-500 outline-none transition-all resize-none",placeholder:"..."})]})]}),k==="schedule"&&V.jsxs(V.Fragment,{children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:""}),V.jsx("input",{required:!0,type:"datetime-local",value:wt.date,onChange:q=>Xt({...wt,date:q.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 focus:ring-2 ring-blue-500 outline-none transition-all"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:""}),V.jsx("textarea",{value:wt.content,onChange:q=>Xt({...wt,content:q.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 h-24 focus:ring-2 ring-blue-500 outline-none transition-all",placeholder:"..."})]})]}),k==="video"&&V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:" (YouTube)"}),V.jsx("input",{required:!0,type:"url",value:wt.videoUrl,onChange:q=>Xt({...wt,videoUrl:q.target.value}),className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 focus:ring-2 ring-blue-500 outline-none transition-all",placeholder:"https://www.youtube.com/watch?v=..."}),V.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" YouTube "})]}),k==="todo"&&V.jsxs("div",{children:[V.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:[" ",V.jsx("span",{className:"text-slate-400 font-normal text-xs",children:"()"})]}),V.jsx("textarea",{value:wt.content,onChange:q=>{Xt({...wt,content:q.target.value})},className:"w-full border border-slate-300 rounded-lg px-3 py-2.5 h-40 focus:ring-2 ring-blue-500 outline-none transition-all font-mono text-sm",placeholder:`

`}),V.jsx("p",{className:"text-xs text-slate-500 mt-1",children:""})]}),V.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-100",children:[V.jsx("button",{type:"button",onClick:()=>R(!1),className:"px-5 py-2.5 text-slate-500 hover:bg-slate-100 rounded-lg transition-colors font-medium",children:""}),V.jsx("button",{type:"submit",className:`px-5 py-2.5 text-white rounded-lg shadow-lg transition-all active:scale-95 font-bold 
                        ${M?"bg-orange-600 hover:bg-orange-700 shadow-orange-200":"bg-blue-600 hover:bg-blue-700 shadow-blue-200"}
                    `,children:M?"":""})]})]})]})})]})}Qb.createRoot(document.getElementById("root")).render(V.jsx(Ft.StrictMode,{children:V.jsx(DN,{})}));
