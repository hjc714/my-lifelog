(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Id={exports:{}},gl={};var M_;function I1(){if(M_)return gl;M_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return gl.Fragment=t,gl.jsx=i,gl.jsxs=i,gl}var x_;function N1(){return x_||(x_=1,Id.exports=I1()),Id.exports}var B=N1(),Nd={exports:{}},Tt={};var U_;function D1(){if(U_)return Tt;U_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function Q(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,tt={};function dt(V,N,Z){this.props=V,this.context=N,this.refs=tt,this.updater=Z||W}dt.prototype.isReactComponent={},dt.prototype.setState=function(V,N){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,N,"setState")},dt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function mt(){}mt.prototype=dt.prototype;function pt(V,N,Z){this.props=V,this.context=N,this.refs=tt,this.updater=Z||W}var vt=pt.prototype=new mt;vt.constructor=pt,it(vt,dt.prototype),vt.isPureReactComponent=!0;var Lt=Array.isArray;function Ut(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(V,N,Z){var J=Z.ref;return{$$typeof:r,type:V,key:N,ref:J!==void 0?J:null,props:Z}}function x(V,N){return C(V.type,N,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function k(V){var N={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Z){return N[Z]})}var w=/\/+/g;function te(V,N){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):N.toString(36)}function de(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ut,Ut):(V.status="pending",V.then(function(N){V.status==="pending"&&(V.status="fulfilled",V.value=N)},function(N){V.status==="pending"&&(V.status="rejected",V.reason=N)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,N,Z,J,lt){var ut=typeof V;(ut==="undefined"||ut==="boolean")&&(V=null);var Rt=!1;if(V===null)Rt=!0;else switch(ut){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(V.$$typeof){case r:case t:Rt=!0;break;case A:return Rt=V._init,F(Rt(V._payload),N,Z,J,lt)}}if(Rt)return lt=lt(V),Rt=J===""?"."+te(V,0):J,Lt(lt)?(Z="",Rt!=null&&(Z=Rt.replace(w,"$&/")+"/"),F(lt,N,Z,"",function(or){return or})):lt!=null&&(D(lt)&&(lt=x(lt,Z+(lt.key==null||V&&V.key===lt.key?"":(""+lt.key).replace(w,"$&/")+"/")+Rt)),N.push(lt)),1;Rt=0;var ne=J===""?".":J+":";if(Lt(V))for(var ae=0;ae<V.length;ae++)J=V[ae],ut=ne+te(J,ae),Rt+=F(J,N,Z,ut,lt);else if(ae=Q(V),typeof ae=="function")for(V=ae.call(V),ae=0;!(J=V.next()).done;)J=J.value,ut=ne+te(J,ae++),Rt+=F(J,N,Z,ut,lt);else if(ut==="object"){if(typeof V.then=="function")return F(de(V),N,Z,J,lt);throw N=String(V),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function nt(V,N,Z){if(V==null)return V;var J=[],lt=0;return F(V,J,"","",function(ut){return N.call(Z,ut,lt++)}),J}function ct(V){if(V._status===-1){var N=V._result;N=N(),N.then(function(Z){(V._status===0||V._status===-1)&&(V._status=1,V._result=Z)},function(Z){(V._status===0||V._status===-1)&&(V._status=2,V._result=Z)}),V._status===-1&&(V._status=0,V._result=N)}if(V._status===1)return V._result.default;throw V._result}var Nt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},zt={map:nt,forEach:function(V,N,Z){nt(V,function(){N.apply(this,arguments)},Z)},count:function(V){var N=0;return nt(V,function(){N++}),N},toArray:function(V){return nt(V,function(N){return N})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Tt.Activity=S,Tt.Children=zt,Tt.Component=dt,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=pt,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(V,N,Z){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var J=it({},V.props),lt=V.key;if(N!=null)for(ut in N.key!==void 0&&(lt=""+N.key),N)!b.call(N,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&N.ref===void 0||(J[ut]=N[ut]);var ut=arguments.length-2;if(ut===1)J.children=Z;else if(1<ut){for(var Rt=Array(ut),ne=0;ne<ut;ne++)Rt[ne]=arguments[ne+2];J.children=Rt}return C(V.type,lt,J)},Tt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Tt.createElement=function(V,N,Z){var J,lt={},ut=null;if(N!=null)for(J in N.key!==void 0&&(ut=""+N.key),N)b.call(N,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(lt[J]=N[J]);var Rt=arguments.length-2;if(Rt===1)lt.children=Z;else if(1<Rt){for(var ne=Array(Rt),ae=0;ae<Rt;ae++)ne[ae]=arguments[ae+2];lt.children=ne}if(V&&V.defaultProps)for(J in Rt=V.defaultProps,Rt)lt[J]===void 0&&(lt[J]=Rt[J]);return C(V,ut,lt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:p,render:V}},Tt.isValidElement=D,Tt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:ct}},Tt.memo=function(V,N){return{$$typeof:y,type:V,compare:N===void 0?null:N}},Tt.startTransition=function(V){var N=I.T,Z={};I.T=Z;try{var J=V(),lt=I.S;lt!==null&&lt(Z,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ut,Nt)}catch(ut){Nt(ut)}finally{N!==null&&Z.types!==null&&(N.types=Z.types),I.T=N}},Tt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Tt.use=function(V){return I.H.use(V)},Tt.useActionState=function(V,N,Z){return I.H.useActionState(V,N,Z)},Tt.useCallback=function(V,N){return I.H.useCallback(V,N)},Tt.useContext=function(V){return I.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,N){return I.H.useDeferredValue(V,N)},Tt.useEffect=function(V,N){return I.H.useEffect(V,N)},Tt.useEffectEvent=function(V){return I.H.useEffectEvent(V)},Tt.useId=function(){return I.H.useId()},Tt.useImperativeHandle=function(V,N,Z){return I.H.useImperativeHandle(V,N,Z)},Tt.useInsertionEffect=function(V,N){return I.H.useInsertionEffect(V,N)},Tt.useLayoutEffect=function(V,N){return I.H.useLayoutEffect(V,N)},Tt.useMemo=function(V,N){return I.H.useMemo(V,N)},Tt.useOptimistic=function(V,N){return I.H.useOptimistic(V,N)},Tt.useReducer=function(V,N,Z){return I.H.useReducer(V,N,Z)},Tt.useRef=function(V){return I.H.useRef(V)},Tt.useState=function(V){return I.H.useState(V)},Tt.useSyncExternalStore=function(V,N,Z){return I.H.useSyncExternalStore(V,N,Z)},Tt.useTransition=function(){return I.H.useTransition()},Tt.version="19.2.3",Tt}var k_;function Am(){return k_||(k_=1,Nd.exports=D1()),Nd.exports}var Wt=Am(),Dd={exports:{}},pl={},Od={exports:{}},Vd={};var L_;function O1(){return L_||(L_=1,(function(r){function t(F,nt){var ct=F.length;F.push(nt);t:for(;0<ct;){var Nt=ct-1>>>1,zt=F[Nt];if(0<l(zt,nt))F[Nt]=nt,F[ct]=zt,ct=Nt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var nt=F[0],ct=F.pop();if(ct!==nt){F[0]=ct;t:for(var Nt=0,zt=F.length,V=zt>>>1;Nt<V;){var N=2*(Nt+1)-1,Z=F[N],J=N+1,lt=F[J];if(0>l(Z,ct))J<zt&&0>l(lt,Z)?(F[Nt]=lt,F[J]=ct,Nt=J):(F[Nt]=Z,F[N]=ct,Nt=N);else if(J<zt&&0>l(lt,ct))F[Nt]=lt,F[J]=ct,Nt=J;else break t}}return nt}function l(F,nt){var ct=F.sortIndex-nt.sortIndex;return ct!==0?ct:F.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,S=null,M=3,Q=!1,W=!1,it=!1,tt=!1,dt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function vt(F){for(var nt=i(y);nt!==null;){if(nt.callback===null)a(y);else if(nt.startTime<=F)a(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function Lt(F){if(it=!1,vt(F),!W)if(i(_)!==null)W=!0,Ut||(Ut=!0,k());else{var nt=i(y);nt!==null&&de(Lt,nt.startTime-F)}}var Ut=!1,I=-1,b=5,C=-1;function x(){return tt?!0:!(r.unstable_now()-C<b)}function D(){if(tt=!1,Ut){var F=r.unstable_now();C=F;var nt=!0;try{t:{W=!1,it&&(it=!1,mt(I),I=-1),Q=!0;var ct=M;try{e:{for(vt(F),S=i(_);S!==null&&!(S.expirationTime>F&&x());){var Nt=S.callback;if(typeof Nt=="function"){S.callback=null,M=S.priorityLevel;var zt=Nt(S.expirationTime<=F);if(F=r.unstable_now(),typeof zt=="function"){S.callback=zt,vt(F),nt=!0;break e}S===i(_)&&a(_),vt(F)}else a(_);S=i(_)}if(S!==null)nt=!0;else{var V=i(y);V!==null&&de(Lt,V.startTime-F),nt=!1}}break t}finally{S=null,M=ct,Q=!1}nt=void 0}}finally{nt?k():Ut=!1}}}var k;if(typeof pt=="function")k=function(){pt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,te=w.port2;w.port1.onmessage=D,k=function(){te.postMessage(null)}}else k=function(){dt(D,0)};function de(F,nt){I=dt(function(){F(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(F){switch(M){case 1:case 2:case 3:var nt=3;break;default:nt=M}var ct=M;M=nt;try{return F()}finally{M=ct}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ct=M;M=F;try{return nt()}finally{M=ct}},r.unstable_scheduleCallback=function(F,nt,ct){var Nt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Nt+ct:Nt):ct=Nt,F){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=ct+zt,F={id:A++,callback:nt,priorityLevel:F,startTime:ct,expirationTime:zt,sortIndex:-1},ct>Nt?(F.sortIndex=ct,t(y,F),i(_)===null&&F===i(y)&&(it?(mt(I),I=-1):it=!0,de(Lt,ct-Nt))):(F.sortIndex=zt,t(_,F),W||Q||(W=!0,Ut||(Ut=!0,k()))),F},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(F){var nt=M;return function(){var ct=M;M=nt;try{return F.apply(this,arguments)}finally{M=ct}}}})(Vd)),Vd}var P_;function V1(){return P_||(P_=1,Od.exports=O1()),Od.exports}var Md={exports:{}},Ye={};var z_;function M1(){if(z_)return Ye;z_=1;var r=Am();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Ye.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},Ye.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ye.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ye.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:Q}):A==="script"&&a.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ye.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ye.requestFormReset=function(_){a.d.r(_)},Ye.unstable_batchedUpdates=function(_,y){return _(y)},Ye.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var j_;function x1(){if(j_)return Md.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=M1(),Md.exports}var B_;function U1(){if(B_)return pl;B_=1;var r=V1(),t=Am(),i=x1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),mt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),Lt=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case dt:return"Profiler";case tt:return"StrictMode";case Lt:return"Suspense";case Ut:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case pt:return e.displayName||"Context";case mt:return(e._context.displayName||"Context")+".Consumer";case vt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var de=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Nt=[],zt=-1;function V(e){return{current:e}}function N(e){0>zt||(e.current=Nt[zt],Nt[zt]=null,zt--)}function Z(e,n){zt++,Nt[zt]=e.current,e.current=n}var J=V(null),lt=V(null),ut=V(null),Rt=V(null);function ne(e,n){switch(Z(ut,n),Z(lt,e),Z(J,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?n_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=n_(n),e=i_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}N(J),Z(J,e)}function ae(){N(J),N(lt),N(ut)}function or(e){e.memoizedState!==null&&Z(Rt,e);var n=J.current,s=i_(n,e.type);n!==s&&(Z(lt,e),Z(J,s))}function Yr(e){lt.current===e&&(N(J),N(lt)),Rt.current===e&&(N(Rt),hl._currentValue=ct)}var Xr,$r;function ti(e){if(Xr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Xr=n&&n[1]||"",$r=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+e+$r}var co=!1;function lr(e,n){if(!e||co)return"";co=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{co=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ti(s):""}function ho(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return ti("Activity");default:return""}}function fo(e){try{var n="",s=null;do n+=ho(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ve=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,os=r.unstable_cancelCallback,Nh=r.unstable_shouldYield,$l=r.unstable_requestPaint,We=r.unstable_now,ur=r.unstable_getCurrentPriorityLevel,mo=r.unstable_ImmediatePriority,go=r.unstable_UserBlockingPriority,ls=r.unstable_NormalPriority,Dh=r.unstable_LowPriority,Zl=r.unstable_IdlePriority,Jl=r.log,Wl=r.unstable_setDisableYieldValue,jn=null,Pe=null;function Sn(e){if(typeof Jl=="function"&&Wl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(jn,e)}catch{}}var me=Math.clz32?Math.clz32:eu,tu=Math.log,Zr=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/Zr|0)|0}var ei=256,cr=262144,Ee=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(g&=E,g!==0?h=ni(g):s||(s=E&~e,s!==0&&(h=ni(s))))):(E=o&~f,E!==0?h=ni(E):g!==0?h=ni(g):s||(s=o&~e,s!==0&&(h=ni(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Bn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function si(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function hr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-me(s),Y=1<<G;E[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&fr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function fr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-me(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function po(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-me(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function yo(e,n){var s=n&-n;return s=(s&42)!==0?1:dr(s),(s&(e.suspendedLanes|n))!==0?0:s}function dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:R_(e.type))}function qn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Hn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Hn,xe="__reactProps$"+Hn,ri="__reactContainer$"+Hn,Jr="__reactEvents$"+Hn,Mh="__reactListeners$"+Hn,su="__reactHandles$"+Hn,ru="__reactResources$"+Hn,ai="__reactMarker$"+Hn;function Wr(e){delete e[Te],delete e[xe],delete e[Jr],delete e[Mh],delete e[su]}function oi(e){var n=e[Te];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ri]||s[Te]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=c_(e);e!==null;){if(s=e[Te])return s;e=c_(e)}return n}e=s,s=e.parentNode}return null}function bn(e){if(e=e[Te]||e[ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function li(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[ai]=!0}var _o=new Set,vo={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(vo[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Ao={};function au(e){return ve.call(Ao,e)?!0:ve.call(To,e)?!1:Eo.test(e)?Ao[e]=!0:(To[e]=!0,!1)}function ta(e,n,s){if(au(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Se(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function us(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=us(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function mr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=us(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gr=/[\n"\\]/g;function nn(e){return e.replace(gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?bo(e,g,Ue(n)):s!=null?bo(e,g,Ue(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function ou(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function bo(e,n,s){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function cs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function hs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(de(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Gt(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||uu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ro(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&wo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return fs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var Co=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,fi=null;function pr(e){var n=bn(e);if(n&&(e=n.stateNode)){var s=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(a(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&mr(o)}break t;case"textarea":lu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&cs(e,!!s.multiple,n,!1)}}}var sa=!1;function ms(e,n,s){if(sa)return e(n,s);sa=!0;try{var o=e(n);return o}finally{if(sa=!1,(ds!==null||fi!==null)&&(ic(),ds&&(n=ds,e=fi,fi=ds=null,pr(n),e)))for(n=0;n<e.length;n++)pr(e[n])}}function Gn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[xe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Rn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{yr=!1}var di=null,Io=null,_r=null;function No(){if(_r)return _r;var e,n=Io,s=n.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return _r=h.slice(e,1<o?1-o:void 0)}function vr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Qn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Qn,this.isPropagationStopped=Qn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=ze(Vi),gs=S({},Vi,{view:0,detail:0}),Do=ze(gs),ps,ra,gi,aa=S({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(ps=e.screenX-gi.screenX,ra=e.screenY-gi.screenY):ra=ps=0,gi=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),Oo=ze(aa),Er=S({},aa,{dataTransfer:0}),hu=ze(Er),fu=S({},gs,{relatedTarget:0}),Tr=ze(fu),Vo=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=ze(Vo),oa=S({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=ze(oa),gu=S({},Vi,{data:0}),pi=ze(gu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function ys(){return vu}var tn=S({},gs,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=ze(tn),Tu=S({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=ze(Tu),u=S({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),m=ze(u),v=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),L=S({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=ze(L),et=S({},Vi,{newState:0,oldState:0}),St=ze(et),ge=[9,13,27,32],qt=Rn&&"CompositionEvent"in window,oe=null;Rn&&"documentMode"in document&&(oe=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!oe,yi=Rn&&(!qt||oe&&8<oe&&11>=oe),Kn=" ",Yn=!1;function Ar(e,n){switch(e){case"keyup":return ge.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function JT(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Yn=!0,Kn);case"textInput":return e=n.data,e===Kn&&Yn?null:e;default:return null}}function WT(e,n){if(ua)return e==="compositionend"||!qt&&Ar(e,n)?(e=No(),_r=Io=di=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var tA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!tA[e.type]:n==="textarea"}function mg(e,n,s,o){ds?fi?fi.push(o):fi=[o]:ds=o,n=cc(n,"onChange"),0<n.length&&(s=new mi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Mo=null,xo=null;function eA(e){$y(e,0)}function Au(e){var n=dn(e);if(mr(n))return e}function gg(e,n){if(e==="change")return n}var pg=!1;if(Rn){var xh;if(Rn){var Uh="oninput"in document;if(!Uh){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Uh=typeof yg.oninput=="function"}xh=Uh}else xh=!1;pg=xh&&(!document.documentMode||9<document.documentMode)}function _g(){Mo&&(Mo.detachEvent("onpropertychange",vg),xo=Mo=null)}function vg(e){if(e.propertyName==="value"&&Au(xo)){var n=[];mg(n,xo,e,wn(e)),ms(eA,n)}}function nA(e,n,s){e==="focusin"?(_g(),Mo=n,xo=s,Mo.attachEvent("onpropertychange",vg)):e==="focusout"&&_g()}function iA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(xo)}function sA(e,n){if(e==="click")return Au(n)}function rA(e,n){if(e==="input"||e==="change")return Au(n)}function aA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:aA;function Uo(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ve.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function Eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tg(e,n){var s=Eg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Eg(s)}}function Ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=hi(e.document)}return n}function kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var oA=Rn&&"documentMode"in document&&11>=document.documentMode,ca=null,Lh=null,ko=null,Ph=!1;function bg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||ca==null||ca!==hi(o)||(o=ca,"selectionStart"in o&&kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ko&&Uo(ko,o)||(ko=o,o=cc(Lh,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ca)))}function Sr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ha={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},zh={},wg={};Rn&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function br(e){if(zh[e])return zh[e];if(!ha[e])return e;var n=ha[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in wg)return zh[e]=n[s];return e}var Rg=br("animationend"),Cg=br("animationiteration"),Ig=br("animationstart"),lA=br("transitionrun"),uA=br("transitionstart"),cA=br("transitioncancel"),Ng=br("transitionend"),Dg=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function Xn(e,n){Dg.set(e,n),ui(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],fa=0,Bh=0;function bu(){for(var e=fa,n=Bh=fa=0;n<e;){var s=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Og(s,h,f)}}function wu(e,n,s,o){In[fa++]=e,In[fa++]=n,In[fa++]=s,In[fa++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,s,o){return wu(e,n,s,o),Ru(e)}function wr(e,n){return wu(e,null,null,n),Ru(e)}function Og(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-me(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ru(e){if(50<sl)throw sl=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function hA(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,s,o){return new hA(e,n,s,o)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var s=e.alternate;return s===null?(s=pn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Vg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=p1(e,s,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=pn(31,s,n,h),e.elementType=C,e.lanes=f,e;case it:return Rr(s.children,h,f,n);case tt:g=8,h|=24;break;case dt:return e=pn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case Lt:return e=pn(13,s,n,h),e.elementType=Lt,e.lanes=f,e;case Ut:return e=pn(19,s,n,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:g=10;break t;case mt:g=9;break t;case vt:g=11;break t;case I:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=pn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Rr(e,n,s,o){return e=pn(7,e,o,n),e.lanes=s,e}function Fh(e,n,s){return e=pn(6,e,null,n),e.lanes=s,e}function Mg(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,s){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xg=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=xg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fo(n)},xg.set(e,n),n)}return{value:e,source:n,stack:fo(n)}}var ma=[],ga=0,Iu=null,Lo=0,Dn=[],On=0,_s=null,_i=1,vi="";function Ui(e,n){ma[ga++]=Lo,ma[ga++]=Iu,Iu=e,Lo=n}function Ug(e,n,s){Dn[On++]=_i,Dn[On++]=vi,Dn[On++]=_s,_s=e;var o=_i;e=vi;var h=32-me(o)-1;o&=~(1<<h),s+=1;var f=32-me(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,_i=1<<32-me(n)+h|s<<h|o,vi=f+e}else _i=1<<f|s<<h|o,vi=e}function Qh(e){e.return!==null&&(Ui(e,1),Ug(e,1,0))}function Kh(e){for(;e===Iu;)Iu=ma[--ga],ma[ga]=null,Lo=ma[--ga],ma[ga]=null;for(;e===_s;)_s=Dn[--On],Dn[On]=null,vi=Dn[--On],Dn[On]=null,_i=Dn[--On],Dn[On]=null}function kg(e,n){Dn[On++]=_i,Dn[On++]=vi,Dn[On++]=_s,_i=n.id,vi=n.overflow,_s=e}var je=null,ie=null,kt=!1,vs=null,Vn=!1,Yh=Error(a(519));function Es(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Nn(n,e)),Yh}function Lg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Te]=e,n[xe]=o,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<al.length;s++)It(al[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),hs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||t_(n.textContent,s)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||Es(e,!0)}function Pg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:je=je.return}}function pa(e){if(e!==je)return!1;if(!kt)return Pg(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||dd(e.type,e.memoizedProps)),s=!s),s&&ie&&Es(e),Pg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=u_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=u_(e)}else n===27?(n=ie,xs(e.type)?(e=_d,_d=null,ie=e):ie=n):ie=je?xn(e.stateNode.nextSibling):null;return!0}function Cr(){ie=je=null,kt=!1}function Xh(){var e=vs;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),vs=null),e}function Po(e){vs===null?vs=[e]:vs.push(e)}var $h=V(null),Ir=null,ki=null;function Ts(e,n,s){Z($h,n._currentValue),n._currentValue=s}function Li(e){e._currentValue=$h.current,N($h)}function Zh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Jh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Zh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Zh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ya(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;gn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Rt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Jh(n,e,s,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nr(e){Ir=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return zg(Ir,e)}function Du(e,n){return Ir===null&&Nr(e),zg(e,n)}function zg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ki===null){if(e===null)throw Error(a(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return s}var fA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},dA=r.unstable_scheduleCallback,mA=r.unstable_NormalPriority,be={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new fA,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&dA(mA,function(){e.controller.abort()})}var jo=null,tf=0,_a=0,va=null;function gA(e,n){if(jo===null){var s=jo=[];tf=0,_a=sd(),va={status:"pending",value:void 0,then:function(o){s.push(o)}}}return tf++,n.then(jg,jg),n}function jg(){if(--tf===0&&jo!==null){va!==null&&(va.status="fulfilled");var e=jo;jo=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function pA(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Bg=F.S;F.S=function(e,n){by=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&gA(e,n),Bg!==null&&Bg(e,n)};var Dr=V(null);function ef(){var e=Dr.current;return e!==null?e:Jt.pooledCache}function Ou(e,n){n===null?Z(Dr,Dr.current):Z(Dr,n.pool)}function qg(){var e=ef();return e===null?null:{parent:be._currentValue,pool:e}}var Ea=Error(a(460)),nf=Error(a(474)),Vu=Error(a(542)),Mu={then:function(){}};function Hg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Fn,Fn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qg(e),e;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qg(e),e}throw Vr=n,Ea}}function Or(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Vr=s,Ea):s}}var Vr=null;function Gg(){if(Vr===null)throw Error(a(459));var e=Vr;return Vr=null,e}function Qg(e){if(e===Ea||e===Vu)throw Error(a(483))}var Ta=null,Bo=0;function xu(e){var n=Bo;return Bo+=1,Ta===null&&(Ta=[]),Fg(Ta,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Kg(e){function n(U,O){if(e){var P=U.deletions;P===null?(U.deletions=[O],U.flags|=16):P.push(O)}}function s(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=xi(U,O),U.index=0,U.sibling=null,U}function f(U,O,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<O?(U.flags|=67108866,O):P):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,P,K){return O===null||O.tag!==6?(O=Fh(P,U.mode,K),O.return=U,O):(O=h(O,P),O.return=U,O)}function R(U,O,P,K){var ht=P.type;return ht===it?G(U,O,P.props.children,K,P.key):O!==null&&(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Or(ht)===O.type)?(O=h(O,P.props),qo(O,P),O.return=U,O):(O=Cu(P.type,P.key,P.props,null,U.mode,K),qo(O,P),O.return=U,O)}function z(U,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Gh(P,U.mode,K),O.return=U,O):(O=h(O,P.children||[]),O.return=U,O)}function G(U,O,P,K,ht){return O===null||O.tag!==7?(O=Rr(P,U.mode,K,ht),O.return=U,O):(O=h(O,P),O.return=U,O)}function Y(U,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Fh(""+O,U.mode,P),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return P=Cu(O.type,O.key,O.props,null,U.mode,P),qo(P,O),P.return=U,P;case W:return O=Gh(O,U.mode,P),O.return=U,O;case b:return O=Or(O),Y(U,O,P)}if(de(O)||k(O))return O=Rr(O,U.mode,P,null),O.return=U,O;if(typeof O.then=="function")return Y(U,xu(O),P);if(O.$$typeof===pt)return Y(U,Du(U,O),P);Uu(U,O)}return null}function j(U,O,P,K){var ht=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(U,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ht?R(U,O,P,K):null;case W:return P.key===ht?z(U,O,P,K):null;case b:return P=Or(P),j(U,O,P,K)}if(de(P)||k(P))return ht!==null?null:G(U,O,P,K,null);if(typeof P.then=="function")return j(U,O,xu(P),K);if(P.$$typeof===pt)return j(U,O,Du(U,P),K);Uu(U,P)}return null}function H(U,O,P,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(P)||null,E(O,U,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return U=U.get(K.key===null?P:K.key)||null,R(O,U,K,ht);case W:return U=U.get(K.key===null?P:K.key)||null,z(O,U,K,ht);case b:return K=Or(K),H(U,O,P,K,ht)}if(de(K)||k(K))return U=U.get(P)||null,G(O,U,K,ht,null);if(typeof K.then=="function")return H(U,O,P,xu(K),ht);if(K.$$typeof===pt)return H(U,O,P,Du(O,K),ht);Uu(O,K)}return null}function at(U,O,P,K){for(var ht=null,jt=null,ot=O,wt=O=0,Ot=null;ot!==null&&wt<P.length;wt++){ot.index>wt?(Ot=ot,ot=null):Ot=ot.sibling;var Bt=j(U,ot,P[wt],K);if(Bt===null){ot===null&&(ot=Ot);break}e&&ot&&Bt.alternate===null&&n(U,ot),O=f(Bt,O,wt),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt,ot=Ot}if(wt===P.length)return s(U,ot),kt&&Ui(U,wt),ht;if(ot===null){for(;wt<P.length;wt++)ot=Y(U,P[wt],K),ot!==null&&(O=f(ot,O,wt),jt===null?ht=ot:jt.sibling=ot,jt=ot);return kt&&Ui(U,wt),ht}for(ot=o(ot);wt<P.length;wt++)Ot=H(ot,U,wt,P[wt],K),Ot!==null&&(e&&Ot.alternate!==null&&ot.delete(Ot.key===null?wt:Ot.key),O=f(Ot,O,wt),jt===null?ht=Ot:jt.sibling=Ot,jt=Ot);return e&&ot.forEach(function(zs){return n(U,zs)}),kt&&Ui(U,wt),ht}function gt(U,O,P,K){if(P==null)throw Error(a(151));for(var ht=null,jt=null,ot=O,wt=O=0,Ot=null,Bt=P.next();ot!==null&&!Bt.done;wt++,Bt=P.next()){ot.index>wt?(Ot=ot,ot=null):Ot=ot.sibling;var zs=j(U,ot,Bt.value,K);if(zs===null){ot===null&&(ot=Ot);break}e&&ot&&zs.alternate===null&&n(U,ot),O=f(zs,O,wt),jt===null?ht=zs:jt.sibling=zs,jt=zs,ot=Ot}if(Bt.done)return s(U,ot),kt&&Ui(U,wt),ht;if(ot===null){for(;!Bt.done;wt++,Bt=P.next())Bt=Y(U,Bt.value,K),Bt!==null&&(O=f(Bt,O,wt),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return kt&&Ui(U,wt),ht}for(ot=o(ot);!Bt.done;wt++,Bt=P.next())Bt=H(ot,U,wt,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&ot.delete(Bt.key===null?wt:Bt.key),O=f(Bt,O,wt),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return e&&ot.forEach(function(C1){return n(U,C1)}),kt&&Ui(U,wt),ht}function Zt(U,O,P,K){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:t:{for(var ht=P.key;O!==null;){if(O.key===ht){if(ht=P.type,ht===it){if(O.tag===7){s(U,O.sibling),K=h(O,P.props.children),K.return=U,U=K;break t}}else if(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Or(ht)===O.type){s(U,O.sibling),K=h(O,P.props),qo(K,P),K.return=U,U=K;break t}s(U,O);break}else n(U,O);O=O.sibling}P.type===it?(K=Rr(P.props.children,U.mode,K,P.key),K.return=U,U=K):(K=Cu(P.type,P.key,P.props,null,U.mode,K),qo(K,P),K.return=U,U=K)}return g(U);case W:t:{for(ht=P.key;O!==null;){if(O.key===ht)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(U,O.sibling),K=h(O,P.children||[]),K.return=U,U=K;break t}else{s(U,O);break}else n(U,O);O=O.sibling}K=Gh(P,U.mode,K),K.return=U,U=K}return g(U);case b:return P=Or(P),Zt(U,O,P,K)}if(de(P))return at(U,O,P,K);if(k(P)){if(ht=k(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),gt(U,O,P,K)}if(typeof P.then=="function")return Zt(U,O,xu(P),K);if(P.$$typeof===pt)return Zt(U,O,Du(U,P),K);Uu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(U,O.sibling),K=h(O,P),K.return=U,U=K):(s(U,O),K=Fh(P,U.mode,K),K.return=U,U=K),g(U)):s(U,O)}return function(U,O,P,K){try{Bo=0;var ht=Zt(U,O,P,K);return Ta=null,ht}catch(ot){if(ot===Ea||ot===Vu)throw ot;var jt=pn(29,ot,null,U.mode);return jt.lanes=K,jt.return=U,jt}}}var Mr=Kg(!0),Yg=Kg(!1),As=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Og(e,null,s),n}return wu(e,o,n,s),Ru(e)}function Ho(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,po(e,s)}}function af(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var of=!1;function Fo(){if(of){var e=va;if(e!==null)throw e}}function Go(e,n,s,o){of=!1;var h=e.updateQueue;As=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,G=z=R=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Dt&j)===j:(o&j)===j){j!==0&&j===_a&&(of=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,gt=E;j=n;var Zt=s;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){Y=at.call(Zt,Y,j);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,j=typeof at=="function"?at.call(Zt,Y,j):at,j==null)break t;Y=S({},Y,j);break t;case 2:As=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,R=Y):G=G.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ns|=g,e.lanes=g,e.memoizedState=Y}}function Xg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function $g(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Xg(s[e],n)}var Aa=V(null),ku=V(0);function Zg(e,n){e=Qi,Z(ku,e),Z(Aa,n),Qi=e|n.baseLanes}function lf(){Z(ku,Qi),Z(Aa,Aa.current)}function uf(){Qi=ku.current,N(Aa),N(ku)}var yn=V(null),Mn=null;function ws(e){var n=e.alternate;Z(pe,pe.current&1),Z(yn,e),Mn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Mn=e)}function cf(e){Z(pe,pe.current),Z(yn,e),Mn===null&&(Mn=e)}function Jg(e){e.tag===22?(Z(pe,pe.current),Z(yn,e),Mn===null&&(Mn=e)):Rs()}function Rs(){Z(pe,pe.current),Z(yn,yn.current)}function _n(e){N(yn),Mn===e&&(Mn=null),N(pe)}var pe=V(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||yd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,bt=null,Xt=null,we=null,Pu=!1,Sa=!1,xr=!1,zu=0,Qo=0,ba=null,yA=0;function ce(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!gn(e[s],n[s]))return!1;return!0}function ff(e,n,s,o,h,f){return Pi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Up:Cf,xr=!1,f=s(o,h),xr=!1,Sa&&(f=tp(n,s,o,h)),Wg(e),f}function Wg(e){F.H=Xo;var n=Xt!==null&&Xt.next!==null;if(Pi=0,we=Xt=bt=null,Pu=!1,Qo=0,ba=null,n)throw Error(a(300));e===null||Re||(e=e.dependencies,e!==null&&Nu(e)&&(Re=!0))}function tp(e,n,s,o){bt=e;var h=0;do{if(Sa&&(ba=null),Qo=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,we=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=kp,f=n(s,o)}while(Sa);return f}function _A(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(bt.flags|=1024),n}function df(){var e=zu!==0;return zu=0,e}function mf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function gf(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}Pi=0,we=Xt=bt=null,Sa=!1,Qo=zu=0,ba=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?bt.memoizedState=we=e:we=we.next=e,we}function ye(){if(Xt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=we===null?bt.memoizedState:we.next;if(n!==null)we=n,Xt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},we===null?bt.memoizedState=we=e:we=we.next=e}return we}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Qo;return Qo+=1,ba===null&&(ba=[]),e=Fg(ba,e,n),n=bt,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Up:Cf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===pt)return Be(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ju(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=x;return n.index++,s}function zi(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=ye();return yf(n,Xt,e)}function yf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Dt&Y)===Y:(Pi&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===_a&&(G=!0);else if((Pi&j)===j){z=z.next,j===_a&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,bt.lanes|=j,Ns|=j;Y=z.action,xr&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,bt.lanes|=Y,Ns|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!gn(f,e.memoizedState)&&(Re=!0,G&&(s=va,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=ye(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);gn(f,n.memoizedState)||(Re=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ep(e,n,s){var o=bt,h=ye(),f=kt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!gn((Xt||h).memoizedState,s);if(g&&(h.memoizedState=s,Re=!0),h=h.queue,Tf(sp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||we!==null&&we.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},ip.bind(null,o,h,s,n),null),Jt===null)throw Error(a(349));f||(Pi&127)!==0||np(o,n,s)}return s}function np(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=ju(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ip(e,n,s,o){n.value=s,n.getSnapshot=o,rp(n)&&ap(e)}function sp(e,n,s){return s(function(){rp(n)&&ap(e)})}function rp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!gn(e,s)}catch{return!0}}function ap(e){var n=wr(e,2);n!==null&&un(n,e,2)}function vf(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),xr){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function op(e,n,s,o){return e.baseState=s,yf(e,Xt,typeof o=="function"?o:zi)}function vA(e,n,s,o,h){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,lp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function lp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(h,o),R=F.S;R!==null&&R(g,E),up(e,n,E)}catch(z){Ef(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),up(e,n,f)}catch(z){Ef(e,n,z)}}function up(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){cp(e,n,o)},function(o){return Ef(e,n,o)}):cp(e,n,s)}function cp(e,n,s){n.status="fulfilled",n.value=s,hp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,lp(e,s)))}function Ef(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,hp(n),n=n.next;while(n!==o)}e.action=null}function hp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function fp(e,n){return n}function dp(e,n){if(kt){var s=Jt.formState;if(s!==null){t:{var o=bt;if(kt){if(ie){e:{for(var h=ie,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=xn(h.nextSibling),o=h.data==="F!";break t}}Es(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:n},s.queue=o,s=Vp.bind(null,bt,o),o.dispatch=s,o=vf(!1),f=Rf.bind(null,bt,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=vA.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function mp(e){var n=ye();return gp(n,Xt,e)}function gp(e,n,s){if(n=yf(e,n,fp)[0],e=qu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(g){throw g===Ea?Vu:g}else o=n;n=ye();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,wa(9,{destroy:void 0},EA.bind(null,h,s),null)),[o,f,e]}function EA(e,n){e.action=n}function pp(e){var n=ye(),s=Xt;if(s!==null)return gp(n,s,e);ye(),n=n.memoizedState,s=ye();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function wa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=ju(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function yp(){return ye().memoizedState}function Hu(e,n,s,o){var h=en();bt.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Fu(e,n,s,o){var h=ye();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&hf(o,Xt.memoizedState.deps)?h.memoizedState=wa(n,f,s,o):(bt.flags|=e,h.memoizedState=wa(1|n,f,s,o))}function _p(e,n){Hu(8390656,8,e,n)}function Tf(e,n){Fu(2048,8,e,n)}function TA(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=ju(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function vp(e){var n=ye().memoizedState;return TA({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ep(e,n){return Fu(4,2,e,n)}function Tp(e,n){return Fu(4,4,e,n)}function Ap(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sp(e,n,s){s=s!=null?s.concat([e]):null,Fu(4,4,Ap.bind(null,n,e),s)}function Af(){}function bp(e,n){var s=ye();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function wp(e,n){var s=ye();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),xr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o}function Sf(e,n,s){return s===void 0||(Pi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ry(),bt.lanes|=e,Ns|=e,s)}function Rp(e,n,s,o){return gn(s,n)?s:Aa.current!==null?(e=Sf(e,s,o),gn(e,n)||(Re=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Dt&261930)===0?(Re=!0,e.memoizedState=s):(e=Ry(),bt.lanes|=e,Ns|=e,n)}function Cp(e,n,s,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Rf(e,!1,n,s);try{var R=h(),z=F.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=pA(R,o);Yo(e,n,G,Tn(e))}else Yo(e,n,o,Tn(e))}catch(Y){Yo(e,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function AA(){}function bf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Ip(e).queue;Cp(e,h,n,ct,s===null?AA:function(){return Np(e),s(o)})}function Ip(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Np(e){var n=Ip(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},Tn())}function wf(){return Be(hl)}function Dp(){return ye().memoizedState}function Op(){return ye().memoizedState}function SA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=Ss(s);var o=bs(n,e,s);o!==null&&(un(o,n,s),Ho(o,n,s)),n={cache:Wh()},e.payload=n;return}n=n.return}}function bA(e,n,s){var o=Tn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Mp(n,s):(s=qh(e,n,s,o),s!==null&&(un(s,e,o),xp(s,n,o)))}function Vp(e,n,s){var o=Tn();Yo(e,n,s,o)}function Yo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Mp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,gn(E,g))return wu(e,n,h,0),Jt===null&&bu(),!1}catch{}if(s=qh(e,n,h,o),s!==null)return un(s,e,o),xp(s,n,o),!0}return!1}function Rf(e,n,s,o){if(o={lane:2,revertLane:sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=qh(e,s,o,2),n!==null&&un(n,e,2)}function Gu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Mp(e,n){Sa=Pu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function xp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,po(e,s)}}var Xo={readContext:Be,use:Bu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Xo.useEffectEvent=ce;var Up={readContext:Be,use:Bu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:_p,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Hu(4194308,4,Ap.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var o=e();if(xr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=en();if(s!==void 0){var h=s(n);if(xr){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=bA.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,s=Vp.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(e,n){var s=en();return Sf(s,e,n)},useTransition:function(){var e=vf(!1);return e=Cp.bind(null,bt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=en();if(kt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(Dt&127)!==0||np(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,_p(sp.bind(null,o,f,e),[e]),o.flags|=2048,wa(9,{destroy:void 0},ip.bind(null,o,f,s,n),null),s},useId:function(){var e=en(),n=Jt.identifierPrefix;if(kt){var s=vi,o=_i;s=(o&~(1<<32-me(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=zu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=yA++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:dp,useActionState:dp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rf.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return en().memoizedState=SA.bind(null,bt)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((Ht&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:Be,use:Bu,useCallback:bp,useContext:Be,useEffect:Tf,useImperativeHandle:Sp,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:qu,useRef:yp,useState:function(){return qu(zi)},useDebugValue:Af,useDeferredValue:function(e,n){var s=ye();return Rp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=qu(zi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:ep,useId:Dp,useHostTransitionStatus:wf,useFormState:mp,useActionState:mp,useOptimistic:function(e,n){var s=ye();return op(s,Xt,e,n)},useMemoCache:pf,useCacheRefresh:Op};Cf.useEffectEvent=vp;var kp={readContext:Be,use:Bu,useCallback:bp,useContext:Be,useEffect:Tf,useImperativeHandle:Sp,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:_f,useRef:yp,useState:function(){return _f(zi)},useDebugValue:Af,useDeferredValue:function(e,n){var s=ye();return Xt===null?Sf(s,e,n):Rp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=_f(zi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:ep,useId:Dp,useHostTransitionStatus:wf,useFormState:pp,useActionState:pp,useOptimistic:function(e,n){var s=ye();return Xt!==null?op(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Op};kp.useEffectEvent=vp;function If(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Nf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Ss(o);h.payload=n,s!=null&&(h.callback=s),n=bs(e,h,o),n!==null&&(un(n,e,o),Ho(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Ss(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=bs(e,h,o),n!==null&&(un(n,e,o),Ho(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),o=Ss(s);o.tag=2,n!=null&&(o.callback=n),n=bs(e,o,s),n!==null&&(un(n,e,s),Ho(n,e,s))}};function Lp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Uo(s,o)||!Uo(h,f):!0}function Pp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function Ur(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function zp(e){Su(e)}function jp(e){console.error(e)}function Bp(e){Su(e)}function Qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,n,s){return s=Ss(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(e,n)},s}function Hp(e){return e=Ss(e),e.tag=3,e}function Fp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){qp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){qp(n,s,o),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function wA(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ya(n,s,h,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?sc():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return s.flags|=65536,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ed(e,o,h)),!1}throw Error(a(435,s.tag))}return ed(e,o,h),sc(),!1}if(kt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(e=Error(a(422),{cause:o}),Po(Nn(e,s)))):(o!==Yh&&(n=Error(a(423),{cause:o}),Po(Nn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,s),h=Df(e.stateNode,o,h),af(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:o});if(f=Nn(f,s),il===null?il=[f]:il.push(f),he!==4&&(he=2),n===null)return!0;o=Nn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Df(s.stateNode,o,e),af(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Hp(h),Fp(h,e,s,o),af(s,h),!1}s=s.return}while(s!==null);return!1}var Of=Error(a(461)),Re=!1;function qe(e,n,s,o){n.child=e===null?Yg(n,null,s,o):Mr(n,e.child,s,o)}function Gp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Nr(n),o=ff(e,n,s,g,f,h),E=df(),e!==null&&!Re?(mf(e,n,h),ji(e,n,h)):(kt&&E&&Qh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Qp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Kp(e,n,f,o,h)):(e=Cu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!zf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Uo,s(g,o)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Kp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Uo(f,o)&&e.ref===n.ref)if(Re=!1,n.pendingProps=o=f,zf(e,h))(e.flags&131072)!==0&&(Re=!0);else return n.lanes=e.lanes,ji(e,n,h)}return Vf(e,n,s,o,h)}function Yp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Xp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Zg(n,f):lf(),Jg(n);else return o=n.lanes=536870912,Xp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Ou(n,f.cachePool),Zg(n,f),Rs(),n.memoizedState=null):(e!==null&&Ou(n,null),lf(),Rs());return qe(e,n,h,s),n.child}function $o(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xp(e,n,s,o,h){var f=ef();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ou(n,null),lf(),Jg(n),e!==null&&ya(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function $p(e,n,s){return Mr(n,e.child,null,s),e=Ku(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function RA(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,$o(null,e);if(cf(n),(e=ie)?(e=l_(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Mg(e),s.return=n,n.child=s,je=n,ie=null)):e=null,e===null)throw Es(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=$p(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Re||ya(e,n,s,!1),h=(s&e.childLanes)!==0,Re||h){if(o=Jt,o!==null&&(g=yo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,wr(e,g),un(o,e,g),Of;sc(),n=$p(e,n,s)}else e=f.treeContext,ie=xn(g.nextSibling),je=n,kt=!0,vs=null,Vn=!1,e!==null&&kg(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=xi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,o,h){return Nr(n),s=ff(e,n,s,o,void 0,h),o=df(),e!==null&&!Re?(mf(e,n,h),ji(e,n,h)):(kt&&o&&Qh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Zp(e,n,s,o,h,f){return Nr(n),n.updateQueue=null,s=tp(n,o,s,h),Wg(e),o=df(),e!==null&&!Re?(mf(e,n,f),ji(e,n,f)):(kt&&o&&Qh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Jp(e,n,s,o,h){if(Nr(n),n.stateNode===null){var f=da,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},sf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):da,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(If(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Go(n,o,f,h),Fo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ur(s,E);f.props=R;var z=f.context,G=s.contextType;g=da,typeof G=="object"&&G!==null&&(g=Be(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Pp(n,f,o,g),As=!1;var j=n.memoizedState;f.state=j,Go(n,o,f,h),Fo(),z=n.memoizedState,E||j!==z||As?(typeof Y=="function"&&(If(n,s,Y,o),z=n.memoizedState),(R=As||Lp(n,s,R,o,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(e,n),g=n.memoizedProps,G=Ur(s,g),f.props=G,Y=n.pendingProps,j=f.context,z=s.contextType,R=da,typeof z=="object"&&z!==null&&(R=Be(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==R)&&Pp(n,f,o,R),As=!1,j=n.memoizedState,f.state=j,Go(n,o,f,h),Fo();var H=n.memoizedState;g!==Y||j!==H||As||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(If(n,s,E,o),H=n.memoizedState),(G=As||Lp(n,s,G,o,j,H,R)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Mr(n,e.child,null,h),n.child=Mr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function Wp(e,n,s,o){return Cr(),n.flags|=256,qe(e,n,s,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:qg()}}function Uf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function ty(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?ws(n):Rs(),(e=ie)?(e=l_(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Mg(e),s.return=n,n.child=s,je=n,ie=null)):e=null,e===null)throw Es(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Rs(),h=n.mode,E=Xu({mode:"hidden",children:E},h),o=Rr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=xf(s),o.childLanes=Uf(e,g,s),n.memoizedState=Mf,$o(null,o)):(ws(n),kf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(ws(n),n.flags&=-257,n=Lf(e,n,s)):n.memoizedState!==null?(Rs(),n.child=e.child,n.flags|=128,n=null):(Rs(),E=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),E=Rr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Mr(n,e.child,null,s),o=n.child,o.memoizedState=xf(s),o.childLanes=Uf(e,g,s),n.memoizedState=Mf,n=$o(null,o));else if(ws(n),yd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Po({value:o,source:null,stack:null}),n=Lf(e,n,s)}else if(Re||ya(e,n,s,!1),g=(s&e.childLanes)!==0,Re||g){if(g=Jt,g!==null&&(o=yo(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,wr(e,o),un(g,e,o),Of;pd(E)||sc(),n=Lf(e,n,s)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ie=xn(E.nextSibling),je=n,kt=!0,vs=null,Vn=!1,e!==null&&kg(n,e),n=kf(n,o.children),n.flags|=4096);return n}return h?(Rs(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=xi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=xi(z,E):(E=Rr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,$o(null,o),o=n.child,E=e.child.memoizedState,E===null?E=xf(s):(h=E.cachePool,h!==null?(R=be._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=qg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Uf(e,g,s),n.memoizedState=Mf,$o(e.child,o)):(ws(n),s=e.child,e=s.sibling,s=xi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function kf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Lf(e,n,s){return Mr(n,e.child,null,s),e=kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ey(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zh(e.return,n,s)}function Pf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ny(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=pe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,Z(pe,g),qe(e,n,o,s),o=kt?Lo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,s,n);else if(e.tag===19)ey(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Lu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Pf(n,!0,s,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ns|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ya(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=xi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=xi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function CA(e,n,s){switch(n.tag){case 3:ne(n,n.stateNode.containerInfo),Ts(n,be,e.memoizedState.cache),Cr();break;case 27:case 5:or(n);break;case 4:ne(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ws(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ty(e,n,s):(ws(n),e=ji(e,n,s),e!==null?e.sibling:null);ws(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ya(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ny(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(pe,pe.current),o)break;return null;case 22:return n.lanes=0,Yp(e,n,s,n.pendingProps);case 24:Ts(n,be,e.memoizedState.cache)}return ji(e,n,s)}function iy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Re=!0;else{if(!zf(e,s)&&(n.flags&128)===0)return Re=!1,CA(e,n,s);Re=(e.flags&131072)!==0}else Re=!1,kt&&(n.flags&1048576)!==0&&Ug(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Or(n.elementType),n.type=e,typeof e=="function")Hh(e)?(o=Ur(e,o),n.tag=1,n=Jp(null,n,e,o,s)):(n.tag=0,n=Vf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===vt){n.tag=11,n=Gp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=Qp(null,n,e,o,s);break t}}throw n=te(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ur(o,n.pendingProps),Jp(e,n,o,h,s);case 3:t:{if(ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Go(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Ts(n,be,o),o!==f.cache&&Jh(n,[be],s,!0),Fo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wp(e,n,o,s);break t}else if(o!==h){h=Nn(Error(a(424)),n),Po(h),n=Wp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=xn(e.firstChild),je=n,kt=!0,vs=null,Vn=!0,s=Yg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Cr(),o===h){n=ji(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Yu(e,n),e===null?(s=m_(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,o=hc(ut.current).createElement(s),o[Te]=n,o[xe]=e,He(o,s,e),Ae(o),n.stateNode=o):n.memoizedState=m_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return or(n),e===null&&kt&&(o=n.stateNode=h_(n.type,n.pendingProps,ut.current),je=n,Vn=!0,h=ie,xs(n.type)?(_d=h,ie=xn(o.firstChild)):ie=h),qe(e,n,n.pendingProps.children,s),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=ie)&&(o=i1(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,je=n,ie=xn(o.firstChild),Vn=!1,h=!0):h=!1),h||Es(n)),or(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,_A,null,null,s),hl._currentValue=h),Yu(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&kt&&((e=s=ie)&&(s=s1(s,n.pendingProps,Vn),s!==null?(n.stateNode=s,je=n,ie=null,e=!0):e=!1),e||Es(n)),null;case 13:return ty(e,n,s);case 4:return ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Mr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Gp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ts(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Nr(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Qp(e,n,n.type,n.pendingProps,s);case 15:return Kp(e,n,n.type,n.pendingProps,s);case 19:return ny(e,n,s);case 31:return RA(e,n,s);case 22:return Yp(e,n,s,n.pendingProps);case 24:return Nr(n),o=Be(be),e===null?(h=ef(),h===null&&(h=Jt,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},sf(n),Ts(n,be,h)):((e.lanes&s)!==0&&(rf(e,n),Go(n,null,null,s),Fo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ts(n,be,o)):(o=f.cache,Ts(n,be,o),o!==h.cache&&Jh(n,[be],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function jf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dy())e.flags|=8192;else throw Vr=Mu,nf}else e.flags&=-16777217}function sy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!v_(n))if(Dy())e.flags|=8192;else throw Vr=Mu,nf}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,Na|=n)}function Zo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function IA(e,n,s){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(be),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(pa(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(se(n),sy(n,f)):(se(n),jf(n,h,null,o,s))):f?f!==e.memoizedState?(Bi(n),se(n),sy(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),se(n),jf(n,h,e,o,s)),null;case 27:if(Yr(n),s=ut.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=J.current,pa(n)?Lg(n):(e=h_(h,o,s),n.stateNode=e,Bi(n))}return se(n),null;case 5:if(Yr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(f=J.current,pa(n))Lg(n);else{var g=hc(ut.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Te]=n,f[xe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return se(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=ut.current,pa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||t_(e.nodeValue,s)),e||Es(n,!0)}else e=hc(e).createTextNode(o),e[Te]=n,n.stateNode=e}return se(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=pa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Te]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else s=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Te]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),se(n),null);case 4:return ae(),e===null&&ld(n.stateNode.containerInfo),se(n),null;case 10:return Li(n.type),se(n),null;case 19:if(N(pe),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Vg(s,e),s=s.sibling;return Z(pe,pe.current&1|2),kt&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>ec&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return se(n),null}else 2*We()-o.renderingStartTime>ec&&s!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,s=pe.current,Z(pe,h?s&1|2:s&1),kt&&Ui(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return _n(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&N(Dr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(be),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function NA(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(be),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return N(pe),null;case 4:return ae(),null;case 10:return Li(n.type),null;case 22:case 23:return _n(n),uf(),e!==null&&N(Dr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(be),null;case 25:return null;default:return null}}function ry(e,n){switch(Kh(n),n.tag){case 3:Li(be),ae();break;case 26:case 27:case 5:Yr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:N(pe);break;case 10:Li(n.type);break;case 22:case 23:_n(n),uf(),e!==null&&N(Dr);break;case 24:Li(be)}}function Jo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Kt(n,n.return,E)}}function Cs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,z=E;try{z()}catch(G){Kt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Kt(n,n.return,G)}}function ay(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{$g(n,s)}catch(o){Kt(e,e.return,o)}}}function oy(e,n,s){s.props=Ur(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Kt(e,n,o)}}function Wo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Kt(e,n,h)}}function Ei(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Kt(e,n,h)}else s.current=null}function ly(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Kt(e,e.return,h)}}function Bf(e,n,s){try{var o=e.stateNode;ZA(o,e.type,s,n),o[xe]=n}catch(h){Kt(e,e.return,h)}}function uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Fn));else if(o!==4&&(o===27&&xs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,s),e=e.sibling;e!==null;)Hf(e,n,s),e=e.sibling}function Zu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&xs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Zu(e,n,s),e=e.sibling;e!==null;)Zu(e,n,s),e=e.sibling}function cy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[Te]=e,n[xe]=s}catch(f){Kt(e,e.return,f)}}var qi=!1,Ce=!1,Ff=!1,hy=typeof WeakSet=="function"?WeakSet:Set,ke=null;function DA(e,n){if(e=e.containerInfo,hd=_c,e=Sg(e),kh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++G===o&&(R=g),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:e,selectionRange:s},_c=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Ur(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Kt(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function fy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(e,s),o&4&&Jo(5,s);break;case 1:if(Fi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(s,s.return,g)}else{var h=Ur(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(s,s.return,g)}}o&64&&ay(s),o&512&&Wo(s,s.return);break;case 3:if(Fi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$g(e,n)}catch(g){Kt(s,s.return,g)}}break;case 27:n===null&&o&4&&cy(s);case 26:case 5:Fi(e,s),n===null&&o&4&&ly(s),o&512&&Wo(s,s.return);break;case 12:Fi(e,s);break;case 31:Fi(e,s),o&4&&gy(e,s);break;case 13:Fi(e,s),o&4&&py(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=zA.bind(null,s),r1(e,s))));break;case 22:if(o=s.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||Ce,h=qi;var f=Ce;qi=o,(Ce=n)&&!f?Gi(e,s,(s.subtreeFlags&8772)!==0):Fi(e,s),qi=h,Ce=f}break;case 30:break;default:Fi(e,s)}}function dy(e){var n=e.alternate;n!==null&&(e.alternate=null,dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,rn=!1;function Hi(e,n,s){for(s=s.child;s!==null;)my(e,n,s),s=s.sibling}function my(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(jn,s)}catch{}switch(s.tag){case 26:Ce||Ei(s,n),Hi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ce||Ei(s,n);var o=le,h=rn;xs(s.type)&&(le=s.stateNode,rn=!1),Hi(e,n,s),ll(s.stateNode),le=o,rn=h;break;case 5:Ce||Ei(s,n);case 6:if(o=le,h=rn,le=null,Hi(e,n,s),le=o,rn=h,le!==null)if(rn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:le!==null&&(rn?(e=le,a_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),La(e)):a_(le,s.stateNode));break;case 4:o=le,h=rn,le=s.stateNode.containerInfo,rn=!0,Hi(e,n,s),le=o,rn=h;break;case 0:case 11:case 14:case 15:Cs(2,s,n),Ce||Cs(4,s,n),Hi(e,n,s);break;case 1:Ce||(Ei(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&oy(s,n,o)),Hi(e,n,s);break;case 21:Hi(e,n,s);break;case 22:Ce=(o=Ce)||s.memoizedState!==null,Hi(e,n,s),Ce=o;break;default:Hi(e,n,s)}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(s){Kt(n,n.return,s)}}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(s){Kt(n,n.return,s)}}function OA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new hy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new hy),n;default:throw Error(a(435,e.tag))}}function Ju(e,n){var s=OA(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=jA.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){le=E.stateNode,rn=!1;break t}break;case 5:le=E.stateNode,rn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(le===null)throw Error(a(160));my(f,g,h),le=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,e),n=n.sibling}var $n=null;function yy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Cs(3,e,e.return),Jo(3,e),Cs(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(Ce||s===null||Ei(s,s.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=$n;if(an(n,e),on(e),o&512&&(Ce||s===null||Ei(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[Te]=e,Ae(f),o=f;break t;case"link":var g=y_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=y_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Te]=e,Ae(f),o=f}e.stateNode=o}else __(h,e.type,e.stateNode);else e.stateNode=p_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?__(h,e.type,e.stateNode):p_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(Ce||s===null||Ei(s,s.return)),s!==null&&o&4&&Bf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(Ce||s===null||Ei(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Kt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Ff=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Kt(e,e.return,at)}}break;case 3:if(mc=null,h=$n,$n=fc(n.containerInfo),an(n,e),$n=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(at){Kt(e,e.return,at)}Ff&&(Ff=!1,_y(e));break;case 4:o=$n,$n=fc(e.stateNode.containerInfo),an(n,e),on(e),$n=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=qi,G=Ce;if(qi=z||h,Ce=G||R,an(n,e),Ce=G,qi=z,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||qi||Ce||kr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Kt(R,R.return,at)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Kt(R,R.return,at)}}}else if(n.tag===18){if(s===null){R=n;try{var H=R.stateNode;h?o_(H,!0):o_(R.stateNode,!1)}catch(at){Kt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ju(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(uy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=qf(e);Zu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(sn(g,""),s.flags&=-33);var E=qf(e);Zu(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=qf(e);Hf(e,z,R);break;default:throw Error(a(161))}}catch(G){Kt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(e,n.alternate,n),n=n.sibling}function kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),kr(n);break;case 1:Ei(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&oy(n,n.return,s),kr(n);break;case 27:ll(n.stateNode);case 26:case 5:Ei(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}e=e.sibling}}function Gi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,s),Jo(4,f);break;case 1:if(Gi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Kt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Xg(R[h],E)}catch(z){Kt(o,o.return,z)}}s&&g&64&&ay(f),Wo(f,f.return);break;case 27:cy(f);case 26:case 5:Gi(h,f,s),s&&o===null&&g&4&&ly(f),Wo(f,f.return);break;case 12:Gi(h,f,s);break;case 31:Gi(h,f,s),s&&g&4&&gy(h,f);break;case 13:Gi(h,f,s),s&&g&4&&py(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,s),Wo(f,f.return);break;case 30:break;default:Gi(h,f,s)}n=n.sibling}}function Gf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&zo(s))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function Zn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(e,n,s,o),n=n.sibling}function vy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(e,n,s,o),h&2048&&Jo(9,n);break;case 1:Zn(e,n,s,o);break;case 3:Zn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Zn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else Zn(e,n,s,o);break;case 31:Zn(e,n,s,o);break;case 13:Zn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(e,n,s,o):tl(e,n):f._visibility&2?Zn(e,n,s,o):(f._visibility|=2,Ra(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(g,n);break;case 24:Zn(e,n,s,o),h&2048&&Qf(n.alternate,n);break;default:Zn(e,n,s,o)}}function Ra(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ra(f,g,E,R,h),Jo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ra(f,g,E,R,h):tl(f,g):(G._visibility|=2,Ra(f,g,E,R,h)),h&&z&2048&&Gf(g.alternate,g);break;case 24:Ra(f,g,E,R,h),h&&z&2048&&Qf(g.alternate,g);break;default:Ra(f,g,E,R,h)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:tl(s,o),h&2048&&Gf(o.alternate,o);break;case 24:tl(s,o),h&2048&&Qf(o.alternate,o);break;default:tl(s,o)}n=n.sibling}}var el=8192;function Ca(e,n,s){if(e.subtreeFlags&el)for(e=e.child;e!==null;)Ey(e,n,s),e=e.sibling}function Ey(e,n,s){switch(e.tag){case 26:Ca(e,n,s),e.flags&el&&e.memoizedState!==null&&y1(s,$n,e.memoizedState,e.memoizedProps);break;case 5:Ca(e,n,s);break;case 3:case 4:var o=$n;$n=fc(e.stateNode.containerInfo),Ca(e,n,s),$n=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Ca(e,n,s),el=o):Ca(e,n,s));break;default:Ca(e,n,s)}}function Ty(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,Sy(o,e)}Ty(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ay(e),e=e.sibling}function Ay(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):nl(e);break;default:nl(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,Sy(o,e)}Ty(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),Wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function Sy(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:Cs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ke=o;else t:for(s=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(dy(o),o===s){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var VA={getCacheForType:function(e){var n=Be(be),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(be).controller.signal}},MA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,Ct=null,Dt=0,Qt=0,vn=null,Is=!1,Ia=!1,Kf=!1,Qi=0,he=0,Ns=0,Lr=0,Yf=0,En=0,Na=0,il=null,ln=null,Xf=!1,tc=0,by=0,ec=1/0,nc=null,Ds=null,Ve=0,Os=null,Da=null,Ki=0,$f=0,Zf=null,wy=null,sl=0,Jf=null;function Tn(){return(Ht&2)!==0&&Dt!==0?Dt&-Dt:F.T!==null?sd():iu()}function Ry(){if(En===0)if((Dt&536870912)===0||kt){var e=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function un(e,n,s){(e===Jt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Vs(e,Dt,En,!1)),hr(e,s),((Ht&2)===0||e!==Jt)&&(e===Jt&&((Ht&2)===0&&(Lr|=s),he===4&&Vs(e,Dt,En,!1)),Ti(e))}function Cy(e,n,s){if((Ht&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Bn(e,n),h=o?kA(e,n):td(e,n,!0),f=o;do{if(h===0){Ia&&!o&&Vs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!xA(s)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=il;var R=E.current.memoizedState.isDehydrated;if(R&&(Oa(E,g).flags|=256),g=td(E,g,!1),g!==2){if(Kf&&!R){E.errorRecoveryDisabledLanes|=f,Lr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),Vs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Vs(o,n,En,!Is);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-We(),10<h)){if(Vs(o,n,En,!Is),ii(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=s_(Iy.bind(null,o,s,ln,nc,Xf,n,En,Lr,Na,Is,f,"Throttled",-0,0),h);break t}Iy(o,s,ln,nc,Xf,n,En,Lr,Na,Is,f,null,-0,0)}}break}while(!0);Ti(e)}function Iy(e,n,s,o,h,f,g,E,R,z,G,Y,j,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},Ey(n,f,Y);var at=(f&62914560)===f?tc-We():(f&4194048)===f?by-We():0;if(at=_1(Y,at),at!==null){Ki=f,e.cancelPendingCommit=at(ky.bind(null,e,n,f,s,o,h,g,E,R,G,Y,null,j,H)),Vs(e,f,g,!z);return}}ky(e,n,f,s,o,h,g,E,R)}function xA(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vs(e,n,s,o){n&=~Yf,n&=~Lr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-me(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&fr(e,s,n)}function ic(){return(Ht&6)===0?(rl(0),!1):!0}function Wf(){if(Ct!==null){if(Qt===0)var e=Ct.return;else e=Ct,ki=Ir=null,gf(e),Ta=null,Bo=0,e=Ct;for(;e!==null;)ry(e.alternate,e),e=e.return;Ct=null}}function Oa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,t1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ki=0,Wf(),Jt=e,Ct=s=xi(e.current,null),Dt=n,Qt=0,vn=null,Is=!1,Ia=Bn(e,n),Kf=!1,Na=En=Yf=Lr=Ns=he=0,ln=il=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-me(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,bu(),s}function Ny(e,n){bt=null,F.H=Xo,n===Ea||n===Vu?(n=Gg(),Qt=3):n===nf?(n=Gg(),Qt=4):Qt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Ct===null&&(he=1,Qu(e,Nn(n,e.current)))}function Dy(){var e=yn.current;return e===null?!0:(Dt&4194048)===Dt?Mn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Mn:!1}function Oy(){var e=F.H;return F.H=Xo,e===null?Xo:e}function Vy(){var e=F.A;return F.A=VA,e}function sc(){he=4,Is||(Dt&4194048)!==Dt&&yn.current!==null||(Ia=!0),(Ns&134217727)===0&&(Lr&134217727)===0||Jt===null||Vs(Jt,Dt,En,!1)}function td(e,n,s){var o=Ht;Ht|=2;var h=Oy(),f=Vy();(Jt!==e||Dt!==n)&&(nc=null,Oa(e,n)),n=!1;var g=he;t:do try{if(Qt!==0&&Ct!==null){var E=Ct,R=vn;switch(Qt){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Qt;if(Qt=0,vn=null,Va(e,E,R,z),s&&Ia){g=0;break t}break;default:z=Qt,Qt=0,vn=null,Va(e,E,R,z)}}UA(),g=he;break}catch(G){Ny(e,G)}while(!0);return n&&e.shellSuspendCounter++,ki=Ir=null,Ht=o,F.H=h,F.A=f,Ct===null&&(Jt=null,Dt=0,bu()),g}function UA(){for(;Ct!==null;)My(Ct)}function kA(e,n){var s=Ht;Ht|=2;var o=Oy(),h=Vy();Jt!==e||Dt!==n?(nc=null,ec=We()+500,Oa(e,n)):Ia=Bn(e,n);t:do try{if(Qt!==0&&Ct!==null){n=Ct;var f=vn;e:switch(Qt){case 1:Qt=0,vn=null,Va(e,n,f,1);break;case 2:case 9:if(Hg(f)){Qt=0,vn=null,xy(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==e||(Qt=7),Ti(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Hg(f)?(Qt=0,vn=null,xy(n)):(Qt=0,vn=null,Va(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?v_(g):E.stateNode.complete){Qt=0,vn=null;var R=E.sibling;if(R!==null)Ct=R;else{var z=E.return;z!==null?(Ct=z,rc(z)):Ct=null}break e}}Qt=0,vn=null,Va(e,n,f,5);break;case 6:Qt=0,vn=null,Va(e,n,f,6);break;case 8:Wf(),he=6;break t;default:throw Error(a(462))}}LA();break}catch(G){Ny(e,G)}while(!0);return ki=Ir=null,F.H=o,F.A=h,Ht=s,Ct!==null?0:(Jt=null,Dt=0,bu(),he)}function LA(){for(;Ct!==null&&!Nh();)My(Ct)}function My(e){var n=iy(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?rc(e):Ct=n}function xy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Zp(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Zp(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:gf(n);default:ry(s,n),n=Ct=Vg(n,Qi),n=iy(s,n,Qi)}e.memoizedProps=e.pendingProps,n===null?rc(e):Ct=n}function Va(e,n,s,o){ki=Ir=null,gf(n),Ta=null,Bo=0;var h=n.return;try{if(wA(e,h,n,s,Dt)){he=1,Qu(e,Nn(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;he=1,Qu(e,Nn(s,e.current)),Ct=null;return}n.flags&32768?(kt||o===1?e=!0:Ia||(Dt&536870912)!==0?e=!1:(Is=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Uy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Uy(n,Is);return}e=n.return;var s=IA(n.alternate,n,Qi);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);he===0&&(he=5)}function Uy(e,n){do{var s=NA(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);he=6,Ct=null}function ky(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do ac();while(Ve!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Vh(e,s,f,g,E,R),e===Jt&&(Ct=Jt=null,Dt=0),Da=n,Os=e,Ki=s,$f=f,Zf=h,wy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,BA(ls,function(){return By(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,g=Ht,Ht|=4;try{DA(e,n,s)}finally{Ht=g,nt.p=h,F.T=o}}Ve=1,Ly(),Py(),zy()}}function Ly(){if(Ve===1){Ve=0;var e=Os,n=Da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Ht;Ht|=4;try{yy(n,e);var f=fd,g=Sg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Ag(E.ownerDocument.documentElement,E)){if(R!==null&&kh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),at=E.textContent.length,gt=Math.min(R.start,at),Zt=R.end===void 0?gt:Math.min(R.end,at);!H.extend&&gt>Zt&&(g=Zt,Zt=gt,gt=g);var U=Tg(E,gt),O=Tg(E,Zt);if(U&&O&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=Y.createRange();P.setStart(U.node,U.offset),H.removeAllRanges(),gt>Zt?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}_c=!!hd,fd=hd=null}finally{Ht=h,nt.p=o,F.T=s}}e.current=n,Ve=2}}function Py(){if(Ve===2){Ve=0;var e=Os,n=Da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Ht;Ht|=4;try{fy(e,n.alternate,n)}finally{Ht=h,nt.p=o,F.T=s}}Ve=3}}function zy(){if(Ve===4||Ve===3){Ve=0,$l();var e=Os,n=Da,s=Ki,o=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,Da=Os=null,jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ds=null),Di(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,nt.p=h}}(Ki&3)!==0&&ac(),Ti(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Jf?sl++:(sl=0,Jf=e):sl=0,rl(0)}}function jy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function ac(){return Ly(),Py(),zy(),By()}function By(){if(Ve!==5)return!1;var e=Os,n=$f;$f=0;var s=Di(Ki),o=F.T,h=nt.p;try{nt.p=32>s?32:s,F.T=null,s=Zf,Zf=null;var f=Os,g=Ki;if(Ve=0,Da=Os=null,Ki=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Ay(f.current),vy(f,f.current,g,s),Ht=E,rl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{nt.p=h,F.T=o,jy(e,n)}}function qy(e,n,s){n=Nn(s,n),n=Df(e.stateNode,n,2),e=bs(e,n,2),e!==null&&(hr(e,2),Ti(e))}function Kt(e,n,s){if(e.tag===3)qy(e,e,s);else for(;n!==null;){if(n.tag===3){qy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ds===null||!Ds.has(o))){e=Nn(s,e),s=Hp(2),o=bs(n,s,2),o!==null&&(Fp(s,o,n,e),hr(o,2),Ti(o));break}}n=n.return}}function ed(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new MA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Kf=!0,h.add(s),e=PA.bind(null,e,n,s),n.then(e,e))}function PA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Dt&s)===s&&(he===4||he===3&&(Dt&62914560)===Dt&&300>We()-tc?(Ht&2)===0&&Oa(e,0):Yf|=s,Na===Dt&&(Na=0)),Ti(e)}function Hy(e,n){n===0&&(n=nu()),e=wr(e,n),e!==null&&(hr(e,n),Ti(e))}function zA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Hy(e,s)}function jA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Hy(e,s)}function BA(e,n){return Oe(e,n)}var oc=null,Ma=null,nd=!1,lc=!1,id=!1,Ms=0;function Ti(e){e!==Ma&&e.next===null&&(Ma===null?oc=Ma=e:Ma=Ma.next=e),lc=!0,nd||(nd=!0,HA())}function rl(e,n){if(!id&&lc){id=!0;do for(var s=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-me(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ky(o,f))}else f=Dt,f=ii(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(s=!0,Ky(o,f));o=o.next}while(s);id=!1}}function qA(){Fy()}function Fy(){lc=nd=!1;var e=0;Ms!==0&&WA()&&(e=Ms);for(var n=We(),s=null,o=oc;o!==null;){var h=o.next,f=Gy(o,n);f===0?(o.next=null,s===null?oc=h:s.next=h,h===null&&(Ma=s)):(s=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}Ve!==0&&Ve!==5||rl(e),Ms!==0&&(Ms=0)}function Gy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-me(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Oh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,s=Dt,s=ii(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&os(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Bn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&os(o),Di(s)){case 2:case 8:s=go;break;case 32:s=ls;break;case 268435456:s=Zl;break;default:s=ls}return o=Qy.bind(null,e),s=Oe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&os(o),e.callbackPriority=2,e.callbackNode=null,2}function Qy(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ac()&&e.callbackNode!==s)return null;var o=Dt;return o=ii(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Cy(e,o,n),Gy(e,We()),e.callbackNode!=null&&e.callbackNode===s?Qy.bind(null,e):null)}function Ky(e,n){if(ac())return null;Cy(e,n,!0)}function HA(){e1(function(){(Ht&6)!==0?Oe(mo,qA):Fy()})}function sd(){if(Ms===0){var e=_a;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Ms=e}return Ms}function Yy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function Xy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function FA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Yy((h[xe]||null).action),g=o.submitter;g&&(n=(n=g[xe]||null)?Yy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new mi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ms!==0){var R=g?Xy(h,g):new FormData(h);bf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Xy(h,g):new FormData(h),bf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var rd=0;rd<jh.length;rd++){var ad=jh[rd],GA=ad.toLowerCase(),QA=ad[0].toUpperCase()+ad.slice(1);Xn(GA,"on"+QA)}Xn(Rg,"onAnimationEnd"),Xn(Cg,"onAnimationIteration"),Xn(Ig,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(lA,"onTransitionRun"),Xn(uA,"onTransitionStart"),Xn(cA,"onTransitionCancel"),Xn(Ng,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function $y(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Su(G)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Su(G)}h.currentTarget=null,f=R}}}}function It(e,n){var s=n[Jr];s===void 0&&(s=n[Jr]=new Set);var o=e+"__bubble";s.has(o)||(Zy(n,e,2,!1),s.add(o))}function od(e,n,s){var o=0;n&&(o|=4),Zy(s,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[uc]){e[uc]=!0,_o.forEach(function(s){s!=="selectionchange"&&(KA.has(s)||od(s,!1,e),od(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,od("selectionchange",!1,n))}}function Zy(e,n,s,o){switch(R_(n)){case 2:var h=T1;break;case 8:h=A1;break;default:h=Sd}s=h.bind(null,n,s,e),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ud(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=oi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ms(function(){var z=f,G=wn(s),Y=[];t:{var j=Dg.get(e);if(j!==void 0){var H=mi,at=e;switch(e){case"keypress":if(vr(s)===0)break t;case"keydown":case"keyup":H=Eu;break;case"focusin":at="focus",H=Tr;break;case"focusout":at="blur",H=Tr;break;case"beforeblur":case"afterblur":H=Tr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Rg:case Cg:case Ig:H=du;break;case Ng:H=T;break;case"scroll":case"scrollend":H=Do;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Mi;break;case"toggle":case"beforetoggle":H=St}var gt=(n&4)!==0,Zt=!gt&&(e==="scroll"||e==="scrollend"),U=gt?j!==null?j+"Capture":null:j;gt=[];for(var O=z,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||U===null||(K=Gn(O,U),K!=null&&gt.push(ol(O,K,P))),Zt)break;O=O.return}0<gt.length&&(j=new H(j,at,null,s,G),Y.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==Co&&(at=s.relatedTarget||s.fromElement)&&(oi(at)||at[ri]))break t;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(at=s.relatedTarget||s.toElement,H=z,at=at?oi(at):null,at!==null&&(Zt=c(at),gt=at.tag,at!==Zt||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(H=null,at=z),H!==at)){if(gt=Oo,K="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Mi,K="onPointerLeave",U="onPointerEnter",O="pointer"),Zt=H==null?j:dn(H),P=at==null?j:dn(at),j=new gt(K,O+"leave",H,s,G),j.target=Zt,j.relatedTarget=P,K=null,oi(G)===z&&(gt=new gt(U,O+"enter",at,s,G),gt.target=P,gt.relatedTarget=Zt,K=gt),Zt=K,H&&at)e:{for(gt=YA,U=H,O=at,P=0,K=U;K;K=gt(K))P++;K=0;for(var ht=O;ht;ht=gt(ht))K++;for(;0<P-K;)U=gt(U),P--;for(;0<K-P;)O=gt(O),K--;for(;P--;){if(U===O||O!==null&&U===O.alternate){gt=U;break e}U=gt(U),O=gt(O)}gt=null}else gt=null;H!==null&&Jy(Y,j,H,gt,!1),at!==null&&Zt!==null&&Jy(Y,Zt,at,gt,!0)}}t:{if(j=z?dn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var jt=gg;else if(dg(j))if(pg)jt=rA;else{jt=iA;var ot=nA}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&na(z.elementType)&&(jt=gg):jt=sA;if(jt&&(jt=jt(e,z))){mg(Y,jt,s,G);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&bo(j,"number",j.value)}switch(ot=z?dn(z):window,e){case"focusin":(dg(ot)||ot.contentEditable==="true")&&(ca=ot,Lh=z,ko=null);break;case"focusout":ko=Lh=ca=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,bg(Y,s,G);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":bg(Y,s,G)}var wt;if(qt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ua?Ar(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(yi&&s.locale!=="ko"&&(ua||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ua&&(wt=No()):(di=G,Io="value"in di?di.value:di.textContent,ua=!0)),ot=cc(z,Ot),0<ot.length&&(Ot=new pi(Ot,e,null,s,G),Y.push({event:Ot,listeners:ot}),wt?Ot.data=wt:(wt=la(s),wt!==null&&(Ot.data=wt)))),(wt=Cn?JT(e,s):WT(e,s))&&(Ot=cc(z,"onBeforeInput"),0<Ot.length&&(ot=new pi("onBeforeInput","beforeinput",null,s,G),Y.push({event:ot,listeners:Ot}),ot.data=wt)),FA(Y,e,z,s,G)}$y(Y,n)})}function ol(e,n,s){return{instance:e,listener:n,currentTarget:s}}function cc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,s),h!=null&&o.unshift(ol(e,h,f)),h=Gn(e,n),h!=null&&o.push(ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function YA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Gn(s,f),z!=null&&g.unshift(ol(s,z,R))):h||(z=Gn(s,f),z!=null&&g.push(ol(s,z,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var XA=/\r\n?/g,$A=/\u0000|\uFFFD/g;function Wy(e){return(typeof e=="string"?e:""+e).replace(XA,`
`).replace($A,"")}function t_(e,n){return n=Wy(n),Wy(e)===n}function $t(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,o);break;case"style":Ro(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ia(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ia(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ia(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":It("beforetoggle",e),It("toggle",e),ta(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cu.get(s)||s,ta(e,s,o))}}function cd(e,n,s,o,h,f){switch(s){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ta(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,g,s,null)}}h&&$t(e,n,"srcSet",s.srcSet,s,null),o&&$t(e,n,"src",s.src,s,null);return;case"input":It("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:$t(e,n,o,G,s,null)}}ou(e,f,E,R,z,g,h,!1);return;case"select":It("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:$t(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?cs(e,!!o,n,!1):s!=null&&cs(e,!!o,s,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,g,E,s,null)}hs(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,n,R,o,s,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)It(al[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,z,o,s,null)}return;default:if(na(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&cd(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&$t(e,n,E,o,s,null))}function ZA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,G=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(H)||$t(e,n,H,null,o,Y)}}for(var j in o){var H=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&$t(e,n,j,H,o,Y)}}ea(e,g,E,R,z,G,f,h);return;case"select":H=g=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&$t(e,n,h,f,o,R)}n=E,s=g,o=H,j!=null?cs(e,!!s,j,!1):!!o!=!!s&&(n!=null?cs(e,!!s,n,!0):cs(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,g,h,o,f)}lu(e,j,H);return;case"option":for(var at in s)j=s[at],s.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:$t(e,n,at,null,o,j));for(R in o)j=o[R],H=s[R],o.hasOwnProperty(R)&&j!==H&&(j!=null||H!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":$t(e,n,R,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)j=s[gt],s.hasOwnProperty(gt)&&j!=null&&!o.hasOwnProperty(gt)&&$t(e,n,gt,null,o,j);for(z in o)if(j=o[z],H=s[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:$t(e,n,z,j,o,H)}return;default:if(na(n)){for(var Zt in s)j=s[Zt],s.hasOwnProperty(Zt)&&j!==void 0&&!o.hasOwnProperty(Zt)&&cd(e,n,Zt,void 0,o,j);for(G in o)j=o[G],H=s[G],!o.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||cd(e,n,G,j,o,H);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&$t(e,n,U,null,o,j);for(Y in o)j=o[Y],H=s[Y],!o.hasOwnProperty(Y)||j===H||j==null&&H==null||$t(e,n,Y,j,o,H)}function e_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&e_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],z=R.startTime;if(z>E)break;var G=R.transferSize,Y=R.initiatorType;G&&e_(Y)&&(R=R.responseEnd,g+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function n_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function WA(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,t1=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,e1=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(e){return r_.resolve(null).then(e).catch(n1)}:s_;function n1(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function a_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),La(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ll(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ll(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ll(e.ownerDocument.body);s=h}while(s);La(n)}function o_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),Wr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function i1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function s1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=xn(e.nextSibling),e===null))return null;return e}function l_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function r1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function u_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return xn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function c_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function h_(e,n,s){switch(n=hc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Wr(e)}var Un=new Map,f_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=nt.d;nt.d={f:a1,r:o1,D:l1,C:u1,L:c1,m:h1,X:d1,S:f1,M:m1};function a1(){var e=Yi.f(),n=ic();return e||n}function o1(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Np(n):Yi.r(e)}var xa=typeof document>"u"?null:document;function d_(e,n,s){var o=xa;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),f_.has(h)||(f_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),Ae(n),o.head.appendChild(n)))}}function l1(e){Yi.D(e),d_("dns-prefetch",e,null)}function u1(e,n){Yi.C(e,n),d_("preconnect",e,n)}function c1(e,n,s){Yi.L(e,n,s);var o=xa;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Ua(e);break;case"script":f=ka(e)}Un.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),He(n,"link",e),Ae(n),o.head.appendChild(n)))}}function h1(e,n){Yi.m(e,n);var s=xa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!Un.has(f)&&(e=S({rel:"modulepreload",href:e},n),Un.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cl(f)))return}o=s.createElement("link"),He(o,"link",e),Ae(o),s.head.appendChild(o)}}}function f1(e,n,s){Yi.S(e,n,s);var o=xa;if(o&&e){var h=li(o).hoistableStyles,f=Ua(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ul(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Un.get(f))&&vd(e,s);var R=g=o.createElement("link");Ae(R),He(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function d1(e,n){Yi.X(e,n);var s=xa;if(s&&e){var o=li(s).hoistableScripts,h=ka(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=S({src:e,async:!0},n),(n=Un.get(h))&&Ed(e,n),f=s.createElement("script"),Ae(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function m1(e,n){Yi.M(e,n);var s=xa;if(s&&e){var o=li(s).hoistableScripts,h=ka(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&Ed(e,n),f=s.createElement("script"),Ae(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function m_(e,n,s,o){var h=(h=ut.current)?fc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ua(s.href),s=li(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ua(s.href);var f=li(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ul(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Un.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(e,s),f||g1(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(s),s=li(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ua(e){return'href="'+nn(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function g_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function g1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),Ae(n),e.head.appendChild(n))}function ka(e){return'[src="'+nn(e)+'"]'}function cl(e){return"script[async]"+e}function p_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),He(o,"style",h),dc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ua(s.href);var f=e.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=g_(s),(h=Un.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(f,"link",o),n.state.loading|=4,dc(f,s.precedence,e),n.instance=f;case"script":return f=ka(s.src),(h=e.querySelector(cl(f)))?(n.instance=h,Ae(h),h):(o=s,(h=Un.get(f))&&(o=S({},s),Ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,s.precedence,e));return n.instance}function dc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function y_(e,n,s){if(mc===null){var o=new Map,h=mc=new Map;h.set(s,o)}else h=mc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ai]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function __(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function p1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function y1(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ua(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ae(f);return}f=n.ownerDocument||n,o=g_(o),(h=Un.get(h))&&vd(o,h),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=gc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Td=0;function _1(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*JA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(v1,e),pc=null,gc.call(e))}function v1(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var o=s.get(null);else{s=new Map,pc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var hl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function E1(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function E_(e,n,s,o,h,f,g,E,R,z,G,Y){return e=new E1(e,n,s,g,R,z,G,Y,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},sf(f),e}function T_(e){return e?(e=da,e):da}function A_(e,n,s,o,h,f){h=T_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ss(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=bs(e,o,n),s!==null&&(un(s,e,n),Ho(s,e,n))}function S_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ad(e,n){S_(e,n),(e=e.alternate)&&S_(e,n)}function b_(e){if(e.tag===13||e.tag===31){var n=wr(e,67108864);n!==null&&un(n,e,67108864),Ad(e,67108864)}}function w_(e){if(e.tag===13||e.tag===31){var n=Tn();n=dr(n);var s=wr(e,n);s!==null&&un(s,e,n),Ad(e,n)}}var _c=!0;function T1(e,n,s,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,Sd(e,n,s,o)}finally{nt.p=f,F.T=h}}function A1(e,n,s,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,Sd(e,n,s,o)}finally{nt.p=f,F.T=h}}function Sd(e,n,s,o){if(_c){var h=bd(o);if(h===null)ud(e,n,o,vc,s),C_(e,o);else if(b1(h,e,n,s,o))o.stopPropagation();else if(C_(e,o),n&4&&-1<S1.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ni(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-me(g);E.entanglements[1]|=R,g&=~R}Ti(f),(Ht&6)===0&&(ec=We()+500,rl(0))}}break;case 31:case 13:E=wr(f,2),E!==null&&un(E,f,2),ic(),Ad(f,2)}if(f=bd(o),f===null&&ud(e,n,o,vc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,s)}}function bd(e){return e=wn(e),wd(e)}var vc=null;function wd(e){if(vc=null,e=oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function R_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case mo:return 2;case go:return 8;case ls:case Dh:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var Rd=!1,Us=null,ks=null,Ls=null,fl=new Map,dl=new Map,Ps=[],S1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(e,n){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&b_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function b1(e,n,s,o,h){switch(n){case"focusin":return Us=ml(Us,e,n,s,o,h),!0;case"dragenter":return ks=ml(ks,e,n,s,o,h),!0;case"mouseover":return Ls=ml(Ls,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,n,s,o,h)),!0}return!1}function I_(e){var n=oi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,qn(e.priority,function(){w_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,qn(e.priority,function(){w_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=bd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Co=o,s.target.dispatchEvent(o),Co=null}else return n=bn(s),n!==null&&b_(n),e.blockedOn=s,!1;n.shift()}return!0}function N_(e,n,s){Ec(e)&&s.delete(n)}function w1(){Rd=!1,Us!==null&&Ec(Us)&&(Us=null),ks!==null&&Ec(ks)&&(ks=null),Ls!==null&&Ec(Ls)&&(Ls=null),fl.forEach(N_),dl.forEach(N_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,w1)))}var Ac=null;function D_(e){Ac!==e&&(Ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||s)===null)continue;break}var f=bn(s);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function La(e){function n(R){return Tc(R,e)}Us!==null&&Tc(Us,e),ks!==null&&Tc(ks,e),Ls!==null&&Tc(Ls,e),fl.forEach(n),dl.forEach(n);for(var s=0;s<Ps.length;s++){var o=Ps[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ps.length&&(s=Ps[0],s.blockedOn===null);)I_(s),s.blockedOn===null&&Ps.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[xe]||null;if(typeof f=="function")g||D_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[xe]||null)E=g.formAction;else if(wd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),D_(s)}}}function O_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}Sc.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Tn();A_(s,o,e,n,null,null)},Sc.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;A_(e.current,2,null,e,null,null),ic(),n[ri]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ps.length&&n!==0&&n<Ps[s].priority;s++);Ps.splice(s,0,e),s===0&&I_(e)}};var V_=t.version;if(V_!=="19.2.3")throw Error(a(527,V_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var R1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{jn=bc.inject(R1),Pe=bc}catch{}}return pl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=zp,f=jp,g=Bp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=E_(e,1,!1,null,null,s,o,null,h,f,g,O_),e[ri]=n.current,ld(e),new Cd(n)},pl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=zp,g=jp,E=Bp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=E_(e,1,!0,n,s??null,o,h,R,f,g,E,O_),n.context=T_(null),s=n.current,o=Tn(),o=dr(o),h=Ss(o),h.callback=null,bs(s,h,o),s=o,n.current.lanes=s,hr(n,s),Ti(n),e[ri]=n.current,ld(e),new Sc(n)},pl.version="19.2.3",pl}var q_;function k1(){if(q_)return Dd.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=U1(),Dd.exports}var L1=k1();const P1=()=>{};var H_={};const w0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},z1=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},R0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(M=64)),a.push(i[A],i[S],i[M],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(w0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):z1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new j1;const M=c<<2|p>>4;if(a.push(M),y!==64){const Q=p<<4&240|y>>2;if(a.push(Q),S!==64){const W=y<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class j1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B1=function(r){const t=w0(r);return R0.encodeByteArray(t,!0)},qc=function(r){return B1(r).replace(/\./g,"")},C0=function(r){try{return R0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const H1=()=>q1().__FIREBASE_DEFAULTS__,F1=()=>{if(typeof process>"u"||typeof H_>"u")return;const r=H_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},G1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&C0(r[1]);return t&&JSON.parse(t)},oh=()=>{try{return P1()||H1()||F1()||G1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},I0=r=>oh()?.emulatorHosts?.[r],Q1=r=>{const t=I0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},N0=()=>oh()?.config,D0=r=>oh()?.[`_${r}`];class K1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function no(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O0(r){return(await fetch(r,{credentials:"include"})).ok}function Y1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Tl={};function X1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?r.emulator.push(t):r.prod.push(t);return r}function $1(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let F_=!1;function V0(r,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Tl[r]===t||Tl[r]||F_)return;Tl[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=X1().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{F_=!0,d()},M}function A(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=$1(a),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),it=i("learnmore"),tt=document.getElementById(it)||document.createElement("a"),dt=i("preprendIcon"),mt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pt=M.element;p(pt),A(tt,it);const vt=y();_(mt,dt),pt.append(mt,W,tt,vt),document.body.appendChild(pt)}c?(W.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function J1(){const r=oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function eS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nS(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iS(){return!J1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sS(){try{return typeof indexedDB=="object"}catch{return!1}}function rS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const aS="FirebaseError";class as extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=aS,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?oS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new as(l,p,a)}}function oS(r,t){return r.replace(lS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const lS=/\{\$([^}]+)}/g;function uS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Br(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(G_(c)&&G_(d)){if(!Br(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function G_(r){return r!==null&&typeof r=="object"}function Ll(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function cS(r,t){const i=new hS(r,t);return i.subscribe.bind(i)}class hS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");fS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function xd(){}function Qe(r){return r&&r._delegate?r._delegate:r}class qr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Pr="[DEFAULT]";class dS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new K1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gS(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:mS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mS(r){return r===Pr?void 0:r}function gS(r){return r.instantiationMode==="EAGER"}class pS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new dS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const yS={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},_S=Vt.INFO,vS={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},ES=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=vS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sm{constructor(t){this.name=t,this._logLevel=_S,this._logHandler=ES,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const TS=(r,t)=>t.some(i=>r instanceof i);let Q_,K_;function AS(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SS(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M0=new WeakMap,Xd=new WeakMap,x0=new WeakMap,Ud=new WeakMap,bm=new WeakMap;function bS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Qs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&M0.set(i,r)}).catch(()=>{}),bm.set(t,r),t}function wS(r){if(Xd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Xd.set(r,t)}let $d={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||x0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function RS(r){$d=r($d)}function CS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(kd(this),t,...i);return x0.set(a,t.sort?t.sort():[t]),Qs(a)}:SS().includes(r)?function(...t){return r.apply(kd(this),t),Qs(M0.get(this))}:function(...t){return Qs(r.apply(kd(this),t))}}function IS(r){return typeof r=="function"?CS(r):(r instanceof IDBTransaction&&wS(r),TS(r,AS())?new Proxy(r,$d):r)}function Qs(r){if(r instanceof IDBRequest)return bS(r);if(Ud.has(r))return Ud.get(r);const t=IS(r);return t!==r&&(Ud.set(r,t),bm.set(t,r)),t}const kd=r=>bm.get(r);function NS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Qs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Qs(d.result),_.oldVersion,_.newVersion,Qs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const DS=["get","getKey","getAll","getAllKeys","count"],OS=["put","add","delete","clear"],Ld=new Map;function Y_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=OS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||DS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Ld.set(t,c),c}RS(r=>({...r,get:(t,i,a)=>Y_(t,i)||r.get(t,i,a),has:(t,i)=>!!Y_(t,i)||r.has(t,i)}));class VS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(MS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function MS(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",X_="0.14.6";const ts=new Sm("@firebase/app"),xS="@firebase/app-compat",US="@firebase/analytics-compat",kS="@firebase/analytics",LS="@firebase/app-check-compat",PS="@firebase/app-check",zS="@firebase/auth",jS="@firebase/auth-compat",BS="@firebase/database",qS="@firebase/data-connect",HS="@firebase/database-compat",FS="@firebase/functions",GS="@firebase/functions-compat",QS="@firebase/installations",KS="@firebase/installations-compat",YS="@firebase/messaging",XS="@firebase/messaging-compat",$S="@firebase/performance",ZS="@firebase/performance-compat",JS="@firebase/remote-config",WS="@firebase/remote-config-compat",tb="@firebase/storage",eb="@firebase/storage-compat",nb="@firebase/firestore",ib="@firebase/ai",sb="@firebase/firestore-compat",rb="firebase",ab="12.6.0";const Jd="[DEFAULT]",ob={[Zd]:"fire-core",[xS]:"fire-core-compat",[kS]:"fire-analytics",[US]:"fire-analytics-compat",[PS]:"fire-app-check",[LS]:"fire-app-check-compat",[zS]:"fire-auth",[jS]:"fire-auth-compat",[BS]:"fire-rtdb",[qS]:"fire-data-connect",[HS]:"fire-rtdb-compat",[FS]:"fire-fn",[GS]:"fire-fn-compat",[QS]:"fire-iid",[KS]:"fire-iid-compat",[YS]:"fire-fcm",[XS]:"fire-fcm-compat",[$S]:"fire-perf",[ZS]:"fire-perf-compat",[JS]:"fire-rc",[WS]:"fire-rc-compat",[tb]:"fire-gcs",[eb]:"fire-gcs-compat",[nb]:"fire-fst",[sb]:"fire-fst-compat",[ib]:"fire-vertex","fire-js":"fire-js",[rb]:"fire-js-all"};const Hc=new Map,lb=new Map,Wd=new Map;function $_(r,t){try{r.container.addComponent(t)}catch(i){ts.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Xa(r){const t=r.name;if(Wd.has(t))return ts.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,r);for(const i of Hc.values())$_(i,r);for(const i of lb.values())$_(i,r);return!0}function wm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function kn(r){return r==null?!1:r.settings!==void 0}const ub={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new kl("app","Firebase",ub);class cb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}const io=ab;function U0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Ks.create("bad-app-name",{appName:String(l)});if(i||(i=N0()),!i)throw Ks.create("no-options");const c=Hc.get(l);if(c){if(Br(i,c.options)&&Br(a,c.config))return c;throw Ks.create("duplicate-app",{appName:l})}const d=new pS(l);for(const _ of Wd.values())d.addComponent(_);const p=new cb(i,a,d);return Hc.set(l,p),p}function k0(r=Jd){const t=Hc.get(r);if(!t&&r===Jd&&N0())return U0();if(!t)throw Ks.create("no-app",{appName:r});return t}function Ys(r,t,i){let a=ob[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ts.warn(d.join(" "));return}Xa(new qr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const hb="firebase-heartbeat-database",fb=1,Cl="firebase-heartbeat-store";let Pd=null;function L0(){return Pd||(Pd=NS(hb,fb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ks.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function db(r){try{const i=(await L0()).transaction(Cl),a=await i.objectStore(Cl).get(P0(r));return await i.done,a}catch(t){if(t instanceof as)ts.warn(t.message);else{const i=Ks.create("idb-get",{originalErrorMessage:t?.message});ts.warn(i.message)}}}async function Z_(r,t){try{const a=(await L0()).transaction(Cl,"readwrite");await a.objectStore(Cl).put(t,P0(r)),await a.done}catch(i){if(i instanceof as)ts.warn(i.message);else{const a=Ks.create("idb-set",{originalErrorMessage:i?.message});ts.warn(a.message)}}}function P0(r){return`${r.name}!${r.options.appId}`}const mb=1024,gb=30;class pb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _b(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>gb){const l=vb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ts.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J_(),{heartbeatsToSend:i,unsentEntries:a}=yb(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ts.warn(t),""}}}function J_(){return new Date().toISOString().substring(0,10)}function yb(r,t=mb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),W_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),W_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class _b{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sS()?rS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await db(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function W_(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function vb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function Eb(r){Xa(new qr("platform-logger",t=>new VS(t),"PRIVATE")),Xa(new qr("heartbeat",t=>new pb(t),"PRIVATE")),Ys(Zd,X_,r),Ys(Zd,X_,"esm2020"),Ys("fire-js","")}Eb("");var Tb="firebase",Ab="12.7.0";Ys(Tb,Ab,"app");function z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Sb=z0,j0=new kl("auth","Firebase",z0());const Fc=new Sm("@firebase/auth");function bb(r,...t){Fc.logLevel<=Vt.WARN&&Fc.warn(`Auth (${io}): ${r}`,...t)}function Vc(r,...t){Fc.logLevel<=Vt.ERROR&&Fc.error(`Auth (${io}): ${r}`,...t)}function es(r,...t){throw Rm(r,...t)}function Si(r,...t){return Rm(r,...t)}function B0(r,t,i){const a={...Sb(),[t]:i};return new kl("auth","Firebase",a).create(t,{appName:r.name})}function Wi(r){return B0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return j0.create(r,...t)}function _t(r,t,...i){if(!r)throw Rm(t,...i)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Vc(t),new Error(t)}function ns(r,t){r||Zi(t)}function tm(){return typeof self<"u"&&self.location?.href||""}function wb(){return tv()==="http:"||tv()==="https:"}function tv(){return typeof self<"u"&&self.location?.protocol||null}function Rb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wb()||tS()||"connection"in navigator)?navigator.onLine:!0}function Cb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Pl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ns(i>t,"Short delay should be less than long delay!"),this.isMobile=Z1()||eS()}get(){return Rb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cm(r,t){ns(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class q0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ib={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Nb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Db=new Pl(3e4,6e4);function zl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function so(r,t,i,a,l={}){return H0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ll({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return W1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&no(r.emulatorConfig.host)&&(y.credentials="include"),q0.fetch()(await F0(r,r.config.apiHost,i,p),y)})}async function H0(r,t,i){r._canInitEmulator=!1;const a={...Ib,...t};try{const l=new Ob(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw wc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw wc(r,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw B0(r,A,y);es(r,A)}}catch(l){if(l instanceof as)throw l;es(r,"network-request-failed",{message:String(l)})}}async function Im(r,t,i,a,l={}){const c=await so(r,t,i,a,l);return"mfaPendingCredential"in c&&es(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function F0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Cm(r.config,l):`${r.config.apiScheme}://${l}`;return Nb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Ob{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Si(this.auth,"network-request-failed")),Db.get())})}}function wc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Si(r,t,a);return l.customData._tokenResponse=i,l}async function Vb(r,t){return so(r,"POST","/v1/accounts:delete",t)}async function Gc(r,t){return so(r,"POST","/v1/accounts:lookup",t)}function Al(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Mb(r,t=!1){const i=Qe(r),a=await i.getIdToken(t),l=Nm(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Al(zd(l.auth_time)),issuedAtTime:Al(zd(l.iat)),expirationTime:Al(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(r){return Number(r)*1e3}function Nm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=C0(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function ev(r){const t=Nm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Il(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof as&&xb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function xb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Ub{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class em{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(r){const t=r.auth,i=await r.getIdToken(),a=await Il(r,Gc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?G0(l.providerUserInfo):[],d=Lb(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function kb(r){const t=Qe(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Lb(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function G0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Pb(r,t){const i=await H0(r,{},async()=>{const a=Ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await F0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&no(r.emulatorConfig.host)&&(_.credentials="include"),q0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function zb(r,t){return so(r,"POST","/v2/accounts:revokeToken",zl(r,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ev(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=ev(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Pb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Fa;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function js(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Ub(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new em(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Il(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Mb(this,t)}reload(){return kb(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Wi(this.auth));const t=await this.getIdToken();return await Il(this,Vb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:Q,providerData:W,stsTokenManager:it}=i;_t(S&&it,t,"internal-error");const tt=Fa.fromJSON(this.name,it);_t(typeof S=="string",t,"internal-error"),js(a,t.name),js(l,t.name),_t(typeof M=="boolean",t,"internal-error"),_t(typeof Q=="boolean",t,"internal-error"),js(c,t.name),js(d,t.name),js(p,t.name),js(_,t.name),js(y,t.name),js(A,t.name);const dt=new Jn({uid:S,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:A});return W&&Array.isArray(W)&&(dt.providerData=W.map(mt=>({...mt}))),_&&(dt._redirectEventId=_),dt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Fa;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?G0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Fa;p.updateFromIdToken(a);const _=new Jn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const nv=new Map;function Ji(r){ns(r instanceof Function,"Expected a class definition");let t=nv.get(r);return t?(ns(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,nv.set(r,t),t)}class Q0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Q0.type="NONE";const iv=Q0;function Mc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ga{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Gc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ga(Ji(iv),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ji(iv);const d=Mc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const M=await Gc(t,{idToken:A}).catch(()=>{});if(!M)break;S=await Jn._fromGetAccountInfoResponse(t,M,A)}else S=Jn._fromJSON(t,A);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ga(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ga(c,t,a))}}function sv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(K0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(J0(t))return"Blackberry";if(W0(t))return"Webos";if(Y0(t))return"Safari";if((t.includes("chrome/")||X0(t))&&!t.includes("edge/"))return"Chrome";if(Z0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function K0(r=Je()){return/firefox\//i.test(r)}function Y0(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function X0(r=Je()){return/crios\//i.test(r)}function $0(r=Je()){return/iemobile/i.test(r)}function Z0(r=Je()){return/android/i.test(r)}function J0(r=Je()){return/blackberry/i.test(r)}function W0(r=Je()){return/webos/i.test(r)}function Dm(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function jb(r=Je()){return Dm(r)&&!!window.navigator?.standalone}function Bb(){return nS()&&document.documentMode===10}function tE(r=Je()){return Dm(r)||Z0(r)||W0(r)||J0(r)||/windows phone/i.test(r)||$0(r)}function eE(r,t=[]){let i;switch(r){case"Browser":i=sv(Je());break;case"Worker":i=`${sv(Je())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${a}`}class qb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Hb(r,t={}){return so(r,"GET","/v2/passwordPolicy",zl(r,t))}const Fb=6;class Gb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Fb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Qb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rv(this),this.idTokenSubscription=new rv(this),this.beforeStateQueue=new qb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Gc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Cb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject(Wi(this));const i=t?Qe(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Hb(this),i=new Gb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new kl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await zb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=eE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&bb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function jl(r){return Qe(r)}class rv{constructor(t){this.auth=t,this.observer=null,this.addObserver=cS(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kb(r){Om=r}function Yb(r){return Om.loadJS(r)}function Xb(){return Om.gapiScript}function $b(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Zb(r,t){const i=wm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Br(c,t??{}))return l;es(l,"already-initialized")}return i.initialize({options:t})}function Jb(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function Wb(r,t,i){const a=jl(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=nE(t),{host:d,port:p}=tw(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(Br(y,a.config.emulator)&&Br(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,no(d)?(O0(`${c}//${d}${_}`),V0("Auth",!0)):ew()}function nE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function tw(r){const t=nE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:av(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:av(d)}}}function av(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function ew(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class iE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Qa(r,t){return Im(r,"POST","/v1/accounts:signInWithIdp",zl(r,t))}const nw="http://localhost";class Hr extends iE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Hr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Qa(t,i)}buildRequest(){const t={requestUri:nw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ll(i)}return t}}class sE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Bl extends sE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Bs extends Bl{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";class qs extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Hr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return qs.credential(i,a)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";class Hs extends Bl{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";class Fs extends Bl{constructor(){super("twitter.com")}static credential(t,i){return Hr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Fs.credential(i,a)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";async function iw(r,t){return Im(r,"POST","/v1/accounts:signUp",zl(r,t))}class is{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Jn._fromIdTokenResponse(t,a,l),d=ov(a);return new is({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=ov(a);return new is({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function ov(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function sw(r){if(kn(r.app))return Promise.reject(Wi(r));const t=jl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new is({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await iw(t,{returnSecureToken:!0}),a=await is._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Kc extends as{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Kc(t,i,a,l)}}function rE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,t,a):c})}async function rw(r,t,i=!1){const a=await Il(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return is._forOperation(r,"link",a)}async function aw(r,t,i=!1){const{auth:a}=r;if(kn(a.app))return Promise.reject(Wi(a));const l="reauthenticate";try{const c=await Il(r,rE(a,l,t,r),i);_t(c.idToken,a,"internal-error");const d=Nm(c.idToken);_t(d,a,"internal-error");const{sub:p}=d;return _t(r.uid===p,a,"user-mismatch"),is._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&es(a,"user-mismatch"),c}}async function ow(r,t,i=!1){if(kn(r.app))return Promise.reject(Wi(r));const a="signIn",l=await rE(r,a,t),c=await is._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function lw(r,t){return Im(r,"POST","/v1/accounts:signInWithCustomToken",zl(r,t))}async function uw(r,t){if(kn(r.app))return Promise.reject(Wi(r));const i=jl(r),a=await lw(i,{token:t,returnSecureToken:!0}),l=await is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function cw(r,t,i,a){return Qe(r).onIdTokenChanged(t,i,a)}function hw(r,t,i){return Qe(r).beforeAuthStateChanged(t,i)}function fw(r,t,i,a){return Qe(r).onAuthStateChanged(t,i,a)}const Yc="__sak";class aE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const dw=1e3,mw=10;class oE extends aE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Bb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,mw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}oE.type="LOCAL";const gw=oE;class lE extends aE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}lE.type="SESSION";const uE=lE;function pw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new lh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await pw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];function Vm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class yw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Vm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function bi(){return window}function _w(r){bi().location.href=r}function cE(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function vw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ew(){return navigator?.serviceWorker?.controller||null}function Tw(){return cE()?self:null}const hE="firebaseLocalStorageDb",Aw=1,Xc="firebaseLocalStorage",fE="fbase_key";class ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function uh(r,t){return r.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function Sw(){const r=indexedDB.deleteDatabase(hE);return new ql(r).toPromise()}function nm(){const r=indexedDB.open(hE,Aw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xc,{keyPath:fE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await Sw(),t(await nm()))})})}async function lv(r,t,i){const a=uh(r,!0).put({[fE]:t,value:i});return new ql(a).toPromise()}async function bw(r,t){const i=uh(r,!1).get(t),a=await new ql(i).toPromise();return a===void 0?null:a.value}function uv(r,t){const i=uh(r,!0).delete(t);return new ql(i).toPromise()}const ww=800,Rw=3;class dE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Rw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(Tw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vw(),!this.activeServiceWorker)return;this.sender=new yw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ew()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await nm();return await lv(t,Yc,"1"),await uv(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>lv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>bw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>uv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=uh(l,!1).getAll();return new ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dE.type="LOCAL";const Cw=dE;new Pl(3e4,6e4);function Iw(r,t){return t?Ji(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Mm extends iE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Nw(r){return ow(r.auth,new Mm(r),r.bypassAuthState)}function Dw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),aw(i,new Mm(r),r.bypassAuthState)}async function Ow(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),rw(i,new Mm(r),r.bypassAuthState)}class mE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Nw;case"linkViaPopup":case"linkViaRedirect":return Ow;case"reauthViaPopup":case"reauthViaRedirect":return Dw;default:es(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vw=new Pl(2e3,1e4);class Ha extends mE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Vw.get())};t()}}Ha.currentPopupAction=null;const Mw="pendingRedirect",xc=new Map;class xw extends mE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=xc.get(this.auth._key());if(!t){try{const a=await Uw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}xc.set(this.auth._key(),t)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Uw(r,t){const i=Pw(t),a=Lw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function kw(r,t){xc.set(r._key(),t)}function Lw(r){return Ji(r._redirectPersistence)}function Pw(r){return Mc(Mw,r.config.apiKey,r.name)}async function zw(r,t,i=!1){if(kn(r.app))return Promise.reject(Wi(r));const a=jl(r),l=Iw(a,t),d=await new xw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const jw=600*1e3;class Bw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!gE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Si(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=jw&&this.cachedEventUids.clear(),this.cachedEventUids.has(cv(t))}saveEventToCache(t){this.cachedEventUids.add(cv(t)),this.lastProcessedEventTime=Date.now()}}function cv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function gE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function qw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(r);default:return!1}}async function Hw(r,t={}){return so(r,"GET","/v1/projects",t)}const Fw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gw=/^https?/;async function Qw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Hw(r);for(const i of t)try{if(Kw(i))return}catch{}es(r,"unauthorized-domain")}function Kw(r){const t=tm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Gw.test(i))return!1;if(Fw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Yw=new Pl(3e4,6e4);function hv(){const r=bi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Xw(r){return new Promise((t,i)=>{function a(){hv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hv(),i(Si(r,"network-request-failed"))},timeout:Yw.get()})}if(bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(bi().gapi?.load)a();else{const l=$b("iframefcb");return bi()[l]=()=>{gapi.load?a():i(Si(r,"network-request-failed"))},Yb(`${Xb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function $w(r){return Uc=Uc||Xw(r),Uc}const Zw=new Pl(5e3,15e3),Jw="__/auth/iframe",Ww="emulator/auth/iframe",tR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nR(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Cm(t,Ww):`https://${r.config.authDomain}/${Jw}`,a={apiKey:t.apiKey,appName:r.name,v:io},l=eR.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ll(a).slice(1)}`}async function iR(r){const t=await $w(r),i=bi().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:nR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Si(r,"network-request-failed"),p=bi().setTimeout(()=>{c(d)},Zw.get());function _(){bi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const sR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rR=500,aR=600,oR="_blank",lR="http://localhost";class fv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uR(r,t,i,a=rR,l=aR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...sR,width:a.toString(),height:l.toString(),top:c,left:d},y=Je().toLowerCase();i&&(p=X0(y)?oR:i),K0(y)&&(t=t||lR,_.scrollbars="yes");const A=Object.entries(_).reduce((M,[Q,W])=>`${M}${Q}=${W},`,"");if(jb(y)&&p!=="_self")return cR(t||"",p),new fv(null);const S=window.open(t||"",p,A);_t(S,r,"popup-blocked");try{S.focus()}catch{}return new fv(S)}function cR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const hR="__/auth/handler",fR="emulator/auth/handler",dR=encodeURIComponent("fac");async function dv(r,t,i,a,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:io,eventId:l};if(t instanceof sE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",uS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Bl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await r._getAppCheckToken(),y=_?`#${dR}=${encodeURIComponent(_)}`:"";return`${mR(r)}?${Ll(p).slice(1)}${y}`}function mR({config:r}){return r.emulator?Cm(r,fR):`https://${r.authDomain}/${hR}`}const jd="webStorageSupport";class gR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uE,this._completeRedirectFn=zw,this._overrideRedirectResult=kw}async _openPopup(t,i,a,l){ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await dv(t,i,a,tm(),l);return uR(t,c,Vm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await dv(t,i,a,tm(),l);return _w(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ns(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await iR(t),a=new Bw(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(jd,{type:jd},l=>{const c=l?.[0]?.[jd];c!==void 0&&i(!!c),es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Qw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return tE()||Y0()||Dm()}}const pR=gR;var mv="@firebase/auth",gv="1.12.0";class yR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _R(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vR(r){Xa(new qr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eE(r)},y=new Qb(a,l,c,_);return Jb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new qr("auth-internal",t=>{const i=jl(t.getProvider("auth").getImmediate());return(a=>new yR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(mv,gv,_R(r)),Ys(mv,gv,"esm2020")}const ER=300,TR=D0("authIdTokenMaxAge")||ER;let pv=null;const AR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>TR)return;const l=i?.token;pv!==l&&(pv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function SR(r=k0()){const t=wm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Zb(r,{popupRedirectResolver:pR,persistence:[Cw,gw,uE]}),a=D0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=AR(c.toString());hw(i,d,()=>d(i.currentUser)),cw(i,p=>d(p))}}const l=I0("auth");return l&&Wb(i,`http://${l}`),i}function bR(){return document.getElementsByTagName("head")?.[0]??document}Kb({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Si("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",bR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vR("Browser");var yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xs,pE;(function(){var r;function t(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(x,D,k){for(var w=Array(arguments.length-2),te=2;te<arguments.length;te++)w[te-2]=arguments[te];return b.prototype[D].apply(x,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,C){C||(C=0);const x=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)x[D]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(D=0;D<16;++D)x[D]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],D=I.g[2];let k=I.g[3],w;w=b+(k^C&(D^k))+x[0]+3614090360&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+x[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+x[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+x[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(k^C&(D^k))+x[4]+4118548399&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+x[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+x[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+x[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(k^C&(D^k))+x[8]+1770035416&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+x[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+x[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+x[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(k^C&(D^k))+x[12]+1804603682&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+x[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+x[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+x[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(D^k&(C^D))+x[1]+4129170786&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+x[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+x[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+x[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(C^D))+x[5]+3593408605&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+x[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+x[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+x[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(C^D))+x[9]+568446438&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+x[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+x[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+x[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(C^D))+x[13]+2850285829&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+x[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+x[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+x[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(C^D^k)+x[5]+4294588738&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+x[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+x[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+x[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^k)+x[1]+2763975236&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+x[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+x[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+x[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^k)+x[13]+681279174&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+x[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+x[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+x[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^k)+x[9]+3654602809&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+x[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+x[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+x[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(D^(C|~k))+x[0]+4096336452&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+x[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+x[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+x[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~k))+x[12]+1700485571&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+x[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+x[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+x[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~k))+x[8]+1873313359&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+x[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+x[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+x[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~k))+x[4]+4149444226&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+x[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+x[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,x=this.C;let D=this.h,k=0;for(;k<b;){if(D==0)for(;k<=C;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<b;)if(x[D++]=I.charCodeAt(k++),D==this.blockSize){l(this,x),D=0;break}}else for(;k<b;)if(x[D++]=I[k++],D==this.blockSize){l(this,x),D=0;break}}this.h=D,this.o+=b},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let x=0;x<32;x+=8)I[b++]=this.g[C]>>>x&255;return I};function c(I,b){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function d(I,b){this.h=b;const C=[];let x=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;x&&k==b||(C[D]=k,x=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?c(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return tt(y(-I));const b=[];let C=1;for(let x=0;I>=C;x++)b[x]=I/C|0,C*=4294967296;return new d(b,0)}function A(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return tt(A(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(b,8));let x=S;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+D),b);D<8?(D=y(Math.pow(b,D)),x=x.j(D).add(y(w))):(x=x.j(C),x=x.add(y(w)))}return x}var S=_(0),M=_(1),Q=_(16777216);r=d.prototype,r.m=function(){if(it(this))return-tt(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const x=this.i(C);I+=(x>=0?x:4294967296+x)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(it(this))return"-"+tt(this).toString(I);const b=y(Math.pow(I,6));var C=this;let x="";for(;;){const D=vt(C,b).g;C=dt(C,D.j(b));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,W(C))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function it(I){return I.h==-1}r.l=function(I){return I=dt(this,I),it(I)?-1:W(I)?0:1};function tt(I){const b=I.g.length,C=[];for(let x=0;x<b;x++)C[x]=~I.g[x];return new d(C,~I.h).add(M)}r.abs=function(){return it(this)?tt(this):this},r.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let x=0;for(let D=0;D<=b;D++){let k=x+(this.i(D)&65535)+(I.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);x=w>>>16,k&=65535,w&=65535,C[D]=w<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function dt(I,b){return I.add(tt(b))}r.j=function(I){if(W(this)||W(I))return S;if(it(this))return it(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(it(I))return tt(this.j(tt(I)));if(this.l(Q)<0&&I.l(Q)<0)return y(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var x=0;x<2*b;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(let D=0;D<I.g.length;D++){const k=this.i(x)>>>16,w=this.i(x)&65535,te=I.i(D)>>>16,de=I.i(D)&65535;C[2*x+2*D]+=w*de,mt(C,2*x+2*D),C[2*x+2*D+1]+=k*de,mt(C,2*x+2*D+1),C[2*x+2*D+1]+=w*te,mt(C,2*x+2*D+1),C[2*x+2*D+2]+=k*te,mt(C,2*x+2*D+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function mt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function pt(I,b){this.g=I,this.h=b}function vt(I,b){if(W(b))throw Error("division by zero");if(W(I))return new pt(S,S);if(it(I))return b=vt(tt(I),b),new pt(tt(b.g),tt(b.h));if(it(b))return b=vt(I,tt(b)),new pt(tt(b.g),b.h);if(I.g.length>30){if(it(I)||it(b))throw Error("slowDivide_ only works with positive integers.");for(var C=M,x=b;x.l(I)<=0;)C=Lt(C),x=Lt(x);var D=Ut(C,1),k=Ut(x,1);for(x=Ut(x,2),C=Ut(C,2);!W(x);){var w=k.add(x);w.l(I)<=0&&(D=D.add(C),k=w),x=Ut(x,1),C=Ut(C,1)}return b=dt(I,D.j(b)),new pt(D,b)}for(D=S;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=y(C),w=k.j(b);it(w)||w.l(I)>0;)C-=x,k=y(C),w=k.j(b);W(k)&&(k=M),D=D.add(k),I=dt(I,w)}return new pt(D,I)}r.B=function(I){return vt(this,I).h},r.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)&I.i(x);return new d(C,this.h&I.h)},r.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)|I.i(x);return new d(C,this.h|I.h)},r.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)^I.i(x);return new d(C,this.h^I.h)};function Lt(I){const b=I.g.length+1,C=[];for(let x=0;x<b;x++)C[x]=I.i(x)<<1|I.i(x-1)>>>31;return new d(C,I.h)}function Ut(I,b){const C=b>>5;b%=32;const x=I.g.length-C,D=[];for(let k=0;k<x;k++)D[k]=b>0?I.i(k+C)>>>b|I.i(k+C+1)<<32-b:I.i(k+C);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,pE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Xs=d}).apply(typeof yv<"u"?yv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yE,yl,_E,kc,im,vE,EE,TE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var et=Array(arguments.length-2),St=2;St<arguments.length;St++)et[St-2]=arguments[St];return m.prototype[L].apply(T,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let et=0;et<q;et++)u[v+et]=L[et]}else u.push(L)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,v){const T=pt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var pt=new it(()=>new vt,u=>u.reset());class vt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Lt,Ut=!1,I=new mt,b=()=>{const u=Promise.resolve(void 0);Lt=()=>{u.then(C)}};function C(){for(var u;u=dt();){try{u.h.call(u.g)}catch(v){tt(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function te(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(te,D),te.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function zt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let q=0;q<N.length;q++)v=N[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function J(u){this.src=u,this.g={},this.h=0}J.prototype.add=function(u,m,v,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=ut(u,m,T,L);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new nt(m,this.src,q,!!T,L),m.fa=v,u.push(m)),m};function lt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ut(u,m,v,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return L}return-1}var Rt="closure_lm_"+(Math.random()*1e6|0),ne={};function ae(u,m,v,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],v,T,L);return null}return v=fo(v),u&&u[de]?u.J(m,v,p(T)?!!T.capture:!1,L):or(u,m,v,!1,T,L)}function or(u,m,v,T,L,q){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let St=lr(u);if(St||(u[Rt]=St=new J(u)),v=St.add(m,v,T,et,q),v.proxy)return v;if(T=Yr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ti(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yr(){function u(v){return m.call(u.src,u.listener,v)}const m=co;return u}function Xr(u,m,v,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Xr(u,m[q],v,T,L);else T=p(T)?!!T.capture:!!T,v=fo(v),u&&u[de]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=ut(m,v,T,L),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=lr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ut(m,v,T,L)),(v=u>-1?m[u]:null)&&$r(v))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])lt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ti(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=lr(m))?(lt(v,u),v.h==0&&(v.src=null,m[Rt]=null)):ct(u)}}}function ti(u){return u in ne?ne[u]:ne[u]="on"+u}function co(u,m){if(u.da)u=!0;else{m=new te(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&$r(u),u=v.call(T,m)}return u}function lr(u){return u=u[Rt],u instanceof J?u:null}var ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function fo(u){return typeof u=="function"?u:(u[ho]||(u[ho]=function(m){return u.handleEvent(m)}),u[ho])}function ve(){x.call(this),this.i=new J(this),this.M=this,this.G=null}S(ve,x),ve.prototype[de]=!0,ve.prototype.removeEventListener=function(u,m,v,T){Xr(this,u,m,v,T)};function Oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),Z(m,L)}L=!0;let q,et;if(v)for(et=v.length-1;et>=0;et--)q=m.g=v[et],L=os(q,T,!0,m)&&L;if(q=m.g=u,L=os(q,T,!0,m)&&L,L=os(q,T,!1,m)&&L,v)for(et=0;et<v.length;et++)q=m.g=v[et],L=os(q,T,!1,m)&&L}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ve.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function os(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==v){const St=et.listener,ge=et.ha||et.src;et.fa&&lt(u.i,et),L=St.call(ge,T)!==!1&&L}}return L&&!T.defaultPrevented}function Nh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function $l(u){u.g=Nh(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){x.call(this),this.h=u,this.g={}}S(ur,x);var mo=[];function go(u){Nt(u.g,function(m,v){this.g.hasOwnProperty(v)&&$r(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),go(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=d.JSON.stringify,Dh=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jl(){}function Wl(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}S(Pe,D);function Sn(){D.call(this,"c")}S(Sn,D);var me={},tu=null;function Zr(){return tu=tu||new ve}me.Ia="serverreachability";function eu(u){D.call(this,me.Ia,u)}S(eu,D);function ei(u){const m=Zr();Oe(m,new eu(m))}me.STAT_EVENT="statevent";function cr(u,m){D.call(this,me.STAT_EVENT,u),this.stat=m}S(cr,D);function Ee(u){const m=Zr();Oe(m,new cr(m,u))}me.Ja="timingevent";function ni(u,m){D.call(this,me.Ja,u),this.size=m}S(ni,D);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,T,L,q){u.info(function(){if(u.g)if(q){var et="",St=q.split("&");for(let qt=0;qt<St.length;qt++){var ge=St[qt].split("=");if(ge.length>1){const oe=ge[0];ge=ge[1];const Cn=oe.split("_");et=Cn.length>=2&&Cn[1]=="type"?et+(oe+"="+ge+"&"):et+(oe+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function nu(u,m,v,T,L,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+et})}function si(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(T?" "+T:"")})}function hr(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return ls(q)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function dr(){}S(dr,Jl),dr.prototype.g=function(){return new XMLHttpRequest},yo=new dr;function Di(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function qn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Te={},xe={};function ri(u,m,v){u.M=1,u.A=mr(Se(m)),u.u=v,u.R=!0,Jr(u,null)}function Jr(u,m){u.F=Date.now(),ai(u),u.B=Se(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),na(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Hn,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(mo[0]=L.toString()),L=mo);for(let q=0;q<L.length;q++){const et=ae(v,L[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Qn(this.g),ge=this.g.ya(),qt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||St!=4||ge==7||(ge==8||qt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break e}}q=null}if(u=q)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,Ee(12),dn(this),bn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=ru(this,v),oe==xe){St==4&&(this.m=4,Ee(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Te){this.m=4,Ee(15),si(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,oe,null),li(this,oe);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Vo(et),et.P=!0,Ee(11))}}else si(this.i,this.l,v,null),li(this,v);St==4&&dn(this),this.o&&!this.K&&(St==4?mu(this.j,this):(this.o=!1,ai(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),dn(this),bn(this)}}}catch{}};function Mh(u){if(!su(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,L=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?xe:(v=Number(m.substring(v,T)),isNaN(v)?Te:(T+=1,T+v>m.length?xe:(m=m.slice(T,T+v),u.C=T+v,m)))}qn.prototype.cancel=function(){this.K=!0,dn(this)};function ai(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(y(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hr(this.i,this.B),this.M!=2&&(ei(),Ee(17)),dn(this),this.m=2,bn(this)):Wr(this,this.T-u)};function bn(u){u.j.I==0||u.K||mu(u.j,u)}function dn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,go(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ci(v.h,u))){if(!u.L&&ci(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),ps(v);else break t;Tr(v),Ee(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(y(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&oa(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const oe=qt[0];if(!(oe<=v.K))if(v.K=oe,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Cn=qt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const yi=qt[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Kn=qt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(T=1.5*Kn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Yn=u.g;if(Yn){const Ar=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var q=T.h;q.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Eo(q,q.h),q.h=null))}if(T.G){const la=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(T.wa=la,Gt(T.J,T.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var et=u;if(T.na=yu(T,T.L?T.ba:null,T.W),et.L){To(T.h,et);var St=et,ge=T.O;ge&&(St.H=ge),St.D&&(oi(St),ai(St)),T.g=et}else fu(T);v.i.length>0&&gi(v)}else qt[0]!="stop"&&qt[0]!="close"||pi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?pi(v,7):Do(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ei(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,q=null;T>=0?(L=u[v].substring(0,T),q=u[v].substring(T+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,us(this,u.u),this.h=u.h,So(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),us(this,m[4]),this.h=hi(m[5]||"",!0),So(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gr(m,ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gr(m,ea,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gr(v,v.charAt(0)=="/"?bo:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gr(v,lu)),u.join("")},mn.prototype.resolve=function(u){const m=Se(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)us(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let et=0;et<L.length;){const St=L[et++];St=="."?T&&et==L.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&et==L.length&&q.push("")):(q.push(St),T=!0)}T=q.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?So(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Se(u){return new mn(u)}function Ue(u,m,v){u.j=v?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,v){m instanceof hs?(u.i=m,ia(u.i,u.l)):(v||(m=gr(m,cs)),u.i=new hs(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function mr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,ou=/[#\?:]/g,bo=/[#\?]/g,cs=/[#\?@]/g,lu=/#/g;function hs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=hs.prototype,r.add=function(u,m){sn(this),this.i=null,u=fs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){sn(u),m=fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return sn(u),m=fs(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Ro(u,m){sn(u);let v=[];if(typeof m=="string")wo(u,m)&&(v=v.concat(u.g.get(fs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=fs(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(fs(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Di(v);v=Ro(this,v);for(let q=0;q<v.length;q++){let et=L;v[q]!==""&&(et+="="+Di(v[q])),u.push(et)}}return this.i=u.join("&")};function cu(u){const m=new hs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(uu(this,T),na(this,L,v))},u)),u.j=m}function Fn(u,m){const v=new Bn;if(d.Image){const T=new Image;T.onload=A(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Co(u,m){const v=new Bn,T=new AbortController,L=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function ds(){this.g=new Zl}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(fi,Jl),fi.prototype.g=function(){return new pr(this.i,this.h)};function pr(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(pr,ve),r=pr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ms(this):Gn(this),this.readyState==3&&sa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ms(this))},r.Na=function(u){this.g&&(this.response=u,ms(this))},r.ga=function(){this.g&&ms(this)};function ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Nt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function yr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof u=="string"?v!=null&&Di(v):Gt(u,m,v))}function Yt(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,ve);var di=/^https?$/i,Io=["POST","PUT"];r=Yt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){_r(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of v)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){_r(this,q)}};function _r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),Oi(u)}function No(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},r.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let et=String(u.D).match(au)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!di.test(et?et.toLowerCase():"")}v=T}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var L=Qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",No(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=iu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}zt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gs(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Ee(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=yu(this,null,this.W),gi(this)};function Do(u){if(ra(u),u.I==3){var m=u.V++,v=Se(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),Er(u,v),m=new qn(u,u.j,m),m.M=2,m.A=mr(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}pu(u)}function ps(u){u.g&&(Vo(u),u.g.cancel(),u.g=null)}function ra(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Lt||b(),Ut||(Lt(),Ut=!0),I.add(m,u),u.D=0}}function aa(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new qn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),Z(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,L,m),v=Se(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),Er(this,v),q&&(this.R?m="headers="+Di(Rn(q))+"&"+m:this.u&&yr(v,this.u,q)),Eo(this.h,L),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),L.U=!0,ri(L,v,null)):ri(L,v,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||vo(this.h)||Oo(this))};function Oo(u,m){var v;m?v=m.l:v=u.V++;const T=Se(u.J);Gt(T,"SID",u.M),Gt(T,"RID",v),Gt(T,"AID",u.K),Er(u,T),u.u&&u.o&&yr(T,u.u,u.o),v=new qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,v),ri(v,T,m)}function Er(u,m){u.H&&Nt(u.H,function(v,T){Gt(m,T,v)}),u.l&&Nt({},function(v,T){Gt(m,T,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const ge=["count="+v];St==-1?v>0?(St=L[0].g,ge.push("ofs="+St)):St=0:ge.push("ofs="+St);let qt=!0;for(let oe=0;oe<v;oe++){var q=L[oe].g;const Cn=L[oe].map;if(q-=St,q<0)St=Math.max(0,L[oe].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var et=Cn instanceof Map?Cn:Object.entries(Cn);for(const[yi,Kn]of et){let Yn=Kn;p(Kn)&&(Yn=ls(Kn)),ge.push(q+yi+"="+encodeURIComponent(Yn))}}catch(yi){throw ge.push(q+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(Cn)}}if(qt){et=ge.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Lt||b(),Ut||(Lt(),Ut=!0),I.add(m,u),u.A=0}}function Tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(y(u.Da,u),gu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),ps(this),du(this))};function Vo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),Er(u,m),u.u&&u.o&&yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=mr(Se(m)),v.u=null,v.R=!0,Jr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ps(this),Tr(this),Ee(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){oa(u),Vo(u),u.g=null;var T=2}else if(ci(u.h,m))v=m.G,To(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Zr(),Oe(T,new ni(T,v)),gi(u)}else fu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&aa(u,m)||T==2&&Tr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const L=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),mr(T),L?Fn(T.toString(),v):Co(T.toString(),v)}else Ee(2);u.I=0,u.l&&u.l.pa(m),pu(u),ra(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var T=v instanceof mn?Se(v):new mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),us(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new mn(null);T&&Ue(q,T),m&&(q.g=m),L&&us(q,L),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Gt(T,v,m),Gt(T,"VER",u.ka),Er(u,T),T}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new fi({ab:v})):new Yt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ys(){}ys.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ve.call(this),this.g=new gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}S(tn,ve),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Do(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ls(u),u=v);m.i.push(new Ae(m.Ya++,u)),m.I==3&&gi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,tn.Z.N.call(this)};function Eu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Eu,Pe);function Tu(){Sn.call(this),this.status=1}S(Tu,Sn);function Mi(u){this.g=u}S(Mi,vu),Mi.prototype.ra=function(){Oe(this.g,"a")},Mi.prototype.qa=function(u){Oe(this.g,new Eu(u))},Mi.prototype.pa=function(u){Oe(this.g,new Tu)},Mi.prototype.oa=function(){Oe(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,TE=function(){return new ys},EE=function(){return Zr()},vE=me,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,kc=fr,po.COMPLETE="complete",_E=po,Wl.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,yl=Wl,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,yE=Yt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const _v="@firebase/firestore",vv="4.9.3";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let ro="12.7.0";const Fr=new Sm("@firebase/firestore");function Pa(){return Fr.logLevel}function rt(r,...t){if(Fr.logLevel<=Vt.DEBUG){const i=t.map(xm);Fr.debug(`Firestore (${ro}): ${r}`,...i)}}function ss(r,...t){if(Fr.logLevel<=Vt.ERROR){const i=t.map(xm);Fr.error(`Firestore (${ro}): ${r}`,...i)}}function $a(r,...t){if(Fr.logLevel<=Vt.WARN){const i=t.map(xm);Fr.warn(`Firestore (${ro}): ${r}`,...i)}}function xm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,AE(r,a,i)}function AE(r,t,i){let a=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ss(a),new Error(a)}function Ft(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||AE(t,l,a)}function At(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends as{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $s{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class SE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class RR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class CR{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $s,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $s)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new SE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class IR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new IR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ev{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ev(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ev(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function OR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Um{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=OR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function sm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Bd(l)===Bd(c)?Mt(l,c):Bd(l)?1:-1}return Mt(r.length,t.length)}const VR=55296,MR=57343;function Bd(r){const t=r.charCodeAt(0);return t>=VR&&t<=MR}function Za(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const Tv="__name__";class Ai{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ai.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ai.isNumericId(t),l=Ai.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ai.extractNumericId(t).compare(Ai.extractNumericId(i)):sm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xs.fromString(t.substring(4,t.length-2))}}class ee extends Ai{construct(t,i,a){return new ee(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new st(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const xR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ai{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return xR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tv}static keyField(){return new Ge([Tv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new st(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new st(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new st(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ee.fromString(t))}static fromName(t){return new ft(ee.fromString(t).popFirst(5))}static empty(){return new ft(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ee(t.slice()))}}function bE(r,t,i){if(!i)throw new st(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function UR(r,t,i,a){if(t===!0&&a===!0)throw new st(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Av(r){if(!ft.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Sv(r){if(ft.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ch(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Pn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ch(r);throw new st(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function De(r,t){const i={typeString:r};return t&&(i.value=t),i}function Hl(r,t){if(!wE(r))throw new st(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new st(X.INVALID_ARGUMENT,i);return!0}const bv=-62135596800,wv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*wv);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<bv)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-bv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:De("string",re._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new re(0,0))}static max(){return new Et(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;function kR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new Js(l,ft.empty(),t)}function LR(r){return new Js(r.readTime,r.key,Nl)}class Js{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Js(Et.min(),ft.empty(),Nl)}static max(){return new Js(Et.max(),ft.empty(),Nl)}}function PR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const zR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ao(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==zR)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function BR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(r){return r.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const km=-1;function fh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function qR(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const RE="";function HR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Rv(t)),t=FR(r.get(i),t);return Rv(t)}function FR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case RE:i+="";break;default:i+=c}}return i}function Rv(r){return r+RE+""}function Cv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function rr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function CE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(t){return new Iv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Iv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new An([])}unionWith(t){let i=new Me(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new An(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new IE("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const GR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const i=GR.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function tr(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const NE="server_timestamp",DE="__type__",OE="__previous_value__",VE="__local_write_time__";function Lm(r){return(r?.mapValue?.fields||{})[DE]?.stringValue===NE}function dh(r){const t=r.mapValue.fields[OE];return Lm(t)?dh(t):t}function Dl(r){const t=Ws(r.mapValue.fields[VE].timestampValue);return new re(t.seconds,t.nanos)}class QR{constructor(t,i,a,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Zc="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}const ME="__type__",KR="__max__",Ic={mapValue:{}},xE="__vector__",Jc="value";function er(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lm(r)?4:XR(r)?9007199254740991:YR(r)?10:11:yt(28295,{value:r})}function Ni(r,t){if(r===t)return!0;const i=er(r);if(i!==er(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Dl(r).isEqual(Dl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ws(l.timestampValue),p=Ws(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return tr(l.bytesValue).isEqual(tr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return _e(l.geoPointValue.latitude)===_e(c.geoPointValue.latitude)&&_e(l.geoPointValue.longitude)===_e(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return _e(l.integerValue)===_e(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=_e(l.doubleValue),p=_e(c.doubleValue);return d===p?$c(d)===$c(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Cv(d)!==Cv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ni(d[_],p[_])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Vl(r,t){return(r.values||[]).find((i=>Ni(i,t)))!==void 0}function Ja(r,t){if(r===t)return 0;const i=er(r),a=er(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=_e(c.integerValue||c.doubleValue),_=_e(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return Nv(r.timestampValue,t.timestampValue);case 4:return Nv(Dl(r),Dl(t));case 5:return sm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=tr(c),_=tr(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Mt(p[y],_[y]);if(A!==0)return A}return Mt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(_e(c.latitude),_e(d.latitude));return p!==0?p:Mt(_e(c.longitude),_e(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Dv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Jc]?.arrayValue,A=_[Jc]?.arrayValue,S=Mt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:Dv(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const M=sm(_[S],A[S]);if(M!==0)return M;const Q=Ja(p[_[S]],y[A[S]]);if(Q!==0)return Q}return Mt(_.length,A.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function Nv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=Ws(r),a=Ws(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function Dv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ja(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function Wa(r){return rm(r)}function rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ws(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return tr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=rm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function Lc(r){switch(er(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(r);return t?16+Lc(t):16;case 5:return 2*r.stringValue.length;case 6:return tr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Lc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return rr(a.fields,((c,d)=>{l+=c.length+Lc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function Ov(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function am(r){return!!r&&"integerValue"in r}function Pm(r){return!!r&&"arrayValue"in r}function Vv(r){return!!r&&"nullValue"in r}function Mv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pc(r){return!!r&&"mapValue"in r}function YR(r){return(r?.mapValue?.fields||{})[ME]?.stringValue===xE}function Sl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return rr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Sl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Sl(r.arrayValue.values[i]);return t}return{...r}}function XR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KR}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Sl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){rr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new hn(Sl(this.value))}}function UE(r){const t=[];return rr(r.fields,((i,a)=>{const l=new Ge([i]);if(Pc(a)){const c=UE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new An(t)}class Ze{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,Et.min(),Et.min(),Et.min(),hn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,Et.min(),Et.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,Et.min(),Et.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function xv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Uv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ni(r.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function $R(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class kE{}class Ne extends kE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new JR(t,i,a):i==="array-contains"?new e2(t,a):i==="in"?new n2(t,a):i==="not-in"?new i2(t,a):i==="array-contains-any"?new s2(t,a):new Ne(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new WR(t,a):new t2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&er(this.value)===er(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends kE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Wn(t,i)}matches(t){return LE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(r){return r.op==="and"}function PE(r){return ZR(r)&&LE(r)}function ZR(r){for(const t of r.filters)if(t instanceof Wn)return!1;return!0}function om(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(PE(r))return r.filters.map((t=>om(t))).join(",");{const t=r.filters.map((i=>om(i))).join(",");return`${r.op}(${t})`}}function zE(r,t){return r instanceof Ne?(function(a,l){return l instanceof Ne&&a.op===l.op&&a.field.isEqual(l.field)&&Ni(a.value,l.value)})(r,t):r instanceof Wn?(function(a,l){return l instanceof Wn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&zE(d,l.filters[p])),!0):!1})(r,t):void yt(19439)}function jE(r){return r instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(r):r instanceof Wn?(function(i){return i.op.toString()+" {"+i.getFilters().map(jE).join(" ,")+"}"})(r):"Filter"}class JR extends Ne{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class WR extends Ne{constructor(t,i){super(t,"in",i),this.keys=BE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class t2 extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=BE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function BE(r,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class e2 extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Pm(i)&&Vl(i.arrayValue,this.value)}}class n2 extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class i2 extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class s2 extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class r2{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function kv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new r2(r,t,i,a,l,c,d)}function zm(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>om(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wa(a))).join(",")),t.Te=i}return t.Te}function jm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!$R(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!zE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Uv(r.startAt,t.startAt)&&Uv(r.endAt,t.endAt)}function lm(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Fl{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function a2(r,t,i,a,l,c,d,p){return new Fl(r,t,i,a,l,c,d,p)}function mh(r){return new Fl(r)}function Lv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function qE(r){return r.collectionGroup!==null}function bl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Ge.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new th(Ge.keyField(),a))}return t.Ie}function wi(r){const t=At(r);return t.Ee||(t.Ee=o2(t,bl(r))),t.Ee}function o2(r,t){if(r.limitType==="F")return kv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return kv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function um(r,t){const i=r.filters.concat([t]);return new Fl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function cm(r,t,i){return new Fl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function gh(r,t){return jm(wi(r),wi(t))&&r.limitType===t.limitType}function HE(r){return`${zm(wi(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>jE(l))).join(", ")}]`),fh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Wa(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Wa(l))).join(",")),`Target(${a})`})(wi(r))}; limitType=${r.limitType})`}function ph(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of bl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=xv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,bl(a),l)||a.endAt&&!(function(d,p,_){const y=xv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,bl(a),l))})(r,t)}function l2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function FE(r){return(t,i)=>{let a=!1;for(const l of bl(r)){const c=u2(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function u2(r,t,i){const a=r.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Ja(_,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class Qr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){rr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return CE(this.inner)}size(){return this.innerSize}}const c2=new ue(ft.comparator);function rs(){return c2}const GE=new ue(ft.comparator);function _l(...r){let t=GE;for(const i of r)t=t.insert(i.key,i);return t}function QE(r){let t=GE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function zr(){return wl()}function KE(){return wl()}function wl(){return new Qr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const h2=new ue(ft.comparator),f2=new Me(ft.comparator);function xt(...r){let t=f2;for(const i of r)t=t.add(i);return t}const d2=new Me(Mt);function m2(){return d2}function Bm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function YE(r){return{integerValue:""+r}}function g2(r,t){return qR(t)?YE(t):Bm(r,t)}class yh{constructor(){this._=void 0}}function p2(r,t,i){return r instanceof Ml?(function(l,c){const d={fields:{[DE]:{stringValue:NE},[VE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Lm(c)&&(c=dh(c)),c&&(d.fields[OE]=c),{mapValue:d}})(i,t):r instanceof xl?$E(r,t):r instanceof Ul?ZE(r,t):(function(l,c){const d=XE(l,c),p=Pv(d)+Pv(l.Ae);return am(d)&&am(l.Ae)?YE(p):Bm(l.serializer,p)})(r,t)}function y2(r,t,i){return r instanceof xl?$E(r,t):r instanceof Ul?ZE(r,t):i}function XE(r,t){return r instanceof eh?(function(a){return am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Ml extends yh{}class xl extends yh{constructor(t){super(),this.elements=t}}function $E(r,t){const i=JE(t);for(const a of r.elements)i.some((l=>Ni(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends yh{constructor(t){super(),this.elements=t}}function ZE(r,t){let i=JE(t);for(const a of r.elements)i=i.filter((l=>!Ni(l,a)));return{arrayValue:{values:i}}}class eh extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Pv(r){return _e(r.integerValue||r.doubleValue)}function JE(r){return Pm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class _2{constructor(t,i){this.field=t,this.transform=i}}function v2(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof xl&&l instanceof xl||a instanceof Ul&&l instanceof Ul?Za(a.elements,l.elements,Ni):a instanceof eh&&l instanceof eh?Ni(a.Ae,l.Ae):a instanceof Ml&&l instanceof Ml})(r.transform,t.transform)}class E2{constructor(t,i){this.version=t,this.transformResults=i}}class zn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new zn}static exists(t){return new zn(void 0,t)}static updateTime(t){return new zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class _h{}function WE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new qm(r.key,zn.none()):new Gl(r.key,r.data,zn.none());{const i=r.data,a=hn.empty();let l=new Me(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ar(r.key,a,new An(l.toArray()),zn.none())}}function T2(r,t,i){r instanceof Gl?(function(l,c,d){const p=l.value.clone(),_=jv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof ar?(function(l,c,d){if(!zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=jv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(tT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Rl(r,t,i,a){return r instanceof Gl?(function(c,d,p,_){if(!zc(c.precondition,d))return p;const y=c.value.clone(),A=Bv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof ar?(function(c,d,p,_){if(!zc(c.precondition,d))return p;const y=Bv(c.fieldTransforms,_,d),A=d.data;return A.setAll(tT(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function A2(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=XE(a.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function zv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Za(a,l,((c,d)=>v2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends _h{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ar extends _h{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function tT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function jv(r,t,i){const a=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,y2(d,p,i[l]))}return a}function Bv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,p2(c,d,t))}return a}class qm extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S2 extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class b2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&T2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=KE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=WE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),xt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,a)=>zv(i,a)))&&Za(this.baseMutations,t.baseMutations,((i,a)=>zv(i,a)))}}class Hm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return h2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Hm(t,i,a,l)}}class w2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class R2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ie,Pt;function C2(r){switch(r){case X.OK:return yt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function eT(r){if(r===void 0)return ss("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ie.OK:return X.OK;case Ie.CANCELLED:return X.CANCELLED;case Ie.UNKNOWN:return X.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return X.INTERNAL;case Ie.UNAVAILABLE:return X.UNAVAILABLE;case Ie.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ie.NOT_FOUND:return X.NOT_FOUND;case Ie.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ie.ABORTED:return X.ABORTED;case Ie.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ie.DATA_LOSS:return X.DATA_LOSS;default:return yt(39323,{code:r})}}(Pt=Ie||(Ie={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function I2(){return new TextEncoder}const N2=new Xs([4294967295,4294967295],0);function qv(r){const t=I2().encode(r),i=new pE;return i.update(t),new Uint8Array(i.digest())}function Hv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Xs([i,a],0),new Xs([l,c],0)]}class Fm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vl(`Invalid padding: ${i}`);if(a<0)throw new vl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new vl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Xs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Xs.fromNumber(a)));return l.compare(N2)===1&&(l=new Xs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=qv(t),[a,l]=Hv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=qv(t),[a,l]=Hv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(Et.min(),l,new ue(Mt),rs(),xt())}}class Ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,xt(),xt(),xt())}}class jc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class nT{constructor(t,i){this.targetId=t,this.Ce=i}}class iT{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Fv{constructor(){this.ve=0,this.Fe=Gv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),i=xt(),a=xt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Gv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class D2{constructor(t){this.Ge=t,this.ze=new Map,this.je=rs(),this.Je=Nc(),this.He=Nc(),this.Ye=new ue(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(lm(c))if(a===0){const d=new ft(c.path);this.et(i,d,Ze.newNoDocument(d,Et.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=tr(a).toUint8Array()}catch(_){if(_ instanceof IE)return $a("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Fm(d,l,c)}catch(_){return $a(_ instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&lm(p.target)){const _=new ft(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=xt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new vh(t,i,this.Ye,this.je,a);return this.je=rs(),this.Je=Nc(),this.He=Nc(),this.Ye=new ue(Mt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Fv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Fv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new ue(ft.comparator)}function Gv(){return new ue(ft.comparator)}const O2={asc:"ASCENDING",desc:"DESCENDING"},V2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M2={and:"AND",or:"OR"};class x2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function hm(r,t){return r.useProto3Json||fh(t)?t:{value:t}}function nh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function U2(r,t){return nh(r,t.toTimestamp())}function Ri(r){return Ft(!!r,49232),Et.fromTimestamp((function(i){const a=Ws(i);return new re(a.seconds,a.nanos)})(r))}function Gm(r,t){return fm(r,t).canonicalString()}function fm(r,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function rT(r){const t=ee.fromString(r);return Ft(cT(t),10190,{key:t.toString()}),t}function dm(r,t){return Gm(r.databaseId,t.path)}function qd(r,t){const i=rT(t);if(i.get(1)!==r.databaseId.projectId)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(oT(i))}function aT(r,t){return Gm(r.databaseId,t)}function k2(r){const t=rT(r);return t.length===4?ee.emptyPath():oT(t)}function mm(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oT(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Qv(r,t,i){return{name:dm(r,t),fields:i.value.mapValue.fields}}function L2(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?X.UNKNOWN:eT(y.code);return new st(A,y.message||"")})(d);i=new iT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=qd(r,a.document.name),c=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):Et.min(),p=new hn({mapValue:{fields:a.document.fields}}),_=Ze.newFoundDocument(l,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new jc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=qd(r,a.document),c=a.readTime?Ri(a.readTime):Et.min(),d=Ze.newNoDocument(l,c),p=a.removedTargetIds||[];i=new jc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=qd(r,a.document),c=a.removedTargetIds||[];i=new jc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new R2(l,c),p=a.targetId;i=new nT(p,d)}}return i}function P2(r,t){let i;if(t instanceof Gl)i={update:Qv(r,t.key,t.value)};else if(t instanceof qm)i={delete:dm(r,t.key)};else if(t instanceof ar)i={update:Qv(r,t.key,t.data),updateMask:K2(t.fieldMask)};else{if(!(t instanceof S2))return yt(16599,{Vt:t.type});i={verify:dm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof eh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:U2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function z2(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ri(l.updateTime):Ri(c);return d.isEqual(Et.min())&&(d=Ri(c)),new E2(d,l.transformResults||[])})(i,t)))):[]}function j2(r,t){return{documents:[aT(r,t.path)]}}function B2(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=aT(r,l);const c=(function(y){if(y.length!==0)return uT(Wn.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(M){return{field:ja(M.field),direction:F2(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=hm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function q2(r){let t=k2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const M=lT(S);return M instanceof Wn&&PE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(W){return new th(Ba(W.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,fh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,Q=S.values||[];return new Wc(Q,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,Q=S.values||[];return new Wc(Q,M)})(i.endAt)),a2(t,l,d,c,p,"F",_,y)}function H2(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function lT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ba(i.unaryFilter.field);return Ne.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ne.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Wn.create(i.compositeFilter.filters.map((a=>lT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function F2(r){return O2[r]}function G2(r){return V2[r]}function Q2(r){return M2[r]}function ja(r){return{fieldPath:r.canonicalString()}}function Ba(r){return Ge.fromServerFormat(r.fieldPath)}function uT(r){return r instanceof Ne?(function(i){if(i.op==="=="){if(Mv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(Vv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Mv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(Vv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:G2(i.op),value:i.value}}})(r):r instanceof Wn?(function(i){const a=i.getFilters().map((l=>uT(l)));return a.length===1?a[0]:{compositeFilter:{op:Q2(i.op),filters:a}}})(r):yt(54877,{filter:r})}function K2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function cT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Gs{constructor(t,i,a,l,c=Et.min(),d=Et.min(),p=Ke.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Y2{constructor(t){this.yt=t}}function X2(r){const t=q2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cm(t,t.limit,"L"):t}class $2{constructor(){this.Cn=new Z2}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Js.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Js.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class Z2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(ee.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(ee.comparator)).toArray()}}const Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(hT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class to{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}const Yv="LruGarbageCollector",J2=1048576;function Xv([r,t],[i,a]){const l=Mt(r,i);return l===0?Mt(t,a):l}class W2{constructor(t){this.Ir=t,this.buffer=new Me(Xv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Xv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Yv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?rt(Yv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Vr(3e5)}))}}class eC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(hh.ce);const a=new W2(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Kv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),Pa()<=Vt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function nC(r,t){return new eC(r,t)}class iC{constructor(){this.changes=new Qr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class sC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class rC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Rl(a.mutation,l,An.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,xt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=xt()){const l=zr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=_l();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=zr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,xt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=rs();const d=wl(),p=(function(){return wl()})();return i.forEach(((_,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof ar)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Rl(A.mutation,y,A.mutation.getFieldMask(),re.now())):d.set(y.key,An.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new sC(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=wl();let l=new ue(((d,p)=>d-p)),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||An.empty();A=p.applyToLocalView(y,A),a.set(_,A);const S=(l.get(p.batchId)||xt()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,S=KE();A.forEach((M=>{if(!c.has(M)){const Q=WE(i.get(M),a.get(M));Q!==null&&S.set(M,Q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):qE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(zr());let p=Nl,_=c;return d.next((y=>$.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{_=_.insert(A,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,xt()))).next((A=>({batchId:p,changes:QE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let l=_l();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=_l();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(_=>{const y=(function(S,M){return new Fl(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=_l();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Rl(A.mutation,y,An.empty(),re.now()),ph(i,y)&&(p=p.insert(_,y))})),p}))}}class aC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:X2(l.bundledQuery),readTime:Ri(l.readTime)}})(i)),$.resolve()}}class oC{constructor(){this.overlays=new ue(ft.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=zr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=zr(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ue(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=zr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=zr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return $.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new w2(i,a));let c=this.qr.get(i);c===void 0&&(c=xt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class lC{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Qm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ft(new ee([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new ee([])),a=new Le(i,t),l=new Le(i,t+1);let c=xt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class uC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new b2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?km:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Mt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ft(c),0);let p=new Me(Mt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class cC{constructor(t){this.ri=t,this.docs=(function(){return new ue(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=rs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=rs();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||PR(LR(A),a)<=0||(l.has(A.key)||ph(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new hC(this)}getSize(t){return $.resolve(this.size)}}class hC extends iC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class fC{constructor(t){this.persistence=t,this.si=new Qr((i=>zm(i)),jm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=to.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new to(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class fT{constructor(t,i){this.ui={},this.overlays={},this.ci=new hh(0),this.li=!1,this.li=!0,this.hi=new lC,this.referenceDelegate=t(this),this.Pi=new fC(this),this.indexManager=new $2,this.remoteDocumentCache=(function(l){return new cC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Y2(i),this.Ii=new aC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new oC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new uC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new dC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class dC extends jR{constructor(t){super(),this.currentSequenceNumber=t}}class Km{constructor(t){this.persistence=t,this.Ri=new Qm,this.Vi=null}static mi(t){return new Km(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=ft.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ih{constructor(t,i){this.persistence=t,this.pi=new Qr((a=>HR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=nC(this,i)}static mi(t,i){return new ih(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ym{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=xt(),l=xt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ym(t,i.fromCache,a,l)}}class mC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class gC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iS()?8:BR(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new mC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Pa()<=Vt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Pa()<=Vt.DEBUG&&rt("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Pa()<=Vt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(i))):$.resolve())}ys(t,i){if(Lv(i))return $.resolve(null);let a=wi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=cm(i,null,"F"),a=wi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=xt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,cm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return Lv(i)||l.isEqual(Et.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(Pa()<=Vt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.vs(t,d,i,kR(l,Nl)).next((p=>p)))}))}Ds(t,i){let a=new Me(FE(t));return i.forEach(((l,c)=>{ph(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Pa()<=Vt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(t,i,Js.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xm="LocalStore",pC=3e8;class yC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Mt),this.xs=new Qr((c=>zm(c)),jm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function _C(r,t,i,a){return new yC(r,t,i,a)}async function dT(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=xt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function vC(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const S=y.batch,M=S.keys();let Q=$.resolve();return M.forEach((W=>{Q=Q.next((()=>A.getEntry(_,W))).next((it=>{const tt=y.docVersions.get(W);Ft(tt!==null,48541),it.version.compareTo(tt)<0&&(S.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),A.addEntry(it)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=xt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function mT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function EC(r,t){const i=At(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const M=l.get(S);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let Q=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Q=Q.withResumeToken(Ke.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),l=l.insert(S,Q),(function(it,tt,dt){return it.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=pC?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(M,Q,A)&&p.push(i.Pi.updateTargetData(c,Q))}));let _=rs(),y=xt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(TC(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!a.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function TC(r,t,i){let a=xt(),l=xt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=rs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Et.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):rt(Xm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function AC(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function SC(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Gs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function gm(r,t,i){const a=At(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;rt(Xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function $v(r,t,i){const a=At(r);let l=Et.min(),c=xt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=At(_),M=S.xs.get(A);return M!==void 0?$.resolve(S.Ms.get(M)):S.Pi.getTargetData(y,A)})(a,d,wi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:xt()))).next((p=>(bC(a,l2(t),p),{documents:p,Qs:c})))))}function bC(r,t,i){let a=r.Os.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Zv{constructor(){this.activeTargetIds=m2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wC{constructor(){this.Mo=new Zv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Zv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class RC{Oo(t){}shutdown(){}}const Jv="ConnectivityMonitor";class Wv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Jv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Jv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function pm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Hd="RestConnection",CC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=pm(),p=this.zo(t,i.toUriEncodedString());rt(Hd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=no(y);return this.Jo(t,p,_,a,A).then((S=>(rt(Hd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw $a(Hd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=CC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class NC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class DC extends IC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=pm();return new Promise(((p,_)=>{const y=new yE;y.setWithCredentials(!0),y.listenOnce(_E.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kc.NO_ERROR:const S=y.getResponseJson();rt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case kc.TIMEOUT:rt(Xe,`RPC '${t}' ${d} timed out`),_(new st(X.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const M=y.getStatus();if(rt(Xe,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const it=(function(dt){const mt=dt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(mt)>=0?mt:X.UNKNOWN})(W.status);_(new st(it,W.message))}else _(new st(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new st(X.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=TE(),p=EE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");rt(Xe,`Creating RPC '${t}' stream ${l}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let M=!1,Q=!1;const W=new NC({Yo:tt=>{Q?rt(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(M||(rt(Xe,`Opening RPC '${t}' stream ${l} transport.`),S.open(),M=!0),rt(Xe,`RPC '${t}' stream ${l} sending:`,tt),S.send(tt))},Zo:()=>S.close()}),it=(tt,dt,mt)=>{tt.listen(dt,(pt=>{try{mt(pt)}catch(vt){setTimeout((()=>{throw vt}),0)}}))};return it(S,yl.EventType.OPEN,(()=>{Q||(rt(Xe,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),it(S,yl.EventType.CLOSE,(()=>{Q||(Q=!0,rt(Xe,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(S))})),it(S,yl.EventType.ERROR,(tt=>{Q||(Q=!0,$a(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),W.a_(new st(X.UNAVAILABLE,"The operation could not be completed")))})),it(S,yl.EventType.MESSAGE,(tt=>{if(!Q){const dt=tt.data[0];Ft(!!dt,16349);const mt=dt,pt=mt?.error||mt[0]?.error;if(pt){rt(Xe,`RPC '${t}' stream ${l} received error:`,pt);const vt=pt.status;let Lt=(function(b){const C=Ie[b];if(C!==void 0)return eT(C)})(vt),Ut=pt.message;Lt===void 0&&(Lt=X.INTERNAL,Ut="Unknown error status: "+vt+" with message "+pt.message),Q=!0,W.a_(new st(Lt,Ut)),S.close()}else rt(Xe,`RPC '${t}' stream ${l} received:`,dt),W.u_(dt)}})),it(p,vE.STAT_EVENT,(tt=>{tt.stat===im.PROXY?rt(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===im.NOPROXY&&rt(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Fd(){return typeof document<"u"?document:null}function Eh(r){return new x2(r,!0)}class gT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const t0="PersistentStream";class pT{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new st(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(t0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(t0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OC extends pT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=L2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Ri(d.readTime):Et.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=lm(_)?{documents:j2(c,_)}:{query:B2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=sT(c,d.resumeToken);const y=hm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=nh(c,d.snapshotVersion.toTimestamp());const y=hm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=H2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=mm(this.serializer),i.removeTarget=t,this.q_(i)}}class VC extends pT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=z2(t.writeResults,t.commitTime),a=Ri(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=mm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>P2(this.serializer,a)))};this.q_(i)}}class MC{}class xC extends MC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,fm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(X.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,fm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gr="RemoteStore";class kC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Kr(this)&&(rt(Gr,"Restarting streams for network reachability change."),await(async function(_){const y=At(_);y.Ea.add(4),await Kl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Th(y)})(this))}))})),this.Ra=new UC(a,l)}}async function Th(r){if(Kr(r))for(const t of r.da)await t(!0)}async function Kl(r){for(const t of r.da)await t(!1)}function yT(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Wm(i)?Jm(i):lo(i).O_()&&Zm(i,t))}function $m(r,t){const i=At(r),a=lo(i);i.Ia.delete(t),a.O_()&&_T(i,t),i.Ia.size===0&&(a.O_()?a.L_():Kr(i)&&i.Ra.set("Unknown"))}function Zm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(r).Y_(t)}function _T(r,t){r.Va.Ue(t),lo(r).Z_(t)}function Jm(r){r.Va=new D2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.Ra.ua()}function Wm(r){return Kr(r)&&!lo(r).x_()&&r.Ia.size>0}function Kr(r){return At(r).Ea.size===0}function vT(r){r.Va=void 0}async function LC(r){r.Ra.set("Online")}async function PC(r){r.Ia.forEach(((t,i)=>{Zm(r,t)}))}async function zC(r,t){vT(r),Wm(r)?(r.Ra.ha(t),Jm(r)):r.Ra.set("Unknown")}async function jC(r,t,i){if(r.Ra.set("Online"),t instanceof iT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){rt(Gr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await sh(r,a)}else if(t instanceof jc?r.Va.Ze(t):t instanceof nT?r.Va.st(t):r.Va.tt(t),!i.isEqual(Et.min()))try{const a=await mT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),_T(c,_);const S=new Gs(A.target,_,y,A.sequenceNumber);Zm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){rt(Gr,"Failed to raise snapshot:",a),await sh(r,a)}}async function sh(r,t,i){if(!oo(t))throw t;r.Ea.add(1),await Kl(r),r.Ra.set("Offline"),i||(i=()=>mT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Gr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Th(r)}))}function ET(r,t){return t().catch((i=>sh(r,i,t)))}async function Ah(r){const t=At(r),i=nr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:km;for(;BC(t);)try{const l=await AC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,qC(t,l)}catch(l){await sh(t,l)}TT(t)&&AT(t)}function BC(r){return Kr(r)&&r.Ta.length<10}function qC(r,t){r.Ta.push(t);const i=nr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function TT(r){return Kr(r)&&!nr(r).x_()&&r.Ta.length>0}function AT(r){nr(r).start()}async function HC(r){nr(r).ra()}async function FC(r){const t=nr(r);for(const i of r.Ta)t.ea(i.mutations)}async function GC(r,t,i){const a=r.Ta.shift(),l=Hm.from(a,t,i);await ET(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ah(r)}async function QC(r,t){t&&nr(r).X_&&await(async function(a,l){if((function(d){return C2(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();nr(a).B_(),await ET(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ah(a)}})(r,t),TT(r)&&AT(r)}async function e0(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),rt(Gr,"RemoteStore received new credentials");const a=Kr(i);i.Ea.add(3),await Kl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function KC(r,t){const i=At(r);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Kl(i),i.Ra.set("Unknown"))}function lo(r){return r.ma||(r.ma=(function(i,a,l){const c=At(i);return c.sa(),new OC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:LC.bind(null,r),t_:PC.bind(null,r),r_:zC.bind(null,r),H_:jC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Wm(r)?Jm(r):r.Ra.set("Unknown")):(await r.ma.stop(),vT(r))}))),r.ma}function nr(r){return r.fa||(r.fa=(function(i,a,l){const c=At(i);return c.sa(),new VC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:HC.bind(null,r),r_:QC.bind(null,r),ta:FC.bind(null,r),na:GC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ah(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Gr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class tg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new tg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(r,t){if(ss("AsyncQueue",`${t}: ${r}`),oo(r))return new st(X.UNAVAILABLE,`${t}: ${r}`);throw r}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=_l(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class n0{constructor(){this.ga=new ue(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class eo{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new eo(t,i,Ka.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class YC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class XC{constructor(){this.queries=i0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=i0(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new st(X.ABORTED,"Firestore shutting down"))}}function i0(){return new Qr((r=>HE(r)),gh)}async function ST(r,t){const i=At(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new YC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=eg(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ng(i)}async function bT(r,t){const i=At(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function $C(r,t){const i=At(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&ng(i)}function ZC(r,t,i){const a=At(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function ng(r){r.Ca.forEach((t=>{t.next()}))}var ym,s0;(s0=ym||(ym={})).Ma="default",s0.Cache="cache";class wT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new eo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ym.Cache}}class RT{constructor(t){this.key=t}}class CT{constructor(t){this.key=t}}class JC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=FE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new n0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const M=l.get(A),Q=ph(this.query,S)?S:null,W=!!M&&this.mutatedKeys.has(M.key),it=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let tt=!1;M&&Q?M.data.isEqual(Q.data)?W!==it&&(a.track({type:3,doc:Q}),tt=!0):this.su(M,Q)||(a.track({type:2,doc:Q}),tt=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!M&&Q?(a.track({type:0,doc:Q}),tt=!0):M&&!Q&&(a.track({type:1,doc:M}),tt=!0,(_||y)&&(p=!0)),tt&&(Q?(d=d.add(Q),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(Q,W){const it=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:tt})}};return it(Q)-it(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new eo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new n0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new CT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new RT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=xt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ig="SyncEngine";class WC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class tI{constructor(t){this.key=t,this.hu=!1}}class eI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Qr((p=>HE(p)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(ft.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nI(r,t,i=!0){const a=MT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await IT(a,t,i,!0),l}async function iI(r,t){const i=MT(r);await IT(i,t,!0,!1)}async function IT(r,t,i,a){const l=await SC(r.localStore,wi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await sI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&yT(r.remoteStore,l),p}async function sI(r,t,i,a,l){r.pu=(S,M,Q)=>(async function(it,tt,dt,mt){let pt=tt.view.ru(dt);pt.Cs&&(pt=await $v(it.localStore,tt.query,!1).then((({documents:I})=>tt.view.ru(I,pt))));const vt=mt&&mt.targetChanges.get(tt.targetId),Lt=mt&&mt.targetMismatches.get(tt.targetId)!=null,Ut=tt.view.applyChanges(pt,it.isPrimaryClient,vt,Lt);return a0(it,tt.targetId,Ut.au),Ut.snapshot})(r,S,M,Q);const c=await $v(r.localStore,t,!0),d=new JC(t,c.Qs),p=d.ru(c.documents),_=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);a0(r,i,y.au);const A=new WC(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function rI(r,t,i){const a=At(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&$m(a.remoteStore,l.targetId),_m(a,l.targetId)})).catch(ao)):(_m(a,l.targetId),await gm(a.localStore,l.targetId,!0))}async function aI(r,t){const i=At(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),$m(i.remoteStore,a.targetId))}async function oI(r,t,i){const a=mI(r);try{const l=await(function(d,p){const _=At(d),y=re.now(),A=p.reduce(((Q,W)=>Q.add(W.key)),xt());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=rs(),it=xt();return _.Ns.getEntries(Q,A).next((tt=>{W=tt,W.forEach(((dt,mt)=>{mt.isValidDocument()||(it=it.add(dt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,W))).next((tt=>{S=tt;const dt=[];for(const mt of p){const pt=A2(mt,S.get(mt.key).overlayedDocument);pt!=null&&dt.push(new ar(mt.key,pt,UE(pt.value.mapValue),zn.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,dt,p)})).next((tt=>{M=tt;const dt=tt.applyToLocalDocumentSet(S,it);return _.documentOverlayCache.saveOverlays(Q,tt.batchId,dt)}))})).then((()=>({batchId:M.batchId,changes:QE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ue(Mt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Yl(a,l.changes),await Ah(a.remoteStore)}catch(l){const c=eg(l,"Failed to persist write");i.reject(c)}}async function NT(r,t){const i=At(r);try{const a=await EC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Yl(i,a,t)}catch(a){await ao(a)}}function r0(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=At(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,S)=>{for(const M of S.Sa)M.va(p)&&(y=!0)})),y&&ng(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function lI(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ue(ft.comparator);d=d.insert(c,Ze.newNoDocument(c,Et.min()));const p=xt().add(c),_=new vh(Et.min(),new Map,new ue(Mt),d,p);await NT(a,_),a.du=a.du.remove(c),a.Au.delete(t),sg(a)}else await gm(a.localStore,t,!1).then((()=>_m(a,t,i))).catch(ao)}async function uI(r,t){const i=At(r),a=t.batch.batchId;try{const l=await vC(i.localStore,t);OT(i,a,null),DT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await ao(l)}}async function cI(r,t,i){const a=At(r);try{const l=await(function(d,p){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ft(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);OT(a,t,i),DT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await ao(l)}}function DT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function OT(r,t,i){const a=At(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function _m(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||VT(r,a)}))}function VT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&($m(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),sg(r))}function a0(r,t,i){for(const a of i)a instanceof RT?(r.Ru.addReference(a.key,t),hI(r,a)):a instanceof CT?(rt(ig,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||VT(r,a.key)):yt(19791,{wu:a})}function hI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(ig,"New document in limbo: "+i),r.Eu.add(a),sg(r))}function sg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ft(ee.fromString(t)),a=r.fu.next();r.Au.set(a,new tI(i)),r.du=r.du.insert(i,a),yT(r.remoteStore,new Gs(wi(mh(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Yl(r,t,i){const a=At(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Ym.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const A=At(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(M=>$.forEach(M.Es,(Q=>A.persistence.referenceDelegate.addReference(S,M.targetId,Q))).next((()=>$.forEach(M.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,M.targetId,Q)))))))))}catch(S){if(!oo(S))throw S;rt(Xm,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const Q=A.Ms.get(M),W=Q.snapshotVersion,it=Q.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(M,it)}}})(a.localStore,c))}async function fI(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){rt(ig,"User change. New user:",t.toKey());const a=await dT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new st(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.Ls)}}function dI(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return xt().add(a.key);{let l=xt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function MT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=NT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lI.bind(null,t),t.Pu.H_=$C.bind(null,t.eventManager),t.Pu.yu=ZC.bind(null,t.eventManager),t}function mI(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cI.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return _C(this.persistence,new gC,t.initialUser,this.serializer)}Cu(t){return new fT(Km.mi,this.serializer)}Du(t){return new wC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class gI extends rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof ih,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new tC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new fT((a=>ih.mi(a,i)),this.serializer)}}class vm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>r0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=fI.bind(null,this.syncEngine),await KC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new XC})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=(function(c){return new DC(c)})(t.databaseInfo);return(function(c,d,p,_){return new xC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new kC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>r0(this.syncEngine,i,0)),(function(){return Wv.v()?new Wv:new RC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const S=new eI(l,c,d,p,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);rt(Gr,"RemoteStore shutting down."),a.Ea.add(5),await Kl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class xT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ir="FirestoreClient";class pI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=eg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Gd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(ir,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await dT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function o0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await yI(r);rt(ir,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>e0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>e0(t.remoteStore,l))),r._onlineComponents=t}async function yI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(ir,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new rh)}}else rt(ir,"Using default OfflineComponentProvider"),await Gd(r,new gI(void 0));return r._offlineComponents}async function UT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(ir,"Using user provided OnlineComponentProvider"),await o0(r,r._uninitializedComponentsProvider._online)):(rt(ir,"Using default OnlineComponentProvider"),await o0(r,new vm))),r._onlineComponents}function _I(r){return UT(r).then((t=>t.syncEngine))}async function Em(r){const t=await UT(r),i=t.eventManager;return i.onListen=nI.bind(null,t.syncEngine),i.onUnlisten=rI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=iI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=aI.bind(null,t.syncEngine),i}function vI(r,t,i={}){const a=new $s;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new xT({next:M=>{A.Nu(),d.enqueueAndForget((()=>bT(c,S)));const Q=M.docs.has(p);!Q&&M.fromCache?y.reject(new st(X.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&M.fromCache&&_&&_.source==="server"?y.reject(new st(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new wT(mh(p.path),A,{includeMetadataChanges:!0,qa:!0});return ST(c,S)})(await Em(r),r.asyncQueue,t,i,a))),a.promise}function kT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const l0=new Map;const LT="firestore.googleapis.com",u0=!0;class c0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LT,this.ssl=u0}else this.host=t.host,this.ssl=t.ssl??u0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<J2)throw new st(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}UR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new wR;switch(a.type){case"firstParty":return new NR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=l0.get(i);a&&(rt("ComponentProvider","Removing Datastore"),l0.delete(i),a.terminate())})(this),Promise.resolve()}}function EI(r,t,i,a={}){r=Pn(r,Sh);const l=no(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(O0(`https://${p}`),V0("Firestore",!0)),c.host!==LT&&c.host!==p&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Br(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=$e.MOCK_USER;else{y=Y1(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new st(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(S)}r._authCredentials=new RR(new SE(y,A))}}class uo{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new uo(this.firestore,t,this._query)}}class fe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fe(this.firestore,t,this._key)}toJSON(){return{type:fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Hl(i,fe._jsonSchema))return new fe(t,a||null,new ft(ee.fromString(i.referencePath)))}}fe._jsonSchemaVersion="firestore/documentReference/1.0",fe._jsonSchema={type:De("string",fe._jsonSchemaVersion),referencePath:De("string")};class Zs extends uo{constructor(t,i,a){super(t,i,mh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fe(this.firestore,null,new ft(t))}withConverter(t){return new Zs(this.firestore,t,this._path)}}function Oc(r,t,...i){if(r=Qe(r),bE("collection","path",t),r instanceof Sh){const a=ee.fromString(t,...i);return Sv(a),new Zs(r,null,a)}{if(!(r instanceof fe||r instanceof Zs))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return Sv(a),new Zs(r.firestore,null,a)}}function qa(r,t,...i){if(r=Qe(r),arguments.length===1&&(t=Um.newId()),bE("doc","path",t),r instanceof Sh){const a=ee.fromString(t,...i);return Av(a),new fe(r,null,new ft(a))}{if(!(r instanceof fe||r instanceof Zs))throw new st(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return Av(a),new fe(r.firestore,r instanceof Zs?r.converter:null,new ft(a))}}const h0="AsyncQueue";class f0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gT(this,"async_queue_retry"),this._c=()=>{const a=Fd();a&&rt(h0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new $s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;rt(h0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",d0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=tg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:d0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function d0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function m0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class sr extends Sh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new f0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new f0(t),this._firestoreClient=void 0,await t}}}function TI(r,t){const i=typeof r=="object"?r:k0(),a=typeof r=="string"?r:Zc,l=wm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Q1("firestore");c&&EI(l,...c)}return l}function rg(r){if(r._terminated)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||AI(r),r._firestoreClient}function AI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new QR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,kT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new pI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new st(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:De("string",Ln._jsonSchemaVersion),bytes:De("string")};class bh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wh{constructor(t){this._methodName=t}}class Ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:De("string",Ci._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class Ii{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,Ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ii(t.vectorValues);throw new st(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:De("string",Ii._jsonSchemaVersion),vectorValues:De("object")};const SI=/^__.*__$/;class bI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ar(t,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(t,this.data,i,this.fieldTransforms)}}class PT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ar(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function zT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class ag{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ag({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ah(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(zT(this.Ac)&&SI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class wI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}Cc(t,i,a,l=!1){return new ag({Ac:t,methodName:i,Dc:a,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rh(r){const t=r._freezeSettings(),i=Eh(r._databaseId);return new wI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function jT(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);lg("Data must be an object, but it was:",d,a);const p=BT(a,d);let _,y;if(c.merge)_=new An(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const M=Tm(t,S,i);if(!d.contains(M))throw new st(X.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);HT(A,M)||A.push(M)}_=new An(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new bI(new hn(p),_,y)}class Ch extends wh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ch}}class og extends wh{_toFieldTransform(t){return new _2(t.path,new Ml)}isEqual(t){return t instanceof og}}function RI(r,t,i,a){const l=r.Cc(1,t,i);lg("Data must be an object, but it was:",l,a);const c=[],d=hn.empty();rr(a,((_,y)=>{const A=ug(t,_,i);y=Qe(y);const S=l.yc(A);if(y instanceof Ch)c.push(A);else{const M=Xl(y,S);M!=null&&(c.push(A),d.set(A,M))}}));const p=new An(c);return new PT(d,p,l.fieldTransforms)}function CI(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Tm(t,a,i)],_=[l];if(c.length%2!=0)throw new st(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Tm(t,c[M])),_.push(c[M+1]);const y=[],A=hn.empty();for(let M=p.length-1;M>=0;--M)if(!HT(y,p[M])){const Q=p[M];let W=_[M];W=Qe(W);const it=d.yc(Q);if(W instanceof Ch)y.push(Q);else{const tt=Xl(W,it);tt!=null&&(y.push(Q),A.set(Q,tt))}}const S=new An(y);return new PT(A,S,d.fieldTransforms)}function II(r,t,i,a=!1){return Xl(i,r.Cc(a?4:3,t))}function Xl(r,t){if(qT(r=Qe(r)))return lg("Unsupported field value:",t,r),BT(r,t);if(r instanceof wh)return(function(a,l){if(!zT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Xl(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Qe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return g2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:nh(l.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(a instanceof Ci)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:sT(l.serializer,a._byteString)};if(a instanceof fe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ii)return(function(d,p){return{mapValue:{fields:{[ME]:{stringValue:xE},[Jc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Bm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${ch(a)}`)})(r,t)}function BT(r,t){const i={};return CE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rr(r,((a,l)=>{const c=Xl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function qT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Ci||r instanceof Ln||r instanceof fe||r instanceof wh||r instanceof Ii)}function lg(r,t,i){if(!qT(i)||!wE(i)){const a=ch(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Tm(r,t,i){if((t=Qe(t))instanceof bh)return t._internalPath;if(typeof t=="string")return ug(r,t);throw ah("Field path arguments must be of type string or ",r,!1,void 0,i)}const NI=new RegExp("[~\\*/\\[\\]]");function ug(r,t,i){if(t.search(NI)>=0)throw ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new bh(...t.split("."))._internalPath}catch{throw ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ah(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new st(X.INVALID_ARGUMENT,p+r+_)}function HT(r,t){return r.some((i=>i.isEqual(t)))}class FT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(GT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class DI extends FT{data(){return super.data()}}function GT(r,t){return typeof t=="string"?ug(r,t):t instanceof bh?t._internalPath:t._delegate._internalPath}function OI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class VI extends cg{}function g0(r,t,...i){let a=[];t instanceof cg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((_=>_ instanceof fg)).length,p=c.filter((_=>_ instanceof hg)).length;if(d>1||d>0&&p>0)throw new st(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class hg extends VI{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new hg(t,i,a)}_apply(t){const i=this._parse(t);return QT(t._query,i),new uo(t.firestore,t.converter,um(t._query,i))}_parse(t){const i=Rh(t.firestore);return(function(c,d,p,_,y,A,S){let M;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){y0(S,A);const W=[];for(const it of S)W.push(p0(_,c,it));M={arrayValue:{values:W}}}else M=p0(_,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||y0(S,A),M=II(p,d,S,A==="in"||A==="not-in");return Ne.create(y,A,M)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class fg extends cg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new fg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Wn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)QT(d,_),d=um(d,_)})(t._query,i),new uo(t.firestore,t.converter,um(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function p0(r,t,i){if(typeof(i=Qe(i))=="string"){if(i==="")throw new st(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qE(t)&&i.indexOf("/")!==-1)throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ee.fromString(i));if(!ft.isDocumentKey(a))throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Ov(r,new ft(a))}if(i instanceof fe)return Ov(r,i._key);throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(i)}.`)}function y0(r,t){if(!Array.isArray(r)||r.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function QT(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class MI{convertValue(t,i="none"){switch(er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return rr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Jc].arrayValue?.values?.map((a=>_e(a.doubleValue)));return new Ii(i)}convertGeoPoint(t){return new Ci(_e(t.latitude),_e(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=Ws(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ee.fromString(t);Ft(cT(a),9688,{name:t});const l=new Ol(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||ss(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function KT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class El{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jr extends FT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(GT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",jr._jsonSchema={type:De("string",jr._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Bc extends jr{data(t={}){return super.data(t)}}class Ya{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new El(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new El(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new El(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new El(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:xI(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function xI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}function _0(r){r=Pn(r,fe);const t=Pn(r.firestore,sr);return vI(rg(t),r._key).then((i=>XT(t,r,i)))}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:De("string",Ya._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class YT extends MI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new fe(this.firestore,null,i)}}function UI(r,t,i){r=Pn(r,fe);const a=Pn(r.firestore,sr),l=KT(r.converter,t);return Ih(a,[jT(Rh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,zn.none())])}function kI(r,t,i,...a){r=Pn(r,fe);const l=Pn(r.firestore,sr),c=Rh(l);let d;return d=typeof(t=Qe(t))=="string"||t instanceof bh?CI(c,"updateDoc",r._key,t,i,a):RI(c,"updateDoc",r._key,t),Ih(l,[d.toMutation(r._key,zn.exists(!0))])}function v0(r){return Ih(Pn(r.firestore,sr),[new qm(r._key,zn.none())])}function E0(r,t){const i=Pn(r.firestore,sr),a=qa(r),l=KT(r.converter,t);return Ih(i,[jT(Rh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,zn.exists(!1))]).then((()=>a))}function T0(r,...t){r=Qe(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||m0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(m0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof fe)d=Pn(r.firestore,sr),p=mh(r._key.path),c={next:_=>{t[a]&&t[a](XT(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=Pn(r,uo);d=Pn(_.firestore,sr),p=_._query;const y=new YT(d);c={next:A=>{t[a]&&t[a](new Ya(d,y,_,A))},error:t[a+1],complete:t[a+2]},OI(r._query)}return(function(y,A,S,M){const Q=new xT(M),W=new wT(A,Q,S);return y.asyncQueue.enqueueAndForget((async()=>ST(await Em(y),W))),()=>{Q.Nu(),y.asyncQueue.enqueueAndForget((async()=>bT(await Em(y),W)))}})(rg(d),p,l,c)}function Ih(r,t){return(function(a,l){const c=new $s;return a.asyncQueue.enqueueAndForget((async()=>oI(await _I(a),l,c))),c.promise})(rg(r),t)}function XT(r,t,i){const a=i.docs.get(t._key),l=new YT(r);return new jr(r,l,t._key,a,new El(i.hasPendingWrites,i.fromCache),t.converter)}function Qd(){return new og("serverTimestamp")}(function(t,i=!0){(function(l){ro=l})(io),Xa(new qr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new sr(new CR(a.getProvider("auth-internal")),new DR(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new st(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ys(_v,vv,t),Ys(_v,vv,"esm2020")})();const LI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),A0=r=>{const t=PI(r);return t.charAt(0).toUpperCase()+t.slice(1)},$T=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),zI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var jI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BI=Wt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>Wt.createElement("svg",{ref:_,...jI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:$T("lucide",l),...!c&&!zI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Wt.createElement(y,A)),...Array.isArray(c)?c:[c]]));const fn=(r,t)=>{const i=Wt.forwardRef(({className:a,...l},c)=>Wt.createElement(BI,{ref:c,iconNode:t,className:$T(`lucide-${LI(A0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=A0(r),i};const qI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],S0=fn("calendar",qI);const HI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],FI=fn("circle-check",HI);const GI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],QI=fn("circle",GI);const KI=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],YI=fn("folder-plus",KI);const XI=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],$I=fn("folder",XI);const ZI=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],JI=fn("funnel",ZI);const WI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],tN=fn("image",WI);const eN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],nN=fn("list",eN);const iN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sN=fn("lock",iN);const rN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aN=fn("log-out",rN);const oN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kd=fn("plus",oN);const lN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uN=fn("search",lN);const cN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],b0=fn("trash-2",cN);const hN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],fN=fn("video",hN),dN={apiKey:"AIzaSyDNS6_ckh2s0xcvohH0r76RH50-zFsB7sQ",authDomain:"my-lifelog-app.firebaseapp.com",projectId:"my-lifelog-app",storageBucket:"my-lifelog-app.firebasestorage.app",messagingSenderId:"15182730406",appId:"1:15182730406:web:cc3f5ca9caae618437d067",measurementId:"G-30SSP7BHLW"},Xi="my-local-app",ZT=U0(dN),Yd=SR(ZT),$i=TI(ZT),mN=({isSetup:r,onSubmit:t})=>{const[i,a]=Wt.useState(""),[l,c]=Wt.useState(""),[d,p]=Wt.useState(""),_=y=>{if(y.preventDefault(),p(""),i.length!==6||!/^\d+$/.test(i)){p(" 6 ");return}if(r&&i!==l){p("");return}t(i)};return B.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:B.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md text-center",children:[B.jsx("div",{className:"mb-6 flex justify-center",children:B.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:B.jsx(sN,{className:"w-8 h-8 text-blue-600"})})}),B.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:r?"":""}),B.jsx("p",{className:"text-slate-500 mb-6 text-sm",children:r?" 6 ":""}),B.jsxs("form",{onSubmit:_,className:"space-y-4",children:[B.jsx("input",{type:"password",maxLength:6,value:i,onChange:y=>a(y.target.value),className:"w-full text-center text-3xl tracking-widest py-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors",placeholder:""}),r&&B.jsx("input",{type:"password",maxLength:6,value:l,onChange:y=>c(y.target.value),className:"w-full text-center text-3xl tracking-widest py-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors mt-4",placeholder:""}),d&&B.jsx("p",{className:"text-red-500 text-sm font-medium",children:d}),B.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-all transform active:scale-95 shadow-lg mt-4",children:r?"":""})]})]})})};function gN(){const[r,t]=Wt.useState(null),[i,a]=Wt.useState("loading"),[l,c]=Wt.useState([]),[d,p]=Wt.useState([]),[_,y]=Wt.useState(null),[A,S]=Wt.useState(""),[M,Q]=Wt.useState("all"),[W,it]=Wt.useState("all"),[tt,dt]=Wt.useState(!1),[mt,pt]=Wt.useState("text"),[vt,Lt]=Wt.useState({title:"",content:"",imageUrl:"",date:"",videoUrl:"",todoItems:[]}),[Ut,I]=Wt.useState(!1),[b,C]=Wt.useState(""),[x,D]=Wt.useState(null);Wt.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await uw(Yd,__initial_auth_token):await sw(Yd))();const Z=fw(Yd,J=>{t(J),J||a("loading")});return()=>Z()},[]),Wt.useEffect(()=>{if(!r)return;(async()=>{try{const Z=qa($i,"artifacts",Xi,"users",r.uid,"settings","security");(await _0(Z)).exists()?a("lock"):a("setup")}catch(Z){console.error("Error checking PIN settings:",Z)}})()},[r]),Wt.useEffect(()=>{if(!r||i!=="authenticated")return;const N=g0(Oc($i,"artifacts",Xi,"users",r.uid,"categories")),Z=T0(N,ut=>{const Rt=ut.docs.map(ne=>({id:ne.id,...ne.data()}));c(Rt)},ut=>console.error("Cat sync error",ut)),J=g0(Oc($i,"artifacts",Xi,"users",r.uid,"cards")),lt=T0(J,ut=>{const Rt=ut.docs.map(ne=>({id:ne.id,...ne.data()}));p(Rt)},ut=>console.error("Card sync error",ut));return()=>{Z(),lt()}},[r,i]);const k=async N=>{if(!r)return;const Z=qa($i,"artifacts",Xi,"users",r.uid,"settings","security");if(i==="setup")await UI(Z,{pin:N,createdAt:Qd()}),a("authenticated");else if(i==="lock"){const J=await _0(Z);J.exists()&&J.data().pin===N?a("authenticated"):alert("")}},w=async N=>{N.preventDefault(),b.trim()&&(await E0(Oc($i,"artifacts",Xi,"users",r.uid,"categories"),{name:b,parentId:x||null,createdAt:Qd()}),C(""),I(!1),D(null))},te=async(N,Z)=>{Z.stopPropagation(),confirm("()")&&await v0(qa($i,"artifacts",Xi,"users",r.uid,"categories",N))},de=async N=>{N.preventDefault();const Z={type:mt,categoryId:_,title:vt.title,isCompleted:!1,createdAt:Qd(),...vt};mt!=="text"&&delete Z.imageUrl,mt!=="schedule"&&delete Z.date,mt!=="video"&&delete Z.videoUrl,mt!=="todo"&&delete Z.todoItems,await E0(Oc($i,"artifacts",Xi,"users",r.uid,"cards"),Z),dt(!1),ct()},F=async N=>{await kI(qa($i,"artifacts",Xi,"users",r.uid,"cards",N.id),{isCompleted:!N.isCompleted})},nt=async N=>{confirm("")&&await v0(qa($i,"artifacts",Xi,"users",r.uid,"cards",N))},ct=()=>{Lt({title:"",content:"",imageUrl:"",date:"",videoUrl:"",todoItems:[]})},Nt=(N=null,Z=0)=>{const J=l.filter(lt=>lt.parentId===N);return J.length===0?null:B.jsx("ul",{className:`pl-${Z===0?"0":"4"} space-y-1`,children:J.map(lt=>B.jsxs("li",{children:[B.jsxs("div",{className:`group flex items-center justify-between p-2 rounded-lg cursor-pointer transition-colors ${_===lt.id?"bg-blue-100 text-blue-700":"hover:bg-slate-100 text-slate-700"}`,onClick:()=>y(lt.id),children:[B.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[B.jsx($I,{className:"w-4 h-4 flex-shrink-0"}),B.jsx("span",{className:"truncate text-sm font-medium",children:lt.name})]}),B.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[B.jsx("button",{onClick:ut=>{ut.stopPropagation(),D(lt.id),I(!0)},className:"p-1 hover:bg-slate-200 rounded",title:"",children:B.jsx(Kd,{className:"w-3 h-3"})}),B.jsx("button",{onClick:ut=>te(lt.id,ut),className:"p-1 hover:bg-red-100 text-red-500 rounded",title:"",children:B.jsx(b0,{className:"w-3 h-3"})})]})]}),Nt(lt.id,Z+1)]},lt.id))})},zt=Wt.useMemo(()=>d.filter(N=>{const Z=N.title.toLowerCase().includes(A.toLowerCase())||N.content&&N.content.toLowerCase().includes(A.toLowerCase()),J=_?N.categoryId===_:!0,lt=M==="all"?!0:N.type===M;let ut=!0;return W==="completed"&&(ut=N.isCompleted),W==="pending"&&(ut=!N.isCompleted),Z&&J&&lt&&ut}),[d,A,_,M,W]),V=N=>{if(!N)return"";const Z=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,J=N.match(Z);return J&&J[2].length===11?`https://www.youtube.com/embed/${J[2]}`:null};return i==="loading"?B.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-50 text-slate-500",children:"..."}):i==="setup"||i==="lock"?B.jsx(mN,{isSetup:i==="setup",onSubmit:k}):B.jsxs("div",{className:"flex h-screen w-full bg-slate-50 overflow-hidden text-slate-900 font-sans",children:[B.jsxs("aside",{className:"w-64 bg-white border-r border-slate-200 flex flex-col flex-shrink-0",children:[B.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[B.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"My LifeLog"}),B.jsx("button",{onClick:()=>{a("lock")},title:"",children:B.jsx(aN,{className:"w-5 h-5 text-slate-400 hover:text-slate-600"})})]}),B.jsxs("div",{className:"flex-1 overflow-y-auto p-3 custom-scrollbar",children:[B.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer mb-2 font-semibold ${_?"text-slate-600 hover:bg-slate-100":"bg-blue-50 text-blue-600"}`,onClick:()=>y(null),children:[B.jsx(YI,{className:"w-4 h-4"}),B.jsx("span",{children:""})]}),Nt()]}),B.jsx("div",{className:"p-4 border-t border-slate-200",children:B.jsxs("button",{onClick:()=>{D(null),I(!0)},className:"w-full flex items-center justify-center gap-2 bg-slate-100 hover:bg-slate-200 text-slate-700 py-2 rounded-lg transition-colors text-sm font-medium",children:[B.jsx(Kd,{className:"w-4 h-4"})," "]})})]}),B.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[B.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center px-6 justify-between gap-4",children:[B.jsxs("div",{className:"flex items-center gap-3 flex-1 max-w-2xl bg-slate-100 px-4 py-2 rounded-full focus-within:ring-2 ring-blue-500/20 transition-all",children:[B.jsx(uN,{className:"w-5 h-5 text-slate-400"}),B.jsx("input",{type:"text",placeholder:"...",className:"bg-transparent border-none outline-none w-full text-slate-700 placeholder-slate-400",value:A,onChange:N=>S(N.target.value)})]}),B.jsxs("button",{onClick:()=>dt(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full font-medium shadow-md shadow-blue-200 transition-all active:scale-95",children:[B.jsx(Kd,{className:"w-5 h-5"}),B.jsx("span",{className:"hidden sm:inline",children:""})]})]}),B.jsxs("div",{className:"px-6 py-4 flex flex-wrap items-center gap-3",children:[B.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1.5 rounded-lg border border-slate-200 shadow-sm text-sm",children:[B.jsx(JI,{className:"w-4 h-4 text-slate-500"}),B.jsx("span",{className:"text-slate-500",children:":"}),B.jsxs("select",{value:W,onChange:N=>it(N.target.value),className:"bg-transparent outline-none text-slate-700 font-medium cursor-pointer",children:[B.jsx("option",{value:"all",children:""}),B.jsx("option",{value:"completed",children:""}),B.jsx("option",{value:"pending",children:""})]})]}),B.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1.5 rounded-lg border border-slate-200 shadow-sm text-sm",children:[B.jsx("span",{className:"text-slate-500",children:":"}),B.jsxs("select",{value:M,onChange:N=>Q(N.target.value),className:"bg-transparent outline-none text-slate-700 font-medium cursor-pointer",children:[B.jsx("option",{value:"all",children:""}),B.jsx("option",{value:"text",children:""}),B.jsx("option",{value:"schedule",children:""}),B.jsx("option",{value:"video",children:""}),B.jsx("option",{value:"todo",children:""})]})]})]}),B.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50",children:B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[zt.map(N=>B.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden flex flex-col transition-all hover:shadow-md ${N.isCompleted?"opacity-60 grayscale-[0.5]":""}`,children:[B.jsxs("div",{className:"p-3 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[B.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500",children:[N.type==="text"&&B.jsxs(B.Fragment,{children:[B.jsx(tN,{className:"w-4 h-4 text-blue-500"})," "]}),N.type==="schedule"&&B.jsxs(B.Fragment,{children:[B.jsx(S0,{className:"w-4 h-4 text-orange-500"})," "]}),N.type==="video"&&B.jsxs(B.Fragment,{children:[B.jsx(fN,{className:"w-4 h-4 text-red-500"})," "]}),N.type==="todo"&&B.jsxs(B.Fragment,{children:[B.jsx(nN,{className:"w-4 h-4 text-green-500"})," "]})]}),B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("button",{onClick:()=>F(N),className:`p-1 rounded-full transition-colors ${N.isCompleted?"text-green-600 bg-green-100":"text-slate-300 hover:text-green-600 hover:bg-green-50"}`,title:"",children:N.isCompleted?B.jsx(FI,{className:"w-5 h-5"}):B.jsx(QI,{className:"w-5 h-5"})}),B.jsx("button",{onClick:()=>nt(N.id),className:"text-slate-400 hover:text-red-500 p-1",children:B.jsx(b0,{className:"w-4 h-4"})})]})]}),B.jsxs("div",{className:"p-4 flex-1 flex flex-col gap-3",children:[B.jsx("h3",{className:`font-bold text-lg leading-tight ${N.isCompleted?"line-through text-slate-500":"text-slate-800"}`,children:N.title}),N.type==="text"&&B.jsxs(B.Fragment,{children:[N.imageUrl&&B.jsx("img",{src:N.imageUrl,alt:"card attachment",className:"w-full h-32 object-cover rounded-md mb-2 bg-slate-100"}),B.jsx("p",{className:"text-sm text-slate-600 whitespace-pre-wrap",children:N.content})]}),N.type==="schedule"&&B.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-100",children:[B.jsxs("div",{className:"flex items-center gap-2 text-orange-700 font-medium mb-1",children:[B.jsx(S0,{className:"w-4 h-4"}),N.date?new Date(N.date).toLocaleString("zh-TW"):""]}),B.jsx("p",{className:"text-sm text-slate-600 mt-2",children:N.content})]}),N.type==="video"&&B.jsx("div",{className:"rounded-lg overflow-hidden bg-black aspect-video relative",children:V(N.videoUrl)?B.jsx("iframe",{src:V(N.videoUrl),className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):B.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-xs",children:B.jsx("a",{href:N.videoUrl,target:"_blank",className:"underline",children:""})})}),N.type==="todo"&&B.jsx("ul",{className:"space-y-2",children:N.todoItems&&N.todoItems.map((Z,J)=>B.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[B.jsx("div",{className:"mt-0.5 w-4 h-4 rounded border border-slate-300 flex items-center justify-center",children:B.jsx("div",{className:"w-2 h-2 bg-slate-300 rounded-sm"})}),B.jsx("span",{className:"flex-1",children:Z.text})]},J))})]})]},N.id)),zt.length===0&&B.jsx("div",{className:"col-span-full py-12 text-center text-slate-400",children:B.jsx("p",{children:""})})]})})]}),Ut&&B.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:B.jsxs("div",{className:"bg-white rounded-xl p-6 w-96 shadow-2xl",children:[B.jsx("h3",{className:"text-lg font-bold mb-4",children:x?"":""}),B.jsxs("form",{onSubmit:w,children:[B.jsx("input",{autoFocus:!0,type:"text",value:b,onChange:N=>C(N.target.value),placeholder:"",className:"w-full border border-slate-300 rounded-lg p-2 mb-4 focus:ring-2 ring-blue-500 outline-none"}),B.jsxs("div",{className:"flex justify-end gap-2",children:[B.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),B.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:""})]})]})]})}),tt&&B.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:B.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",children:[B.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800",children:""}),B.jsxs("form",{onSubmit:de,className:"space-y-4",children:[B.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:["text","schedule","video","todo"].map(N=>B.jsxs("button",{type:"button",onClick:()=>pt(N),className:`py-2 px-1 rounded-lg border text-sm font-medium transition-all ${mt===N?"border-blue-500 bg-blue-50 text-blue-700":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[N==="text"&&"",N==="schedule"&&"",N==="video"&&"",N==="todo"&&""]},N))}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),B.jsx("input",{required:!0,type:"text",value:vt.title,onChange:N=>Lt({...vt,title:N.target.value}),className:"w-full border border-slate-300 rounded-lg p-2 focus:ring-2 ring-blue-500 outline-none",placeholder:"..."})]}),mt==="text"&&B.jsxs(B.Fragment,{children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:" ()"}),B.jsx("input",{type:"url",value:vt.imageUrl,onChange:N=>Lt({...vt,imageUrl:N.target.value}),className:"w-full border border-slate-300 rounded-lg p-2 focus:ring-2 ring-blue-500 outline-none",placeholder:"https://..."})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),B.jsx("textarea",{value:vt.content,onChange:N=>Lt({...vt,content:N.target.value}),className:"w-full border border-slate-300 rounded-lg p-2 h-24 focus:ring-2 ring-blue-500 outline-none",placeholder:"..."})]})]}),mt==="schedule"&&B.jsxs(B.Fragment,{children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),B.jsx("input",{required:!0,type:"datetime-local",value:vt.date,onChange:N=>Lt({...vt,date:N.target.value}),className:"w-full border border-slate-300 rounded-lg p-2 focus:ring-2 ring-blue-500 outline-none"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),B.jsx("textarea",{value:vt.content,onChange:N=>Lt({...vt,content:N.target.value}),className:"w-full border border-slate-300 rounded-lg p-2 h-20 focus:ring-2 ring-blue-500 outline-none"})]})]}),mt==="video"&&B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:" (YouTube)"}),B.jsx("input",{required:!0,type:"url",value:vt.videoUrl,onChange:N=>Lt({...vt,videoUrl:N.target.value}),className:"w-full border border-slate-300 rounded-lg p-2 focus:ring-2 ring-blue-500 outline-none",placeholder:"https://www.youtube.com/watch?v=..."})]}),mt==="todo"&&B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:" ()"}),B.jsx("textarea",{value:vt.content,onChange:N=>{const Z=N.target.value.split(`
`).filter(J=>J.trim()).map(J=>({text:J,done:!1}));Lt({...vt,content:N.target.value,todoItems:Z})},className:"w-full border border-slate-300 rounded-lg p-2 h-32 focus:ring-2 ring-blue-500 outline-none",placeholder:`

`})]}),B.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-slate-100",children:[B.jsx("button",{type:"button",onClick:()=>dt(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),B.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:""})]})]})]})})]})}L1.createRoot(document.getElementById("root")).render(B.jsx(Wt.StrictMode,{children:B.jsx(gN,{})}));
